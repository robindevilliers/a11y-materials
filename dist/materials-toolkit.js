/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/html-format/index.js":
/*!*******************************************!*\
  !*** ./node_modules/html-format/index.js ***!
  \*******************************************/
/***/ ((module) => {

const tagName = String.raw`[A-Za-z][^/\s>]*`;

// Preserve strings in templates and such
// Avoid apostrophes and unintentional captures
const doubleQuotedString = String.raw`(?<!\w)"(?:\\[^<>\n]|[^\\"<>\n])*"(?!\w)`;
const singleQuotedString = String.raw`(?<!\w)'(?:\\[^<>\n]|[^\\'<>\n])*'(?!\w)`;
const quotedString = String.raw`${doubleQuotedString}|${singleQuotedString}`;

const quotedAttrValue = String.raw`"(?<quotedAttrValue>[^"]*)"`;
const singleQuotedAttrValue = String.raw`'(?<singleQuotedAttrValue>[^']*)'`;
// https://mothereff.in/unquoted-attributes
const unquotedAttrValue = String.raw`(?<unquotedAttrValue>[^\s"'\`=<>]+)`;

const attrName = String.raw`[^=\s>/"']+(?=[=>\s]|$)`;
const attrValue = String.raw`${quotedAttrValue}|${singleQuotedAttrValue}|${unquotedAttrValue}`;
const attrNameValue = String.raw`(?<attrName>${attrName})(?:\s*=\s*(?:${attrValue}))?`;

// Make sure not to swallow the closing slash if one exists
const attrText = String.raw`${quotedString}|[^\s>]*[^\s>/]|[^\s>]*/(?!\s*>)`;

const attr = String.raw`(?<attrSpace>\s*)(?:${attrNameValue}|(?<attrText>${attrText}))`;

const tokens = {
  comment: String.raw`<!--.*?-->`,
  dtd: String.raw`<![^>]+>`,
  startTag: String.raw`<(?<startTagName>${tagName})(?<attrs>(?:${attr})*)\s*(?<closingSlash>/?)\s*>`,
  endTag: String.raw`</(?<endTagName>${tagName})\s*>`,
  space: String.raw`\s+`,
  text: String.raw`[^<\s"']+|${quotedString}|['"]`,
  wildcard: String.raw`.`,
};

const grammar = Object.entries(tokens)
  .map(([k, v]) => `(?<${k}>${v})`)
  .join("|");

/**
 *
 * @param {RegExp} lexer
 * @param {string} s
 */
function* getTokens(lexer, s) {
  let res;
  let { lastIndex } = lexer;
  while ((res = lexer.exec(s))) {
    yield /** @type {RegExpExecArray & { groups: Record<string, string> }} */ (
      res
    );
    ({ lastIndex } = lexer);
  }
  if (lastIndex != s.length) throw new Error("Failed to parse string");
}

const voidTags = new Set([
  "area",
  "base",
  "basefont",
  "bgsound",
  "br",
  "col",
  "command",
  "embed",
  "frame",
  "hr",
  "image",
  "img",
  "input",
  "keygen",
  "link",
  "meta",
  "param",
  "source",
  "track",
  "wbr",
]);

function format(/** @type {string} */ html, indent = "  ", width = 80) {
  const lexer = new RegExp(grammar, "gys");
  const attrLexer = new RegExp(attr, "gy");

  /** @type {string[]} */
  const output = [];

  /** @type {string | null} */
  let specialElement = null;
  let level = 0;

  let lineLength = 0;
  let span = "";
  let spanLevel = 0;
  let lastSpace = "";

  const flushOutput = () => {
    if (lastSpace && lastSpace != "\n") {
      const newline = span.indexOf("\n");
      const len = newline == -1 ? span.length : newline;
      if (lineLength + lastSpace.length + len > width) lastSpace = "\n";
    }

    const ind = lastSpace == "\n" && span ? indent.repeat(spanLevel) : "";
    const out = `${lastSpace}${ind}${span}`;

    if (out) {
      const pos = out.lastIndexOf("\n");
      if (pos == -1) lineLength += out.length;
      else lineLength = out.length - pos - 1;
      output.push(out);
    }

    span = lastSpace = "";
  };

  const addOutput = (/** @type {string[]} */ ...args) => {
    for (const s of args) {
      if (!specialElement && /^\s+$/.test(s)) {
        flushOutput();
        lastSpace = s;
      } else {
        if (!span) spanLevel = level;
        span += s;
      }
    }
  };

  for (const token of getTokens(lexer, html)) {
    // For testing
    if (/** @type {any} */ (format).__strict && token.groups.wildcard)
      throw new Error("Unexpected wildcard");

    if (token.groups.endTag) {
      const tagName = token.groups.endTagName.toLowerCase();
      if (tagName == specialElement) specialElement = null;
      if (!specialElement) {
        --level;
        addOutput(`</${tagName}>`);
      }
    }

    if (!specialElement) {
      if (token.groups.space) {
        addOutput(...(token[0].match(/\n/g)?.slice(0, 2) ?? [" "]));
      } else if (
        token.groups.comment ||
        token.groups.dtd ||
        token.groups.text ||
        token.groups.wildcard
      ) {
        addOutput(token[0]);
      } else if (token.groups.startTag) {
        const tagName = token.groups.startTagName.toLowerCase();

        addOutput(`<${tagName}`);

        ++level;

        if (token.groups.attrs) {
          let { lastIndex } = attrLexer;
          let attrToken;
          let lastToken;
          while (
            (attrToken =
              /** @type {RegExpExecArray & { groups: Record<string, string> }} */ (
                attrLexer.exec(token.groups.attrs)
              ))
          ) {
            ({ lastIndex } = attrLexer);

            // For testing
            if (
              /** @type {any} */ (format).__strict &&
              attrToken.groups.attrText
            )
              throw new Error("Unexpected attr text");

            if (attrToken.groups.attrText) {
              if (attrToken.groups.attrSpace)
                addOutput(/\n/.test(attrToken.groups.attrSpace) ? "\n" : " ");
              addOutput(attrToken.groups.attrText);
            } else {
              if (attrToken.groups.attrSpace || !lastToken?.groups.attrText)
                addOutput(/\n/.test(attrToken.groups.attrSpace) ? "\n" : " ");
              addOutput(
                `${attrToken.groups.attrName}${
                  attrToken.groups.quotedAttrValue
                    ? `="${attrToken.groups.quotedAttrValue}"`
                    : attrToken.groups.singleQuotedAttrValue
                    ? `='${attrToken.groups.singleQuotedAttrValue}'`
                    : attrToken.groups.unquotedAttrValue
                    ? `=${attrToken.groups.unquotedAttrValue}`
                    : ""
                }`
              );
            }

            lastToken = attrToken;
          }
          if (lastIndex != token.groups.attrs.length)
            throw new Error("Failed to parse attributes");
        }

        const hasClosingSlash = Boolean(token.groups.closingSlash);

        addOutput(hasClosingSlash ? " />" : ">");

        if (hasClosingSlash || voidTags.has(tagName)) --level;
        else if (["pre", "textarea", "script", "style"].includes(tagName))
          specialElement = tagName;
      }
    } else addOutput(token[0]);
  }

  // Flush remaining output
  flushOutput();

  let newline = false;
  while (/^\s+$/.test(output[output.length - 1])) {
    const last = /** @type {string} */ (output.pop());
    if (/\n/.test(last)) newline = true;
  }

  if (newline) output.push("\n");

  return output.join("");
}

format.default = format;
module.exports = format;


/***/ }),

/***/ "./lib/ClassManager.ts":
/*!*****************************!*\
  !*** ./lib/ClassManager.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const StringBuffer_1 = __webpack_require__(/*! ./utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
class ClassManager {
    constructor(classMappings) {
        this.classMappings = classMappings;
        this.classes = [];
    }
    toString() {
        const buffer = new StringBuffer_1.StringBuffer();
        let latch = false;
        for (const str of this.classes) {
            const actual = str.trim();
            if (actual.length > 0) {
                if (latch) {
                    buffer.append(" ");
                }
                const substitute = this.classMappings.get(actual);
                if (substitute) {
                    buffer.append(substitute);
                }
                else {
                    buffer.append(actual);
                }
                latch = true;
            }
        }
        return buffer.toString();
    }
    append(value, prefix, def) {
        this.classes.push(value ? prefix + value.trim().toLowerCase() : def);
    }
}
exports["default"] = ClassManager;


/***/ }),

/***/ "./lib/Errors.ts":
/*!***********************!*\
  !*** ./lib/Errors.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FieldError = exports.ObjectError = exports.Errors = void 0;
class Errors {
    constructor(errors = []) {
        this.errors = errors;
    }
    hasErrors() {
        return this.errors.length !== 0;
    }
    getAllErrors() {
        return this.errors;
    }
    getErrorCount() {
        return this.errors.length;
    }
    getGlobalError() {
        return this.errors.find(err => !(err instanceof FieldError));
    }
    getGlobalErrors() {
        return this.errors.filter(err => !(err instanceof FieldError));
    }
    hasGlobalErrors() {
        return this.errors.filter(err => !(err instanceof FieldError)).length !== 0;
    }
    getGlobalErrorsCount() {
        return this.errors.filter(err => !(err instanceof FieldError)).length;
    }
    getFieldError(name) {
        return this.errors.find(err => err instanceof FieldError && (name === undefined || err.getField() === name));
    }
    getFieldErrors(name) {
        return this.errors.filter(err => err instanceof FieldError && (name === undefined || err.getField() === name));
    }
    hasFieldErrors(name) {
        return this.errors.filter(err => err instanceof FieldError && (name === undefined || err.getField() === name)).length !== 0;
    }
    getFieldErrorCount(name) {
        return this.errors.filter(err => err instanceof FieldError && (name === undefined || err.getField() === name)).length;
    }
}
exports.Errors = Errors;
class ObjectError {
    constructor(objectName, defaultMessage) {
        this.objectName = objectName;
        this.defaultMessage = defaultMessage;
    }
    getObjectName() {
        return this.objectName;
    }
    getDefaultMessage() {
        return this.defaultMessage;
    }
}
exports.ObjectError = ObjectError;
class FieldError extends ObjectError {
    constructor(objectName, field, rejectedValue, defaultMessage) {
        super(objectName, defaultMessage);
        this.field = field;
        this.rejectedValue = rejectedValue;
    }
    getField() {
        return this.field;
    }
    getRejectedValue() {
        return this.rejectedValue;
    }
}
exports.FieldError = FieldError;


/***/ }),

/***/ "./lib/RenderingEngine.ts":
/*!********************************!*\
  !*** ./lib/RenderingEngine.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ./parser */ "./lib/parser.ts");
const generate_id_1 = __importDefault(__webpack_require__(/*! ./utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const bindings_1 = __webpack_require__(/*! ./bindings */ "./lib/bindings/index.ts");
const FreemarkerError_1 = __webpack_require__(/*! ./freemarker/FreemarkerError */ "./lib/freemarker/FreemarkerError.ts");
const fs_1 = __importDefault(__webpack_require__(/*! fs */ "fs"));
const node_path_1 = __importDefault(__webpack_require__(/*! node:path */ "node:path"));
const freemarker_1 = __webpack_require__(/*! ./freemarker */ "./lib/freemarker.ts");
const StringBuffer_1 = __webpack_require__(/*! ./utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
class RenderingEngine {
    constructor(file, classMappings, substitutions, dir) {
        this.file = file;
        this.classMappings = classMappings;
        this.substitutions = substitutions;
        this.dir = dir;
    }
    renderElement(element, parent) {
        if (!element.attributes.id) {
            element.attributes.id = (0, generate_id_1.default)();
        }
        const binder = (0, bindings_1.findBinder)(element.name);
        if (binder === undefined) {
            throw new FreemarkerError_1.FreemarkerError("No binding found for " + element.name);
        }
        return binder.render(element, this.classMappings, this, this.substitutions, parent);
    }
    renderChildren(element) {
        const content = new StringBuffer_1.StringBuffer();
        element.children.forEach(child => {
            if ((0, parser_1.isText)(child)) {
                content.append(child.text);
            }
            else if ((0, parser_1.isElement)(child)) {
                content.append(this.renderElement(child, element));
            }
        });
        return content.toString();
    }
    render(templateName, data) {
        const template = fs_1.default.readFileSync(node_path_1.default.join(process.env.INIT_CWD, this.dir, 'partials', templateName), 'utf8');
        try {
            return new freemarker_1.TemplateEngine().render(template, data);
        }
        catch (err) {
            throw new FreemarkerError_1.FreemarkerError(`Error processing ftl template '${templateName}'`, err);
        }
    }
}
exports["default"] = RenderingEngine;


/***/ }),

/***/ "./lib/bindings/AccordionBinder.ts":
/*!*****************************************!*\
  !*** ./lib/bindings/AccordionBinder.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class AccordionBinder {
    accept(name) {
        return name === 'accordion';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.flush = element.attributes.flush === "true";
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('accordion.ftl', data);
    }
}
exports["default"] = AccordionBinder;


/***/ }),

/***/ "./lib/bindings/AccordionItemBinder.ts":
/*!*********************************************!*\
  !*** ./lib/bindings/AccordionItemBinder.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const StringBuffer_1 = __webpack_require__(/*! ../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class AccordionItemBinder {
    accept(name) {
        return name === 'accordion-item';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const data = {};
        data.id = element.attributes.id;
        data.active = element.attributes.active === "true";
        data.singleActive = (parent === null || parent === void 0 ? void 0 : parent.attributes.singleActive) === "true";
        data.accordionId = parent === null || parent === void 0 ? void 0 : parent.attributes.id;
        data.size = element.attributes.size;
        const output = new StringBuffer_1.StringBuffer();
        element.children.forEach(child => {
            if ((0, parser_1.isText)(child)) {
                output.append(child.text);
            }
            else if ((0, parser_1.isElement)(child)) {
                if (child.name === 'accordion-item-header') {
                    data.header = renderingEngine.renderElement(child, element);
                }
                else {
                    output.append(renderingEngine.renderElement(child, element));
                }
            }
        });
        data.content = output.toString();
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.backgroundFlavour, 'bg-', '');
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('accordion-item.ftl', data);
    }
}
exports["default"] = AccordionItemBinder;


/***/ }),

/***/ "./lib/bindings/AccordionItemHeaderBinder.ts":
/*!***************************************************!*\
  !*** ./lib/bindings/AccordionItemHeaderBinder.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class AccordionItemHeaderBinder {
    accept(name) {
        return name === 'accordion-item-header';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const data = {};
        data.id = parent.attributes.id;
        data.active = (parent === null || parent === void 0 ? void 0 : parent.attributes.active) === "true";
        data.size = element.attributes.size;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        data.classes = classManager.toString();
        return renderingEngine.render('accordion-item-header.ftl', data);
    }
}
exports["default"] = AccordionItemHeaderBinder;


/***/ }),

/***/ "./lib/bindings/BackLinkBinder.ts":
/*!****************************************!*\
  !*** ./lib/bindings/BackLinkBinder.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class BackLinkBinder {
    accept(name) {
        return name === 'back-link';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.backLinkOnclick = "alert('clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('back-link.ftl', data);
    }
}
exports["default"] = BackLinkBinder;


/***/ }),

/***/ "./lib/bindings/BadgeBinder.ts":
/*!*************************************!*\
  !*** ./lib/bindings/BadgeBinder.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class BadgeBinder {
    accept(name) {
        return name === 'badge';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.size = element.attributes.size;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'badge-', 'badge-default');
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('badge.ftl', data);
    }
}
exports["default"] = BadgeBinder;


/***/ }),

/***/ "./lib/bindings/BrBinder.ts":
/*!**********************************!*\
  !*** ./lib/bindings/BrBinder.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class BrBinder {
    accept(name) {
        return name === 'br';
    }
    render(element, classMappings, renderingEngine) {
        return renderingEngine.render('br.ftl', {});
    }
}
exports["default"] = BrBinder;


/***/ }),

/***/ "./lib/bindings/ButtonBinder.ts":
/*!**************************************!*\
  !*** ./lib/bindings/ButtonBinder.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ButtonBinder {
    accept(name) {
        return name === 'button';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.size = element.attributes.size;
        data.disabled = null;
        data.content = renderingEngine.renderChildren(element);
        data.onclick = "alert('clicked'); event.preventDefault();";
        data.name = "_NAME_";
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.size, 'btn-', '');
        classManager.append(element.attributes.buttonFlavour, 'btn-', 'btn-default');
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('button.ftl', data);
    }
}
exports["default"] = ButtonBinder;


/***/ }),

/***/ "./lib/bindings/CardBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/CardBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const StringBuffer_1 = __webpack_require__(/*! ../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CardBinder {
    accept(name) {
        return name === 'card';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.isLink = !!element.attributes.link;
        const preserveLink = element.attributes.preserveLink === "true";
        data.link = preserveLink ? '/' + element.attributes.view : 'javascript:alert(&quot;link was clicked&quot;); event.preventDefault();';
        data.rel = '';
        data.target = '';
        const output = new StringBuffer_1.StringBuffer();
        element.children.forEach(child => {
            if ((0, parser_1.isText)(child)) {
                output.append(child.text);
            }
            else if ((0, parser_1.isElement)(child)) {
                if (child.name === 'card-header') {
                    data.headerContent = renderingEngine.renderElement(child, element);
                }
                else if (child.name === 'image') {
                    data.imageContent = renderingEngine.renderElement(child, element);
                }
                else if (child.name === 'card-body') {
                    data.bodyContent = renderingEngine.renderElement(child, element);
                }
                else if (child.name === 'card-footer') {
                    data.footerContent = renderingEngine.renderElement(child, element);
                }
            }
        });
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'card-', 'card-default');
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('card.ftl', data);
    }
}
exports["default"] = CardBinder;


/***/ }),

/***/ "./lib/bindings/CardBodyBinder.ts":
/*!****************************************!*\
  !*** ./lib/bindings/CardBodyBinder.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CardBodyBinder {
    accept(name) {
        return name === 'card-body';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('card-body.ftl', data);
    }
}
exports["default"] = CardBodyBinder;


/***/ }),

/***/ "./lib/bindings/CardFooterBinder.ts":
/*!******************************************!*\
  !*** ./lib/bindings/CardFooterBinder.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CardFooterBinder {
    accept(name) {
        return name === 'card-footer';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('card-footer.ftl', data);
    }
}
exports["default"] = CardFooterBinder;


/***/ }),

/***/ "./lib/bindings/CardHeaderBinder.ts":
/*!******************************************!*\
  !*** ./lib/bindings/CardHeaderBinder.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CardHeaderBinder {
    accept(name) {
        return name === 'card-header';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('card-header.ftl', data);
    }
}
exports["default"] = CardHeaderBinder;


/***/ }),

/***/ "./lib/bindings/CarouselBinder.ts":
/*!****************************************!*\
  !*** ./lib/bindings/CarouselBinder.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CarouselBinder {
    accept(name) {
        return name === 'carousel';
    }
    render(element, classMappings, renderingEngine) {
        const panels = element.children.filter(el => (0, parser_1.isElement)(el))
            .map(el => el)
            .filter(el => el.name === 'carousel-panel');
        let activeIndex = panels.findIndex(el => el.attributes.active === "true");
        if (activeIndex === -1 && panels.length) {
            panels[0].attributes.active = "true";
            activeIndex = 0;
        }
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        data.autoSlide = element.attributes.autoSlide === "true";
        data.controls = element.attributes.controls === "true";
        data.indicators = element.attributes.indicators === "true";
        data.numberOfIndicators = panels.length;
        data.activeIndex = activeIndex || 0;
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('carousel.ftl', data);
    }
}
exports["default"] = CarouselBinder;


/***/ }),

/***/ "./lib/bindings/CarouselPanelBinder.ts":
/*!*********************************************!*\
  !*** ./lib/bindings/CarouselPanelBinder.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CarouselPanelBinder {
    accept(name) {
        return name === 'carousel-panel';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        data.active = element.attributes.active === "true";
        data.interval = element.attributes.interval;
        data.src = "/public/img/" + element.attributes.src;
        data.carouselId = parent === null || parent === void 0 ? void 0 : parent.attributes.id;
        data.imageClasses = classMappings.get("carousel-image");
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('carousel-panel.ftl', data);
    }
}
exports["default"] = CarouselPanelBinder;


/***/ }),

/***/ "./lib/bindings/CellBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/CellBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CellBinder {
    accept(name) {
        return name === 'cell';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('cell.ftl', data);
    }
}
exports["default"] = CellBinder;


/***/ }),

/***/ "./lib/bindings/CloseWorkflowExecutedPanelBinder.ts":
/*!**********************************************************!*\
  !*** ./lib/bindings/CloseWorkflowExecutedPanelBinder.ts ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const Errors_1 = __webpack_require__(/*! ../Errors */ "./lib/Errors.ts");
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CloseWorkflowExecutedPanelBinder {
    accept(name) {
        return name === 'close-workflow-executed-panel';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.errors = new Errors_1.Errors([
            new Errors_1.FieldError("this", "username", "", "Invalid username supplied")
        ]);
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.workflow = "workflow:1";
        data.principal = "mr_username";
        data.closeOnclick = "alert('clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('close-workflow-executed-panel.ftl', data);
    }
}
exports["default"] = CloseWorkflowExecutedPanelBinder;


/***/ }),

/***/ "./lib/bindings/ColumnBinder.ts":
/*!**************************************!*\
  !*** ./lib/bindings/ColumnBinder.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ColumnBinder {
    accept(name) {
        return name === 'column';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        data.classes = classManager.toString();
        return renderingEngine.render('column.ftl', data);
    }
}
exports["default"] = ColumnBinder;


/***/ }),

/***/ "./lib/bindings/ConfirmWorkflowPanelBinder.ts":
/*!****************************************************!*\
  !*** ./lib/bindings/ConfirmWorkflowPanelBinder.ts ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const Errors_1 = __webpack_require__(/*! ../Errors */ "./lib/Errors.ts");
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ConfirmWorkflowPanelBinder {
    accept(name) {
        return name === 'confirm-workflow-panel';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.errors = new Errors_1.Errors([
            new Errors_1.FieldError("this", "username", "", "Invalid username supplied")
        ]);
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.workflow = "workflow:1";
        data.principal = "mr_username";
        data.confirmOnclick = "alert('clicked'); event.preventDefault();";
        data.cancelOnclick = "alert('clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('confirm-workflow-panel.ftl', data);
    }
}
exports["default"] = ConfirmWorkflowPanelBinder;


/***/ }),

/***/ "./lib/bindings/ConfirmationPanelBinder.ts":
/*!*************************************************!*\
  !*** ./lib/bindings/ConfirmationPanelBinder.ts ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ConfirmationPanelBinder {
    accept(name) {
        return name === 'confirmation-panel';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.submitOnclick = "alert('clicked'); event.preventDefault();";
        data.cancelOnclick = "alert('clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('confirmation-panel.ftl', data);
    }
}
exports["default"] = ConfirmationPanelBinder;


/***/ }),

/***/ "./lib/bindings/CookieConsentBinder.ts":
/*!*********************************************!*\
  !*** ./lib/bindings/CookieConsentBinder.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CookieConsentBinder {
    accept(name) {
        return name === 'cookie-consent';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.allowCookiesOnclick = "alert('clicked'); event.preventDefault();";
        data.privacyPolicyOnclick = "alert('clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('cookie-consent.ftl', data);
    }
}
exports["default"] = CookieConsentBinder;


/***/ }),

/***/ "./lib/bindings/DivBinder.ts":
/*!***********************************!*\
  !*** ./lib/bindings/DivBinder.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class DivBinder {
    accept(name) {
        return name === 'div';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('div.ftl', data);
    }
}
exports["default"] = DivBinder;


/***/ }),

/***/ "./lib/bindings/EmailBinder.ts":
/*!*************************************!*\
  !*** ./lib/bindings/EmailBinder.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class EmailBinder {
    accept(name) {
        return name === 'email';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('email.ftl', data);
    }
}
exports["default"] = EmailBinder;


/***/ }),

/***/ "./lib/bindings/EmailConfirmationLinkBinder.ts":
/*!*****************************************************!*\
  !*** ./lib/bindings/EmailConfirmationLinkBinder.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class EmailConfirmationLinkBinder {
    accept(name) {
        return name === 'email-confirmation-link';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = element.attributes.label;
        data.link = 'javascript:alert(&quot;link was clicked&quot;); event.preventDefault();';
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('email-confirmation-link.ftl', data);
    }
}
exports["default"] = EmailConfirmationLinkBinder;


/***/ }),

/***/ "./lib/bindings/EnumerationInputBinder.ts":
/*!************************************************!*\
  !*** ./lib/bindings/EnumerationInputBinder.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class EnumerationInputBinder {
    accept(name) {
        return name === 'enumeration-input';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const data = {};
        data.id = element.attributes.id;
        data.value = "";
        data.disabled = null;
        data.label = element.attributes.label;
        data.type = element.attributes.type;
        data.reference = element.attributes.reference;
        data.size = element.attributes.size;
        data.style = element.attributes.style;
        data.cardinality = element.attributes.cardinality;
        const values = element.children
            .filter(n => (0, parser_1.isElement)(n))
            .map(n => n)
            .filter(n => n.name === 'value');
        if (element.attributes.cardinality === 'MULTIPLE_SELECT') {
            data.value = values
                .filter(n => n.attributes.default === 'true')
                .map(n => n.attributes.key);
        }
        else {
            data.value = values
                .filter(n => n.attributes.default === 'true')
                .map(n => n.attributes.key)
                .find(n => true) || null;
        }
        data.panels = values.find(n => n.attributes.panel === 'true');
        data.values = values.map(value => ({
            key: value.attributes.key,
            label: value.attributes.label,
            panel: renderingEngine.renderElement(value, element)
        }));
        data.error = new Error("some error message");
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('enumeration-input.ftl', data);
    }
}
exports["default"] = EnumerationInputBinder;


/***/ }),

/***/ "./lib/bindings/ErrorSummaryBinder.ts":
/*!********************************************!*\
  !*** ./lib/bindings/ErrorSummaryBinder.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const Errors_1 = __webpack_require__(/*! ../Errors */ "./lib/Errors.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ErrorSummaryBinder {
    accept(name) {
        return name === 'error-summary';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.errors = new Errors_1.Errors();
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('error-summary.ftl', data);
    }
}
exports["default"] = ErrorSummaryBinder;


/***/ }),

/***/ "./lib/bindings/FakeMessageBinder.ts":
/*!*******************************************!*\
  !*** ./lib/bindings/FakeMessageBinder.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const Message_1 = __importDefault(__webpack_require__(/*! ../store/Message */ "./lib/store/Message.ts"));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
class FakeMessageBinder {
    accept(name) {
        return name === 'fake-message';
    }
    render(element, classMappings, renderingEngine) {
        Store_1.default.addMessage(new Message_1.default((0, generate_id_1.default)(), element.attributes.dateTime, (0, generate_id_1.default)(), element.attributes.kaseId, element.attributes.wizardId, element.attributes.workflowId, element.attributes.group, element.attributes.queue, element.attributes.principal, (0, generate_id_1.default)(), new Date().getTime()));
        return renderingEngine.renderChildren(element);
    }
}
exports["default"] = FakeMessageBinder;


/***/ }),

/***/ "./lib/bindings/FakePageBinder.ts":
/*!****************************************!*\
  !*** ./lib/bindings/FakePageBinder.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const Page_1 = __importDefault(__webpack_require__(/*! ../store/Page */ "./lib/store/Page.ts"));
class FakePageBinder {
    accept(name) {
        return name === 'fake-page';
    }
    render(element, classMappings, renderingEngine) {
        Store_1.default.addPage(new Page_1.default(element.attributes.name, element.attributes.version, element.attributes.group, element.attributes.title, element.attributes.description));
        return renderingEngine.renderChildren(element);
    }
}
exports["default"] = FakePageBinder;


/***/ }),

/***/ "./lib/bindings/FakeQueue.ts":
/*!***********************************!*\
  !*** ./lib/bindings/FakeQueue.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const Queue_1 = __importDefault(__webpack_require__(/*! ../store/Queue */ "./lib/store/Queue.ts"));
class FakeQueueBinder {
    accept(name) {
        return name === 'fake-queue';
    }
    render(element, classMappings, renderingEngine) {
        Store_1.default.addQueue(new Queue_1.default(element.attributes.name, element.attributes.title, element.attributes.description));
        return renderingEngine.renderChildren(element);
    }
}
exports["default"] = FakeQueueBinder;


/***/ }),

/***/ "./lib/bindings/FakeStoreBinder.ts":
/*!*****************************************!*\
  !*** ./lib/bindings/FakeStoreBinder.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
class FakeStoreBinder {
    accept(name) {
        return name === 'fake-store';
    }
    render(element, classMappings, renderingEngine) {
        Store_1.default.clear();
        Store_1.default.setTestContext();
        return renderingEngine.renderChildren(element);
    }
}
exports["default"] = FakeStoreBinder;


/***/ }),

/***/ "./lib/bindings/FakeUserBinder.ts":
/*!****************************************!*\
  !*** ./lib/bindings/FakeUserBinder.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const User_1 = __importDefault(__webpack_require__(/*! ../store/User */ "./lib/store/User.ts"));
class FakeUserBinder {
    accept(name) {
        return name === 'fake-user';
    }
    render(element, classMappings, renderingEngine) {
        Store_1.default.addUser(new User_1.default(element.attributes.username, element.attributes.title, element.attributes.firstName, element.attributes.lastName, element.attributes.email, element.attributes.contactNumber, element.attributes.dateOfBirth, element.attributes.timezone, element.attributes.groups.split(":").filter(grp => grp.trim().length), element.attributes.userData));
        return renderingEngine.renderChildren(element);
    }
}
exports["default"] = FakeUserBinder;


/***/ }),

/***/ "./lib/bindings/FakeWizardBinder.ts":
/*!******************************************!*\
  !*** ./lib/bindings/FakeWizardBinder.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const Wizard_1 = __importDefault(__webpack_require__(/*! ../store/Wizard */ "./lib/store/Wizard.ts"));
class FakeWizardBinder {
    accept(name) {
        return name === 'fake-wizard';
    }
    render(element, classMappings, renderingEngine) {
        Store_1.default.addWizard(new Wizard_1.default(element.attributes.name, element.attributes.version, element.attributes.title, element.attributes.description, element.attributes.active === "true", element.attributes.released === "true"));
        return renderingEngine.renderChildren(element);
    }
}
exports["default"] = FakeWizardBinder;


/***/ }),

/***/ "./lib/bindings/FakeWorkflowBinder.ts":
/*!********************************************!*\
  !*** ./lib/bindings/FakeWorkflowBinder.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const Workflow_1 = __importDefault(__webpack_require__(/*! ../store/Workflow */ "./lib/store/Workflow.ts"));
class FakeWorkflowBinder {
    accept(name) {
        return name === 'fake-workflow';
    }
    render(element, classMappings, renderingEngine) {
        Store_1.default.addWorkflow(new Workflow_1.default(element.attributes.name, element.attributes.version, element.attributes.group, element.attributes.title, element.attributes.description));
        return renderingEngine.renderChildren(element);
    }
}
exports["default"] = FakeWorkflowBinder;


/***/ }),

/***/ "./lib/bindings/FormBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/FormBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class FormBinder {
    accept(name) {
        return name === 'form';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('form.ftl', data);
    }
}
exports["default"] = FormBinder;


/***/ }),

/***/ "./lib/bindings/HorizontalRuleBinder.ts":
/*!**********************************************!*\
  !*** ./lib/bindings/HorizontalRuleBinder.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class HorizontalRuleBinder {
    accept(name) {
        return name === 'horizontal-rule';
    }
    render(element, classMappings, renderingEngine) {
        return renderingEngine.render('horizontal-rule.ftl', {});
    }
}
exports["default"] = HorizontalRuleBinder;


/***/ }),

/***/ "./lib/bindings/IconBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/IconBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class IconBinder {
    accept(name) {
        return name === 'icon';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.name = element.attributes.name;
        data.size = element.attributes.size;
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'icon-', 'icon-default');
        classManager.append(element.attributes.size, 'icon-size-', 'icon-size-medium');
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('icon.ftl', data);
    }
}
exports["default"] = IconBinder;


/***/ }),

/***/ "./lib/bindings/ImageBinder.ts":
/*!*************************************!*\
  !*** ./lib/bindings/ImageBinder.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ImageBinder {
    accept(name) {
        return name === 'image';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.src = "/public/img/" + element.attributes.src;
        data.alt = element.attributes['alt'] || '';
        let imageStyles = '';
        if ('imageHeight' in element.attributes) {
            imageStyles += 'height: ' + element.attributes['imageHeight'] + '; ';
        }
        if ('imageWidth' in element.attributes) {
            imageStyles += 'width: ' + element.attributes['imageWidth'] + '; ';
        }
        if ('padding' in element.attributes) {
            imageStyles += 'padding: ' + element.attributes['padding'] + '; ';
        }
        if ('margin' in element.attributes) {
            imageStyles += 'margin: ' + element.attributes['margin'] + '; ';
        }
        if ('border' in element.attributes) {
            imageStyles += 'border: ' + element.attributes['border'] + '; ';
        }
        if ('borderRadius' in element.attributes) {
            imageStyles += 'border-radius: ' + element.attributes.borderRadius + '; ';
        }
        if ('objectFit' in element.attributes) {
            imageStyles += 'object-fit: ' + element.attributes.objectFit + '; ';
        }
        if ('object-position' in element.attributes) {
            imageStyles += 'object-position: ' + element.attributes.objectPosition + '; ';
        }
        if ('opacity' in element.attributes) {
            imageStyles += 'opacity: ' + element.attributes['opacity'] + '; ';
        }
        if ('background' in element.attributes) {
            imageStyles += 'background: ' + element.attributes['background'] + '; ';
        }
        data.imageStyles = imageStyles;
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('image.ftl', data);
    }
}
exports["default"] = ImageBinder;


/***/ }),

/***/ "./lib/bindings/InitiateWorkflowButtonBinder.ts":
/*!******************************************************!*\
  !*** ./lib/bindings/InitiateWorkflowButtonBinder.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class InitiateWorkflowButtonBinder {
    accept(name) {
        return name === 'initiate-workflow-button';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const data = {};
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.size = element.attributes.size;
        data.disabled = null;
        data.content = renderingEngine.renderChildren(element);
        data.onclick = "alert('clicked'); event.preventDefault();";
        data.showCasePrincipalPicker = element.attributes.showCasePrincipalPicker === "true";
        data.workflow = element.attributes.workflow;
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.buttonFlavour, 'btn-', 'btn-default');
        classManager.append(element.attributes.size, 'btn-', '');
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('initiate-workflow-button.ftl', data);
    }
}
exports["default"] = InitiateWorkflowButtonBinder;


/***/ }),

/***/ "./lib/bindings/InputBinder.ts":
/*!*************************************!*\
  !*** ./lib/bindings/InputBinder.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class InputBinder {
    accept(name) {
        return name === 'input';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.value = "";
        data.disabled = null;
        data.label = element.attributes.label;
        data.type = element.attributes.type;
        data.reference = element.attributes.reference;
        data.min = element.attributes.min;
        data.max = element.attributes.max;
        data.cols = element.attributes.cols;
        data.rows = element.attributes.rows;
        data.size = element.attributes.size;
        data.maxLength = element.attributes.maxLength;
        data.currencySymbol = element.attributes.type === 'CURRENCY' ? '£' : null;
        data.error = new Error("some error message");
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('input.ftl', data);
    }
}
exports["default"] = InputBinder;


/***/ }),

/***/ "./lib/bindings/InsetTextBinder.ts":
/*!*****************************************!*\
  !*** ./lib/bindings/InsetTextBinder.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class InsetTextBinder {
    accept(name) {
        return name === 'inset-text';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'inset-text-', 'inset-text-default');
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('inset-text.ftl', data);
    }
}
exports["default"] = InsetTextBinder;


/***/ }),

/***/ "./lib/bindings/JumbotronBinder.ts":
/*!*****************************************!*\
  !*** ./lib/bindings/JumbotronBinder.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class JumbotronBinder {
    accept(name) {
        return name === 'jumbotron';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('jumbotron.ftl', data);
    }
}
exports["default"] = JumbotronBinder;


/***/ }),

/***/ "./lib/bindings/LinkBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/LinkBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class LinkBinder {
    accept(name) {
        return name === 'link';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        data.classes = classManager.toString();
        if (Store_1.default.isTestContext()) {
            data.link = 'javascript:alert(&quot;link was clicked&quot;); event.preventDefault();';
        }
        else {
            if (element.attributes.view) {
                data.link = "/" + element.attributes.view;
            }
            else {
                data.link = element.attributes.url;
                data.rel = "noreferrer noopener";
                data.target = element.attributes.openNewWindow ? "_blank" : null;
            }
        }
        return renderingEngine.render('link.ftl', data);
    }
}
exports["default"] = LinkBinder;


/***/ }),

/***/ "./lib/bindings/ListBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/ListBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ListBinder {
    accept(name) {
        return name === 'list';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.listStyle = element.attributes.listStyle || "BULLET";
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('list.ftl', data);
    }
}
exports["default"] = ListBinder;


/***/ }),

/***/ "./lib/bindings/ListItemBinder.ts":
/*!****************************************!*\
  !*** ./lib/bindings/ListItemBinder.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ListItemBinder {
    accept(name) {
        return name === 'list-item';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.listStyle = element.attributes.listStyle || "BULLET";
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('list-item.ftl', data);
    }
}
exports["default"] = ListItemBinder;


/***/ }),

/***/ "./lib/bindings/LoginPanelBinder.ts":
/*!******************************************!*\
  !*** ./lib/bindings/LoginPanelBinder.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const Errors_1 = __webpack_require__(/*! ../Errors */ "./lib/Errors.ts");
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class LoginPanelBinder {
    accept(name) {
        return name === 'login-panel';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.errors = new Errors_1.Errors([
            new Errors_1.FieldError("this", "username", "", "Invalid username supplied")
        ]);
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.enableRegistration = true;
        data.enablePrivacyPolicyAgreementOnLogin = true;
        data.registerOnclick = "alert('clicked'); event.preventDefault();";
        data.loginOnclick = "alert('clicked'); event.preventDefault();";
        data.forgotPasswordOnclick = "alert('clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('login-panel.ftl', data);
    }
}
exports["default"] = LoginPanelBinder;


/***/ }),

/***/ "./lib/bindings/LoopBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/LoopBinder.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const FreemarkerError_1 = __webpack_require__(/*! ../freemarker/FreemarkerError */ "./lib/freemarker/FreemarkerError.ts");
const StringBuffer_1 = __webpack_require__(/*! ../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
class LoopBinder {
    accept(name) {
        return name === 'loop';
    }
    render(element, classMappings, renderingEngine, substitutions) {
        const output = new StringBuffer_1.StringBuffer();
        if (element.attributes.reference in substitutions) {
            const val = substitutions[element.attributes.reference].value;
            if (!Array.isArray(val)) {
                throw new FreemarkerError_1.FreemarkerError(`Expected array for substitution ${element.attributes.reference}`);
            }
            for (const v of val) {
                substitutions['.'] = { value: v };
                const data = {};
                data.content = renderingEngine.renderChildren(element);
                output.append(renderingEngine.render('loop.ftl', data));
            }
        }
        else {
            throw new FreemarkerError_1.FreemarkerError(`No substitution found for plantain expression ${element.attributes.reference}`);
        }
        return output.toString();
    }
}
exports["default"] = LoopBinder;


/***/ }),

/***/ "./lib/bindings/MenuBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/MenuBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const StringBuffer_1 = __webpack_require__(/*! ../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class MenuBinder {
    accept(name) {
        return name === 'menu';
    }
    render(element, classMappings, renderingEngine) {
        const children = element.children.filter(el => (0, parser_1.isElement)(el)).map(el => el);
        const menuBrand = children.find(el => el.name === 'menu-brand');
        let menuBrandContent = menuBrand ? renderingEngine.renderElement(menuBrand, element) : "";
        const menuItems = children.filter(el => el.name === 'menu-item' || el.name === 'sub-menu');
        const content = new StringBuffer_1.StringBuffer();
        for (const child of menuItems) {
            content.append(renderingEngine.renderElement(child, element));
        }
        let expand = "";
        if (element.attributes.axis === 'HORIZONTAL') {
            if (menuItems.length > 5) {
                expand = "navbar-expand-lg";
            }
            else if (menuItems.length > 3) {
                expand = "navbar-expand-md";
            }
            else {
                expand = "navbar-expand-sm";
            }
        }
        const data = {};
        data.id = element.attributes.id;
        data.menuBrand = menuBrandContent;
        data.axis = element.attributes.axis || 'VERTICAL';
        data.content = content.toString();
        data.expand = expand;
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('menu.ftl', data);
    }
}
exports["default"] = MenuBinder;


/***/ }),

/***/ "./lib/bindings/MenuBrandBinder.ts":
/*!*****************************************!*\
  !*** ./lib/bindings/MenuBrandBinder.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class MenuBrandBinder {
    accept(name) {
        return name === 'menu-brand';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('menu-brand.ftl', data);
    }
}
exports["default"] = MenuBrandBinder;


/***/ }),

/***/ "./lib/bindings/MenuItemBinder.ts":
/*!****************************************!*\
  !*** ./lib/bindings/MenuItemBinder.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class MenuItemBinder {
    accept(name) {
        return name === 'menu-item';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const isInSubMenu = parent.name === "sub-menu";
        if (isInSubMenu) {
            parent.attributes.hasContent = "true";
        }
        const data = {};
        data.content = renderingEngine.renderChildren(element);
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.type = element.attributes.type;
        data.onclick = "alert('clicked'); event.preventDefault();";
        data.disabled = null;
        data.workflow = element.attributes.workflow;
        data.link = "#";
        data.isInSubMenu = isInSubMenu;
        data.showCasePrincipalPicker = element.attributes.showCasePrincipalPicker === "true";
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'text-', 'text-default');
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        data.classes = classManager.toString();
        return renderingEngine.render('menu-item.ftl', data);
    }
}
exports["default"] = MenuItemBinder;


/***/ }),

/***/ "./lib/bindings/MessageExplorerBinder.ts":
/*!***********************************************!*\
  !*** ./lib/bindings/MessageExplorerBinder.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class MessageExplorerBinder {
    accept(name) {
        return name === 'message-explorer';
    }
    render(element, classMappings, renderingEngine) {
        const values = Store_1.default.getMessages().map(m => {
            const [wizardName, wizardVersion] = m.getWizardId().split(":");
            const wizard = Store_1.default.getWizards().find(w => w.getName() === wizardName && w.getVersion() === wizardVersion);
            const [workflowGroup, workflowName, workflowVersion] = m.getWorkflowId().split(":");
            const workflow = Store_1.default.getWorkflows().find(w => w.getGroup() === workflowGroup && w.getName() === workflowName && w.getVersion() === workflowVersion);
            return {
                wipId: m.getWipId(),
                wizardId: m.getWizardId(),
                wizardTitle: wizard === null || wizard === void 0 ? void 0 : wizard.getTitle(),
                wizardDescription: wizard === null || wizard === void 0 ? void 0 : wizard.getDescription(),
                workflowId: m.getWorkflowId(),
                workflowTitle: workflow === null || workflow === void 0 ? void 0 : workflow.getTitle(),
                workflowDescription: workflow === null || workflow === void 0 ? void 0 : workflow.getDescription(),
                date: m.getDateTime().substring(0, 10),
                dateTime: m.getDateTime(),
                principal: m.getPrincipal(),
            };
        });
        const data = {};
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.bust = (0, generate_id_1.default)();
        data.onclick = "alert('clicked'); event.preventDefault();";
        data.values = values;
        data.wizard = "";
        data.queue = "";
        data.workflow = "";
        data.principal = "";
        data.groups = ["public, authenticated"];
        data.startIndex = "0";
        data.endIndex = String(Number.MAX_VALUE);
        data.workflows = Store_1.default.getWorkflows().map(w => {
            return {
                id: w.getGroup() + ":" + w.getName() + ":" + w.getVersion(),
                title: w.getTitle()
            };
        });
        data.wizards = Store_1.default.getWizards().map(w => {
            return {
                id: w.getName() + ":" + w.getVersion(),
                title: w.getTitle()
            };
        });
        data.queues = Store_1.default.getQueues();
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('message-explorer.ftl', data);
    }
}
exports["default"] = MessageExplorerBinder;


/***/ }),

/***/ "./lib/bindings/MileStoneBinder.ts":
/*!*****************************************!*\
  !*** ./lib/bindings/MileStoneBinder.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class MileStoneBinder {
    accept(name) {
        return name === 'mile-stone';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const stones = parent.children
            .filter(el => (0, parser_1.isElement)(el))
            .map(el => el)
            .filter(el => el.name = "mile-stone");
        const total = stones.length;
        const index = stones.findIndex(el => el === element);
        let tag = "";
        if (parent.attributes.mileStoneStyle === "NUMBERED") {
            tag = "" + (index + 1);
        }
        else if (parent.attributes.mileStoneStyle === "PERCENT") {
            tag = "" + Math.floor(index / total * 100) + "%";
        }
        const data = {};
        data.id = element.attributes.id;
        data.label = element.attributes.label;
        data.active = element.attributes.active === "true";
        data.mileStoneStyle = parent.attributes.mileStoneStyle;
        data.labelSide = parent.attributes.labelSide;
        data.content = renderingEngine.renderChildren(element);
        data.tag = tag;
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.mileStoneStyle, 'milestone-style-', '');
        classManager.append(element.attributes.labelSide, 'label-side-', '');
        data.classes = classManager.toString();
        return renderingEngine.render('mile-stone.ftl', data);
    }
}
exports["default"] = MileStoneBinder;


/***/ }),

/***/ "./lib/bindings/NotificationBannerBinder.ts":
/*!**************************************************!*\
  !*** ./lib/bindings/NotificationBannerBinder.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class NotificationBannerBinder {
    accept(name) {
        return name === 'notification-banner';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.title = element.attributes.title;
        data.flavour = element.attributes.flavour;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'notification-banner-', 'notification-banner-default');
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('notification-banner.ftl', data);
    }
}
exports["default"] = NotificationBannerBinder;


/***/ }),

/***/ "./lib/bindings/PageBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/PageBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class PageBinder {
    accept(name) {
        return name === 'page';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('page.ftl', data);
    }
}
exports["default"] = PageBinder;


/***/ }),

/***/ "./lib/bindings/ParagraphBinder.ts":
/*!*****************************************!*\
  !*** ./lib/bindings/ParagraphBinder.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ParagraphBinder {
    accept(name) {
        return name === 'paragraph';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.paragraphStyle = element.attributes.paragraphStyle || 'PLAIN';
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('paragraph.ftl', data);
    }
}
exports["default"] = ParagraphBinder;


/***/ }),

/***/ "./lib/bindings/PasswordResetLinkBinder.ts":
/*!*************************************************!*\
  !*** ./lib/bindings/PasswordResetLinkBinder.ts ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class PasswordResetLinkBinder {
    accept(name) {
        return name === 'password-reset-link';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = element.attributes.label;
        data.link = 'javascript:alert(&quot;link was clicked&quot;); event.preventDefault();';
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('password-reset-link.ftl', data);
    }
}
exports["default"] = PasswordResetLinkBinder;


/***/ }),

/***/ "./lib/bindings/ProgressBarBinder.ts":
/*!*******************************************!*\
  !*** ./lib/bindings/ProgressBarBinder.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ProgressBarBinder {
    accept(name) {
        return name === 'progress-bar';
    }
    render(element, classMappings, renderingEngine) {
        const milestones = element.children.filter(el => (0, parser_1.isElement)(el))
            .map(el => el)
            .filter(el => el.name === 'mile-stone');
        if (milestones.length) {
            milestones[0].attributes.active = "true";
        }
        const data = {};
        data.id = element.attributes.id;
        data.axis = element.attributes.axis;
        data.size = element.attributes.size;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'progress-bar-', 'progress-bar-default');
        classManager.append(element.attributes.axis, 'progress-bar-axis-', '');
        classManager.append(element.attributes.labelSide, 'progress-bar-label-side-', '');
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('progress-bar.ftl', data);
    }
}
exports["default"] = ProgressBarBinder;


/***/ }),

/***/ "./lib/bindings/RegisterPanelBinder.ts":
/*!*********************************************!*\
  !*** ./lib/bindings/RegisterPanelBinder.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Errors_1 = __webpack_require__(/*! ../Errors */ "./lib/Errors.ts");
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class RegisterPanelBinder {
    accept(name) {
        return name === 'register-panel';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.errors = new Errors_1.Errors([]);
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.timezones = [];
        data.nextOnclick = "alert('clicked'); event.preventDefault();";
        data.loginOnclick = "alert('clicked'); event.preventDefault();";
        data.cancelOnclick = "alert('clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('register-panel.ftl', data);
    }
}
exports["default"] = RegisterPanelBinder;


/***/ }),

/***/ "./lib/bindings/ResetPasswordPanelBinder.ts":
/*!**************************************************!*\
  !*** ./lib/bindings/ResetPasswordPanelBinder.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ResetPasswordPanelBinder {
    accept(name) {
        return name === 'reset-password-panel';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.content = renderingEngine.renderChildren(element);
        data.nextOnclick = "alert('clicked'); event.preventDefault();";
        data.cancelOnclick = "alert('clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('reset-password-panel.ftl', data);
    }
}
exports["default"] = ResetPasswordPanelBinder;


/***/ }),

/***/ "./lib/bindings/ResetPasswordRequestPanelBinder.ts":
/*!*********************************************************!*\
  !*** ./lib/bindings/ResetPasswordRequestPanelBinder.ts ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ResetPasswordRequestPanelBinder {
    accept(name) {
        return name === 'reset-password-request-panel';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.content = renderingEngine.renderChildren(element);
        data.nextOnclick = "alert('Next button clicked'); event.preventDefault();";
        data.cancelOnclick = "alert('Cancel button clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('reset-password-request-panel.ftl', data);
    }
}
exports["default"] = ResetPasswordRequestPanelBinder;


/***/ }),

/***/ "./lib/bindings/RowBinder.ts":
/*!***********************************!*\
  !*** ./lib/bindings/RowBinder.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class RowBinder {
    accept(name) {
        return name === 'row';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        return renderingEngine.render('row.ftl', data);
    }
}
exports["default"] = RowBinder;


/***/ }),

/***/ "./lib/bindings/ScaleBinder.ts":
/*!*************************************!*\
  !*** ./lib/bindings/ScaleBinder.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ScaleBinder {
    accept(name) {
        return name === 'scale';
    }
    render(element, classMappings, renderingEngine) {
        let values = undefined;
        if (element.attributes.scaleType === 'NUMERICAL') {
            values = [
                { key: "1", label: "1" },
                { key: "2", label: "2" },
                { key: "3", label: "3" },
                { key: "4", label: "4" },
                { key: "5", label: "5" },
                { key: "6", label: "6" },
                { key: "7", label: "7" },
                { key: "8", label: "8" },
                { key: "9", label: "9" },
                { key: "10", label: "10" },
            ];
        }
        else if (element.attributes.scaleType === 'LIKERT') {
            values = [
                { key: "strongly-disagree", label: "Strongly Disagree" },
                { key: "disagree", label: "Disagree" },
                { key: "neutral", label: "Neutral" },
                { key: "agree", label: "Agree" },
                { key: "strongly-agree", label: "Strongly Agree" },
            ];
        }
        else if (element.attributes.scaleType === 'FREQUENCY') {
            values = [
                { key: "never", label: "Never" },
                { key: "rarely", label: "Rarely" },
                { key: "sometimes", label: "Sometimes" },
                { key: "often", label: "Often" },
                { key: "very-often", label: "Very Often" },
            ];
        }
        else if (element.attributes.scaleType === 'DICHOTOMOUS') {
            values = [
                { key: "yes", label: "Yes" },
                { key: "no", label: "No" }
            ];
        }
        else if (element.attributes.scaleType === 'BOOLEAN') {
            values = [
                { key: "true", label: "True" },
                { key: "false", label: "False" }
            ];
        }
        const data = {};
        data.id = element.attributes.id;
        data.disabled = null;
        data.label = element.attributes.label;
        data.scaleType = element.attributes.scaleType;
        data.reference = element.attributes.reference;
        data.size = element.attributes.size;
        data.values = values;
        data.value = "";
        data.error = new Error("some error message");
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('scale.ftl', data);
    }
}
exports["default"] = ScaleBinder;


/***/ }),

/***/ "./lib/bindings/ScriptBinder.ts":
/*!**************************************!*\
  !*** ./lib/bindings/ScriptBinder.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const FreemarkerError_1 = __webpack_require__(/*! ../freemarker/FreemarkerError */ "./lib/freemarker/FreemarkerError.ts");
class SpanBinder {
    accept(name) {
        return name === 'script';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const data = {};
        if (element.attributes.script in substitutions) {
            const val = substitutions[element.attributes.script].value;
            if (typeof val !== "string") {
                throw new FreemarkerError_1.FreemarkerError(`Expected string for substitution ${element.attributes.script}`);
            }
            data.text = val;
        }
        else {
            throw new FreemarkerError_1.FreemarkerError(`No substitution found for plantain expression ${element.attributes.script}`);
        }
        return renderingEngine.render('script.ftl', data);
    }
}
exports["default"] = SpanBinder;


/***/ }),

/***/ "./lib/bindings/SpanBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/SpanBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class SpanBinder {
    accept(name) {
        return name === 'span';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.paragraphStyle = element.attributes.paragraphStyle || 'PLAIN';
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        data.classes = classManager.toString();
        return renderingEngine.render('span.ftl', data);
    }
}
exports["default"] = SpanBinder;


/***/ }),

/***/ "./lib/bindings/SubMenuBinder.ts":
/*!***************************************!*\
  !*** ./lib/bindings/SubMenuBinder.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const StringBuffer_1 = __webpack_require__(/*! ../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class SubMenuBinder {
    accept(name) {
        return name === 'sub-menu';
    }
    render(element, classMappings, renderingEngine) {
        const children = element.children.filter(el => (0, parser_1.isElement)(el)).map(el => el);
        let label, content = new StringBuffer_1.StringBuffer();
        for (const child of children) {
            if (child.name == 'sub-menu-label') {
                label = renderingEngine.renderElement(child, element);
            }
            else {
                content.append(renderingEngine.renderElement(child, element));
            }
        }
        const data = {};
        data.id = element.attributes.id;
        data.content = content.toString();
        data.hasContent = element.attributes.hasContent === "true";
        data.label = label;
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('sub-menu.ftl', data);
    }
}
exports["default"] = SubMenuBinder;


/***/ }),

/***/ "./lib/bindings/SubMenuLabelBinder.ts":
/*!********************************************!*\
  !*** ./lib/bindings/SubMenuLabelBinder.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class SubMenuLabelBinder {
    accept(name) {
        return name === 'sub-menu-label';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'text-', 'text-default');
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        data.classes = classManager.toString();
        return renderingEngine.render('sub-menu-label.ftl', data);
    }
}
exports["default"] = SubMenuLabelBinder;


/***/ }),

/***/ "./lib/bindings/SwitchBinder.ts":
/*!**************************************!*\
  !*** ./lib/bindings/SwitchBinder.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
class SwitchBinder {
    accept(name) {
        return name === 'switch';
    }
    render(element, classMappings, renderingEngine, substitutions) {
        const children = element.children.filter(el => (0, parser_1.isElement)(el)).map(el => el);
        let found = children.find(el => el.name === 'def');
        for (const child of children) {
            if (child.attributes.condition in substitutions && substitutions[child.attributes.condition].value) {
                found = child;
                break;
            }
        }
        if (found) {
            const data = {};
            data.id = element.attributes.id;
            data.content = renderingEngine.renderChildren(found);
            const classManager = new ClassManager_1.default(classMappings);
            (0, flex_item_support_1.default)(data, classManager, element.attributes);
            data.classes = classManager.toString();
            return renderingEngine.render('switch.ftl', data);
        }
        return "";
    }
}
exports["default"] = SwitchBinder;


/***/ }),

/***/ "./lib/bindings/TableBinder.ts":
/*!*************************************!*\
  !*** ./lib/bindings/TableBinder.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class TableBinder {
    accept(name) {
        return name === 'table';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.size = element.attributes.size;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('table.ftl', data);
    }
}
exports["default"] = TableBinder;


/***/ }),

/***/ "./lib/bindings/TitleBinder.ts":
/*!*************************************!*\
  !*** ./lib/bindings/TitleBinder.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class TitleBinder {
    accept(name) {
        return name === 'title';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.size = element.attributes.size;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('title.ftl', data);
    }
}
exports["default"] = TitleBinder;


/***/ }),

/***/ "./lib/bindings/ToolTipBinder.ts":
/*!***************************************!*\
  !*** ./lib/bindings/ToolTipBinder.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const StringBuffer_1 = __webpack_require__(/*! ../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ToolTipBinder {
    accept(name) {
        return name === 'tool-tip';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const children = element.children.filter(node => !(0, parser_1.isText)(node));
        if (children.length !== 1) {
            throw new Error("Tool tip element must have only 1 child.");
        }
        const child = children[0];
        element.attributes.alignSelf = child.attributes.alignSelf;
        element.attributes.flexBasis = child.attributes.flexBasis;
        element.attributes.flexGrow = child.attributes.flexGrow;
        element.attributes.flexShrink = child.attributes.flexShrink;
        element.attributes.height = child.attributes.height;
        element.attributes.width = child.attributes.width;
        // element.attributes.padding = child.attributes.padding;
        element.attributes.margin = child.attributes.margin;
        element.attributes.backgroundFlavour = child.attributes.backgroundFlavour;
        element.attributes.borderRadius = child.attributes.borderRadius;
        delete child.attributes.alignSelf;
        delete child.attributes.flexBasis;
        delete child.attributes.flexGrow;
        delete child.attributes.flexShrink;
        delete child.attributes.height;
        delete child.attributes.width;
        delete child.attributes.margin;
        const output = new StringBuffer_1.StringBuffer();
        element.children.forEach(child => {
            if ((0, parser_1.isText)(child)) {
                output.append(child.text);
            }
            else if ((0, parser_1.isElement)(child)) {
                output.append(renderingEngine.renderElement(child, element));
            }
        });
        const data = {};
        data.id = element.attributes.id;
        data.exposition = element.attributes.exposition;
        data.content = output.toString();
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('tool-tip.ftl', data);
    }
}
exports["default"] = ToolTipBinder;


/***/ }),

/***/ "./lib/bindings/TrayBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/TrayBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class TrayBinder {
    accept(name) {
        return name === 'tray';
    }
    render(element, classMappings, renderingEngine) {
        const children = element.children.filter(el => (0, parser_1.isElement)(el)).map(el => el);
        const trayHeader = children.find(el => el.name === "tray-header");
        const values = Store_1.default.getMessages().map(m => {
            const [wizardName, wizardVersion] = m.getWizardId().split(":");
            const wizard = Store_1.default.getWizards().find(w => w.getName() === wizardName && w.getVersion() === wizardVersion);
            const [workflowGroup, workflowName, workflowVersion] = m.getWorkflowId().split(":");
            const workflow = Store_1.default.getWorkflows().find(w => w.getGroup() === workflowGroup && w.getName() === workflowName && w.getVersion() === workflowVersion);
            return {
                wipId: m.getWipId(),
                wizardId: m.getWizardId(),
                wizardTitle: wizard === null || wizard === void 0 ? void 0 : wizard.getTitle(),
                wizardDescription: wizard === null || wizard === void 0 ? void 0 : wizard.getDescription(),
                workflowId: m.getWorkflowId(),
                workflowTitle: workflow === null || workflow === void 0 ? void 0 : workflow.getTitle(),
                workflowDescription: workflow === null || workflow === void 0 ? void 0 : workflow.getDescription(),
                date: m.getDateTime().substring(0, 10),
                dateTime: m.getDateTime(),
                principal: m.getPrincipal(),
            };
        });
        const data = {};
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.trayHeader = trayHeader ? renderingEngine.renderElement(trayHeader, element) : "";
        data.onclick = "alert('clicked'); event.preventDefault();";
        data.values = values;
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('tray.ftl', data);
    }
}
exports["default"] = TrayBinder;


/***/ }),

/***/ "./lib/bindings/TrayHeaderBinder.ts":
/*!******************************************!*\
  !*** ./lib/bindings/TrayHeaderBinder.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class TrayHeaderBinder {
    accept(name) {
        return name === 'tray-header';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        data.classes = classManager.toString();
        return renderingEngine.render('tray-header.ftl', data);
    }
}
exports["default"] = TrayHeaderBinder;


/***/ }),

/***/ "./lib/bindings/UserExplorerBinder.ts":
/*!********************************************!*\
  !*** ./lib/bindings/UserExplorerBinder.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class UserExplorerBinder {
    accept(name) {
        return name === 'user-explorer';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.bust = (0, generate_id_1.default)();
        data.onclick = "alert('clicked'); event.preventDefault();";
        data.values = Store_1.default.getUsers();
        data.groups = Store_1.default.getGroups();
        data.group = "";
        data.wizard = "";
        data.workflow = "";
        data.queue = "";
        data.principal = "";
        data.username = "";
        data.firstName = "";
        data.lastName = "";
        data.executeWorkflow = "";
        data.messageExplorerMode = false;
        data.startIndex = "startIndex";
        data.endIndex = "endIndex";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('user-explorer.ftl', data);
    }
}
exports["default"] = UserExplorerBinder;


/***/ }),

/***/ "./lib/bindings/UuidBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/UuidBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
class UuidBinder {
    accept(name) {
        return name === 'uuid';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.reference = element.attributes.reference;
        data.value = (0, generate_id_1.default)();
        return renderingEngine.render('uuid.ftl', data);
    }
}
exports["default"] = UuidBinder;


/***/ }),

/***/ "./lib/bindings/ValueBinder.ts":
/*!*************************************!*\
  !*** ./lib/bindings/ValueBinder.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ValueBinder {
    accept(name) {
        return name === 'value';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const data = {};
        data.id = parent.attributes.id;
        data.key = element.attributes.key;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('value-panel.ftl', data);
    }
}
exports["default"] = ValueBinder;


/***/ }),

/***/ "./lib/bindings/WarningBinder.ts":
/*!***************************************!*\
  !*** ./lib/bindings/WarningBinder.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class WarningBinder {
    accept(name) {
        return name === 'warning';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('warning.ftl', data);
    }
}
exports["default"] = WarningBinder;


/***/ }),

/***/ "./lib/bindings/WellBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/WellBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class WellBinder {
    accept(name) {
        return name === 'well';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'well-', 'well-default');
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('well.ftl', data);
    }
}
exports["default"] = WellBinder;


/***/ }),

/***/ "./lib/bindings/WizardTestResultsBinder.ts":
/*!*************************************************!*\
  !*** ./lib/bindings/WizardTestResultsBinder.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class WizardTestResultsBinder {
    accept(name) {
        return name === 'wizard-test-results';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = "some content";
        return renderingEngine.render('wizard-test-results.ftl', data);
    }
}
exports["default"] = WizardTestResultsBinder;


/***/ }),

/***/ "./lib/bindings/index.ts":
/*!*******************************!*\
  !*** ./lib/bindings/index.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.findBinder = void 0;
const TitleBinder_1 = __importDefault(__webpack_require__(/*! ./TitleBinder */ "./lib/bindings/TitleBinder.ts"));
const ParagraphBinder_1 = __importDefault(__webpack_require__(/*! ./ParagraphBinder */ "./lib/bindings/ParagraphBinder.ts"));
const DivBinder_1 = __importDefault(__webpack_require__(/*! ./DivBinder */ "./lib/bindings/DivBinder.ts"));
const LoginPanelBinder_1 = __importDefault(__webpack_require__(/*! ./LoginPanelBinder */ "./lib/bindings/LoginPanelBinder.ts"));
const PageBinder_1 = __importDefault(__webpack_require__(/*! ./PageBinder */ "./lib/bindings/PageBinder.ts"));
const WellBinder_1 = __importDefault(__webpack_require__(/*! ./WellBinder */ "./lib/bindings/WellBinder.ts"));
const UserExplorerBinder_1 = __importDefault(__webpack_require__(/*! ./UserExplorerBinder */ "./lib/bindings/UserExplorerBinder.ts"));
const ImageBinder_1 = __importDefault(__webpack_require__(/*! ./ImageBinder */ "./lib/bindings/ImageBinder.ts"));
const LinkBinder_1 = __importDefault(__webpack_require__(/*! ./LinkBinder */ "./lib/bindings/LinkBinder.ts"));
const BackLinkBinder_1 = __importDefault(__webpack_require__(/*! ./BackLinkBinder */ "./lib/bindings/BackLinkBinder.ts"));
const RegisterPanelBinder_1 = __importDefault(__webpack_require__(/*! ./RegisterPanelBinder */ "./lib/bindings/RegisterPanelBinder.ts"));
const ResetPasswordRequestPanelBinder_1 = __importDefault(__webpack_require__(/*! ./ResetPasswordRequestPanelBinder */ "./lib/bindings/ResetPasswordRequestPanelBinder.ts"));
const ResetPasswordPanelBinder_1 = __importDefault(__webpack_require__(/*! ./ResetPasswordPanelBinder */ "./lib/bindings/ResetPasswordPanelBinder.ts"));
const AccordionItemHeaderBinder_1 = __importDefault(__webpack_require__(/*! ./AccordionItemHeaderBinder */ "./lib/bindings/AccordionItemHeaderBinder.ts"));
const InsetTextBinder_1 = __importDefault(__webpack_require__(/*! ./InsetTextBinder */ "./lib/bindings/InsetTextBinder.ts"));
const AccordionItemBinder_1 = __importDefault(__webpack_require__(/*! ./AccordionItemBinder */ "./lib/bindings/AccordionItemBinder.ts"));
const WarningBinder_1 = __importDefault(__webpack_require__(/*! ./WarningBinder */ "./lib/bindings/WarningBinder.ts"));
const ColumnBinder_1 = __importDefault(__webpack_require__(/*! ./ColumnBinder */ "./lib/bindings/ColumnBinder.ts"));
const RowBinder_1 = __importDefault(__webpack_require__(/*! ./RowBinder */ "./lib/bindings/RowBinder.ts"));
const CellBinder_1 = __importDefault(__webpack_require__(/*! ./CellBinder */ "./lib/bindings/CellBinder.ts"));
const TableBinder_1 = __importDefault(__webpack_require__(/*! ./TableBinder */ "./lib/bindings/TableBinder.ts"));
const BadgeBinder_1 = __importDefault(__webpack_require__(/*! ./BadgeBinder */ "./lib/bindings/BadgeBinder.ts"));
const AccordionBinder_1 = __importDefault(__webpack_require__(/*! ./AccordionBinder */ "./lib/bindings/AccordionBinder.ts"));
const CardHeaderBinder_1 = __importDefault(__webpack_require__(/*! ./CardHeaderBinder */ "./lib/bindings/CardHeaderBinder.ts"));
const CardBodyBinder_1 = __importDefault(__webpack_require__(/*! ./CardBodyBinder */ "./lib/bindings/CardBodyBinder.ts"));
const CardFooterBinder_1 = __importDefault(__webpack_require__(/*! ./CardFooterBinder */ "./lib/bindings/CardFooterBinder.ts"));
const CardBinder_1 = __importDefault(__webpack_require__(/*! ./CardBinder */ "./lib/bindings/CardBinder.ts"));
const IconBinder_1 = __importDefault(__webpack_require__(/*! ./IconBinder */ "./lib/bindings/IconBinder.ts"));
const ToolTipBinder_1 = __importDefault(__webpack_require__(/*! ./ToolTipBinder */ "./lib/bindings/ToolTipBinder.ts"));
const ListItemBinder_1 = __importDefault(__webpack_require__(/*! ./ListItemBinder */ "./lib/bindings/ListItemBinder.ts"));
const ListBinder_1 = __importDefault(__webpack_require__(/*! ./ListBinder */ "./lib/bindings/ListBinder.ts"));
const CookieConsentBinder_1 = __importDefault(__webpack_require__(/*! ./CookieConsentBinder */ "./lib/bindings/CookieConsentBinder.ts"));
const FakeStoreBinder_1 = __importDefault(__webpack_require__(/*! ./FakeStoreBinder */ "./lib/bindings/FakeStoreBinder.ts"));
const ErrorSummaryBinder_1 = __importDefault(__webpack_require__(/*! ./ErrorSummaryBinder */ "./lib/bindings/ErrorSummaryBinder.ts"));
const InputBinder_1 = __importDefault(__webpack_require__(/*! ./InputBinder */ "./lib/bindings/InputBinder.ts"));
const EnumerationInputBinder_1 = __importDefault(__webpack_require__(/*! ./EnumerationInputBinder */ "./lib/bindings/EnumerationInputBinder.ts"));
const ValueBinder_1 = __importDefault(__webpack_require__(/*! ./ValueBinder */ "./lib/bindings/ValueBinder.ts"));
const ScaleBinder_1 = __importDefault(__webpack_require__(/*! ./ScaleBinder */ "./lib/bindings/ScaleBinder.ts"));
const ButtonBinder_1 = __importDefault(__webpack_require__(/*! ./ButtonBinder */ "./lib/bindings/ButtonBinder.ts"));
const JumbotronBinder_1 = __importDefault(__webpack_require__(/*! ./JumbotronBinder */ "./lib/bindings/JumbotronBinder.ts"));
const CarouselBinder_1 = __importDefault(__webpack_require__(/*! ./CarouselBinder */ "./lib/bindings/CarouselBinder.ts"));
const CarouselPanelBinder_1 = __importDefault(__webpack_require__(/*! ./CarouselPanelBinder */ "./lib/bindings/CarouselPanelBinder.ts"));
const ProgressBarBinder_1 = __importDefault(__webpack_require__(/*! ./ProgressBarBinder */ "./lib/bindings/ProgressBarBinder.ts"));
const FormBinder_1 = __importDefault(__webpack_require__(/*! ./FormBinder */ "./lib/bindings/FormBinder.ts"));
const WizardTestResultsBinder_1 = __importDefault(__webpack_require__(/*! ./WizardTestResultsBinder */ "./lib/bindings/WizardTestResultsBinder.ts"));
const ConfirmWorkflowPanelBinder_1 = __importDefault(__webpack_require__(/*! ./ConfirmWorkflowPanelBinder */ "./lib/bindings/ConfirmWorkflowPanelBinder.ts"));
const CloseWorkflowExecutedPanelBinder_1 = __importDefault(__webpack_require__(/*! ./CloseWorkflowExecutedPanelBinder */ "./lib/bindings/CloseWorkflowExecutedPanelBinder.ts"));
const FakeUserBinder_1 = __importDefault(__webpack_require__(/*! ./FakeUserBinder */ "./lib/bindings/FakeUserBinder.ts"));
const FakeMessageBinder_1 = __importDefault(__webpack_require__(/*! ./FakeMessageBinder */ "./lib/bindings/FakeMessageBinder.ts"));
const FakeWizardBinder_1 = __importDefault(__webpack_require__(/*! ./FakeWizardBinder */ "./lib/bindings/FakeWizardBinder.ts"));
const FakeWorkflowBinder_1 = __importDefault(__webpack_require__(/*! ./FakeWorkflowBinder */ "./lib/bindings/FakeWorkflowBinder.ts"));
const MileStoneBinder_1 = __importDefault(__webpack_require__(/*! ./MileStoneBinder */ "./lib/bindings/MileStoneBinder.ts"));
const FakePageBinder_1 = __importDefault(__webpack_require__(/*! ./FakePageBinder */ "./lib/bindings/FakePageBinder.ts"));
const HorizontalRuleBinder_1 = __importDefault(__webpack_require__(/*! ./HorizontalRuleBinder */ "./lib/bindings/HorizontalRuleBinder.ts"));
const InitiateWorkflowButtonBinder_1 = __importDefault(__webpack_require__(/*! ./InitiateWorkflowButtonBinder */ "./lib/bindings/InitiateWorkflowButtonBinder.ts"));
const MenuBinder_1 = __importDefault(__webpack_require__(/*! ./MenuBinder */ "./lib/bindings/MenuBinder.ts"));
const MenuBrandBinder_1 = __importDefault(__webpack_require__(/*! ./MenuBrandBinder */ "./lib/bindings/MenuBrandBinder.ts"));
const MenuItemBinder_1 = __importDefault(__webpack_require__(/*! ./MenuItemBinder */ "./lib/bindings/MenuItemBinder.ts"));
const SubMenuBinder_1 = __importDefault(__webpack_require__(/*! ./SubMenuBinder */ "./lib/bindings/SubMenuBinder.ts"));
const SubMenuLabelBinder_1 = __importDefault(__webpack_require__(/*! ./SubMenuLabelBinder */ "./lib/bindings/SubMenuLabelBinder.ts"));
const TrayBinder_1 = __importDefault(__webpack_require__(/*! ./TrayBinder */ "./lib/bindings/TrayBinder.ts"));
const TrayHeaderBinder_1 = __importDefault(__webpack_require__(/*! ./TrayHeaderBinder */ "./lib/bindings/TrayHeaderBinder.ts"));
const FakeQueue_1 = __importDefault(__webpack_require__(/*! ./FakeQueue */ "./lib/bindings/FakeQueue.ts"));
const MessageExplorerBinder_1 = __importDefault(__webpack_require__(/*! ./MessageExplorerBinder */ "./lib/bindings/MessageExplorerBinder.ts"));
const NotificationBannerBinder_1 = __importDefault(__webpack_require__(/*! ./NotificationBannerBinder */ "./lib/bindings/NotificationBannerBinder.ts"));
const EmailBinder_1 = __importDefault(__webpack_require__(/*! ./EmailBinder */ "./lib/bindings/EmailBinder.ts"));
const EmailConfirmationLinkBinder_1 = __importDefault(__webpack_require__(/*! ./EmailConfirmationLinkBinder */ "./lib/bindings/EmailConfirmationLinkBinder.ts"));
const PasswordResetLinkBinder_1 = __importDefault(__webpack_require__(/*! ./PasswordResetLinkBinder */ "./lib/bindings/PasswordResetLinkBinder.ts"));
const ConfirmationPanelBinder_1 = __importDefault(__webpack_require__(/*! ./ConfirmationPanelBinder */ "./lib/bindings/ConfirmationPanelBinder.ts"));
const BrBinder_1 = __importDefault(__webpack_require__(/*! ./BrBinder */ "./lib/bindings/BrBinder.ts"));
const SpanBinder_1 = __importDefault(__webpack_require__(/*! ./SpanBinder */ "./lib/bindings/SpanBinder.ts"));
const UuidBinder_1 = __importDefault(__webpack_require__(/*! ./UuidBinder */ "./lib/bindings/UuidBinder.ts"));
const ScriptBinder_1 = __importDefault(__webpack_require__(/*! ./ScriptBinder */ "./lib/bindings/ScriptBinder.ts"));
const LoopBinder_1 = __importDefault(__webpack_require__(/*! ./LoopBinder */ "./lib/bindings/LoopBinder.ts"));
const SwitchBinder_1 = __importDefault(__webpack_require__(/*! ./SwitchBinder */ "./lib/bindings/SwitchBinder.ts"));
const registry = [
    new TitleBinder_1.default(),
    new ParagraphBinder_1.default(),
    new DivBinder_1.default(),
    new LoginPanelBinder_1.default(),
    new WellBinder_1.default(),
    new UserExplorerBinder_1.default(),
    new ImageBinder_1.default(),
    new LinkBinder_1.default(),
    new BackLinkBinder_1.default(),
    new RegisterPanelBinder_1.default(),
    new PageBinder_1.default(),
    new ResetPasswordRequestPanelBinder_1.default(),
    new ResetPasswordPanelBinder_1.default(),
    new AccordionItemHeaderBinder_1.default(),
    new InsetTextBinder_1.default(),
    new AccordionItemBinder_1.default(),
    new WarningBinder_1.default(),
    new ColumnBinder_1.default(),
    new RowBinder_1.default(),
    new CellBinder_1.default(),
    new TableBinder_1.default(),
    new BadgeBinder_1.default(),
    new AccordionBinder_1.default(),
    new CardHeaderBinder_1.default(),
    new CardBodyBinder_1.default(),
    new CardFooterBinder_1.default(),
    new CardBinder_1.default(),
    new IconBinder_1.default(),
    new ToolTipBinder_1.default(),
    new ListItemBinder_1.default(),
    new ListBinder_1.default(),
    new CookieConsentBinder_1.default(),
    new FakeStoreBinder_1.default(),
    new ErrorSummaryBinder_1.default(),
    new InputBinder_1.default(),
    new EnumerationInputBinder_1.default(),
    new ValueBinder_1.default(),
    new ScaleBinder_1.default(),
    new ButtonBinder_1.default(),
    new JumbotronBinder_1.default(),
    new CarouselBinder_1.default(),
    new CarouselPanelBinder_1.default(),
    new ProgressBarBinder_1.default(),
    new FormBinder_1.default(),
    new WizardTestResultsBinder_1.default(),
    new ConfirmWorkflowPanelBinder_1.default(),
    new CloseWorkflowExecutedPanelBinder_1.default(),
    new FakeUserBinder_1.default(),
    new FakeMessageBinder_1.default(),
    new FakeWizardBinder_1.default(),
    new FakeWorkflowBinder_1.default(),
    new FakePageBinder_1.default(),
    new FakeQueue_1.default(),
    new MileStoneBinder_1.default(),
    new HorizontalRuleBinder_1.default(),
    new InitiateWorkflowButtonBinder_1.default(),
    new MenuBinder_1.default(),
    new MenuBrandBinder_1.default(),
    new MenuItemBinder_1.default(),
    new SubMenuBinder_1.default(),
    new SubMenuLabelBinder_1.default(),
    new TrayBinder_1.default(),
    new TrayHeaderBinder_1.default(),
    new MessageExplorerBinder_1.default(),
    new NotificationBannerBinder_1.default(),
    new EmailBinder_1.default(),
    new EmailConfirmationLinkBinder_1.default(),
    new PasswordResetLinkBinder_1.default(),
    new ConfirmationPanelBinder_1.default(),
    new BrBinder_1.default(),
    new SpanBinder_1.default(),
    new UuidBinder_1.default(),
    new ScriptBinder_1.default(),
    new LoopBinder_1.default(),
    new SwitchBinder_1.default()
];
function findBinder(name) {
    return registry.find(builtin => builtin.accept(name));
}
exports.findBinder = findBinder;


/***/ }),

/***/ "./lib/flex-container-support.ts":
/*!***************************************!*\
  !*** ./lib/flex-container-support.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.flexContainerSupport = void 0;
const StringBuffer_1 = __webpack_require__(/*! ./utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
function flexContainerSupport(data, classManager, attributes) {
    const styles = {
        display: 'flex'
    };
    if (attributes.padding) {
        styles['padding'] = attributes.padding;
    }
    if (attributes.orientation) {
        styles['flex-direction'] = attributes.orientation.toLowerCase().replaceAll("_", "-");
    }
    if (attributes.justifyContent) {
        if (attributes.justifyContent === 'START') {
            styles['justify-content'] = 'flex-start';
        }
        else if (attributes.justifyContent === 'END') {
            styles['justify-content'] = 'flex-end';
        }
        else if (attributes.justifyContent === 'CENTER') {
            styles['justify-content'] = 'center';
        }
        else if (attributes.justifyContent === 'SPACE_BETWEEN') {
            styles['justify-content'] = 'space-between';
        }
        else if (attributes.justifyContent === 'SPACE_AROUND') {
            styles['justify-content'] = 'space-around';
        }
    }
    if (attributes.alignItems) {
        if (attributes.alignItems === 'START') {
            styles['align-items'] = 'flex-start';
        }
        else if (attributes.alignItems === 'END') {
            styles['align-items'] = 'flex-end';
        }
        else if (attributes.alignItems === 'CENTER') {
            styles['align-items'] = 'center';
        }
        else if (attributes.alignItems === 'BASELINE') {
            styles['align-items'] = 'baseline';
        }
        else if (attributes.alignItems === 'STRETCH') {
            styles['align-items'] = 'stretch';
        }
    }
    if (attributes.alignContent) {
        if (attributes.alignContent === 'START') {
            styles['align-content'] = 'flex-start';
        }
        else if (attributes.alignContent === 'END') {
            styles['align-content'] = 'flex-end';
        }
        else if (attributes.alignContent === 'CENTER') {
            styles['align-content'] = 'center';
        }
        else if (attributes.alignContent === 'BASELINE') {
            styles['align-content'] = 'baseline';
        }
        else if (attributes.alignContent === 'STRETCH') {
            styles['align-content'] = 'stretch';
        }
    }
    if (attributes.wrap) {
        styles['flex-wrap'] = attributes.wrap.toLowerCase().replaceAll("_", "-");
    }
    const buffer = new StringBuffer_1.StringBuffer();
    for (const [key, value] of Object.entries(styles)) {
        buffer.append(`${key}: ${value};`);
    }
    data.containerStyles = buffer.toString();
}
exports.flexContainerSupport = flexContainerSupport;


/***/ }),

/***/ "./lib/flex-item-support.ts":
/*!**********************************!*\
  !*** ./lib/flex-item-support.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const StringBuffer_1 = __webpack_require__(/*! ./utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
function flexItemSupport(data, classManager, attributes) {
    const styles = {};
    if (attributes.padding) {
        styles['padding'] = attributes.padding;
    }
    if (attributes.margin) {
        styles['margin'] = attributes.margin;
    }
    if (attributes.flexBasis) {
        styles['flex-basis'] = attributes.flexBasis;
    }
    if (attributes.flexGrow) {
        styles['flex-grow'] = attributes.flexGrow;
    }
    if (attributes.flexShrink) {
        styles['flex-shrink'] = attributes.flexShrink;
    }
    if (attributes.alignSelf) {
        if (attributes.alignSelf === 'START') {
            styles['align-self'] = 'flex-start';
        }
        else if (attributes.alignSelf === 'END') {
            styles['align-self'] = 'flex-end';
        }
        else if (attributes.alignSelf === 'CENTER') {
            styles['align-self'] = 'center';
        }
        else if (attributes.alignSelf === 'BASELINE') {
            styles['align-self'] = 'baseline';
        }
        else if (attributes.alignSelf === 'STRETCH') {
            styles['align-self'] = 'stretch';
        }
    }
    if (attributes.height) {
        styles['height'] = attributes.height;
    }
    if (attributes.width) {
        styles['width'] = attributes.width;
    }
    if (attributes.borderRadius) {
        styles['border-radius'] = attributes.borderRadius;
    }
    if (attributes.backgroundFlavour) {
        classManager.append(attributes.backgroundFlavour, 'bg-', '');
    }
    const buffer = new StringBuffer_1.StringBuffer();
    for (const [key, value] of Object.entries(styles)) {
        buffer.append(`${key}: ${value};`);
    }
    data.itemStyles = buffer.toString();
}
exports["default"] = flexItemSupport;


/***/ }),

/***/ "./lib/freemarker.ts":
/*!***************************!*\
  !*** ./lib/freemarker.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TemplateEngine = void 0;
const StringBuffer_1 = __webpack_require__(/*! ./utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const lexer_1 = __webpack_require__(/*! ./freemarker/template/lexer */ "./lib/freemarker/template/lexer.ts");
const LexicalTokenType_1 = __webpack_require__(/*! ./freemarker/template/LexicalTokenType */ "./lib/freemarker/template/LexicalTokenType.ts");
const Value_1 = __webpack_require__(/*! ./freemarker/expression/Value */ "./lib/freemarker/expression/Value.ts");
const expression_engine_1 = __webpack_require__(/*! ./freemarker/expression-engine */ "./lib/freemarker/expression-engine.ts");
const TemplateError_1 = __webpack_require__(/*! ./freemarker/TemplateError */ "./lib/freemarker/TemplateError.ts");
const ProhibitedError_1 = __webpack_require__(/*! ./freemarker/ProhibitedError */ "./lib/freemarker/ProhibitedError.ts");
const isHash_1 = __webpack_require__(/*! ./utilities/isHash */ "./lib/utilities/isHash.ts");
const PROHIBITED = [
    "attempt", "recover", "autoesc", "compress", "escape", "noescape", "flush", "ftl", "function", "return", "global",
    "import", "include", "continue", "local", "macro", "nested", "return", "nooautoesc", "noparse", "nt",
    "outputformat", "settings", "stop", "t", "lt", "rt", "visit", "recurse", "fallback"
];
class TemplateEngine {
    constructor() {
        this.expressionEngine = new expression_engine_1.ExpressionEngine();
    }
    render(template, data) {
        const tokens = (0, lexer_1.parse)(template);
        return this.consume(tokens, data)[0];
    }
    discard(tokens) {
        var _a;
        let level = 0;
        while (tokens.length) {
            const token = tokens.shift();
            if (token.getType() === LexicalTokenType_1.LexicalTokenType.CLOSE_DIRECTIVE) {
                if (token.getText() === 'if' || token.getText() === 'list' || token.getText() === 'assign' || token.getText() === 'items' || token.getText() === 'switch') {
                    if (level) {
                        level--;
                    }
                    else {
                        return token;
                    }
                }
            }
            else if (token.getType() === LexicalTokenType_1.LexicalTokenType.OPEN_DIRECTIVE) {
                if (token.getText() === 'if' || token.getText() === 'list' || token.getText() === 'items' || token.getText() === 'switch') {
                    level++;
                }
                else if (token.getText() === 'assign') {
                    if (!((_a = token.getParams()) === null || _a === void 0 ? void 0 : _a.includes("="))) {
                        level++;
                    }
                }
                else if (level === 0 && (token.getText() === 'else' || token.getText() === 'elseif' || token.getText() === 'case' || token.getText() === 'default')) {
                    return token;
                }
            }
        }
    }
    consume(tokens, data) {
        const buffer = new StringBuffer_1.StringBuffer();
        while (tokens.length) {
            const token = tokens.shift();
            if (token.getType() === LexicalTokenType_1.LexicalTokenType.TEXT) {
                buffer.append(token.getText());
            }
            else if (token.getType() === LexicalTokenType_1.LexicalTokenType.INTERPOLATION) {
                buffer.append(this.expressionEngine.build(token.getParams(), token.getParamsRow(), token.getParamsColumn()).evaluate(data).retrieve());
            }
            else if (token.getType() === LexicalTokenType_1.LexicalTokenType.OPEN_DIRECTIVE) {
                if (token.getText() === 'assign') {
                    const [result, close] = this.handleAssign(token.getParams(), token.getParamsRow(), token.getParamsColumn(), tokens, data);
                }
                else if (token.getText() === 'if') {
                    const [result, close] = this.handleIf(token.getParams(), token.getParamsRow(), token.getParamsColumn(), tokens, data);
                    if ((close === null || close === void 0 ? void 0 : close.getText()) !== 'if') {
                        throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), "Invalid closing tag for if");
                    }
                    buffer.append(result);
                }
                else if (token.getText() === 'list') {
                    const [result, close] = this.handleList(token.getParams(), token.getParamsRow(), token.getParamsColumn(), tokens, data);
                    if ((close === null || close === void 0 ? void 0 : close.getText()) !== 'list') {
                        throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), "Invalid closing tag for list");
                    }
                    buffer.append(result);
                }
                else if (token.getText() === 'switch') {
                    const [result, close] = this.handleSwitch(token.getParams(), token.getParamsRow(), token.getParamsColumn(), tokens, data);
                    if ((close === null || close === void 0 ? void 0 : close.getText()) !== 'switch') {
                        throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), "Invalid closing tag for switch");
                    }
                    buffer.append(result);
                }
                else if (token.getText() === 'else') {
                    return [buffer.toString(), token];
                }
                else if (token.getText() === 'elseif') {
                    return [buffer.toString(), token];
                }
                else if (token.getText() === 'items') {
                    return [buffer.toString(), token];
                }
                else if (token.getText() === 'sep') {
                    return [buffer.toString(), token];
                }
                else if (token.getText() === 'break') {
                    return [buffer.toString(), token];
                }
                else if (token.getText() === 'case') {
                    //ignore case directive as we stop on 'break'
                }
                else if (PROHIBITED.includes(token.getText())) {
                    throw new ProhibitedError_1.ProhibitedError(token.getRow(), token.getColumn(), `Directive is prohibited '${token.getText()}'`);
                }
                else {
                    throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), `Unsupported directive '${token.getText()}'`);
                }
            }
            else if (token.getType() === LexicalTokenType_1.LexicalTokenType.CLOSE_DIRECTIVE) {
                return [buffer.toString(), token];
            }
        }
        return [buffer.toString(), undefined];
    }
    processList(tokens, data, sequence, argName) {
        const copy = [...tokens];
        let block = undefined;
        let result = "";
        let separator = undefined;
        let close = undefined;
        const buffer = new StringBuffer_1.StringBuffer();
        for (let i = 0; i < sequence.length; i++) {
            const scope = Object.assign({}, data);
            scope[argName] = sequence[i];
            scope[`$${argName}$`] = true;
            scope[`$${argName}_index$`] = i;
            scope[`$${argName}_length$`] = sequence.length;
            if (separator) {
                buffer.append(separator);
            }
            if (block) {
                const local = [...block];
                let [result, close] = this.consume(local, scope);
                buffer.append(result);
                if ((close === null || close === void 0 ? void 0 : close.getText()) === 'sep') {
                    [separator, close] = this.consume(local, scope);
                    if ((close === null || close === void 0 ? void 0 : close.getText()) === 'sep') {
                        [result, close] = this.consume(local, scope);
                        buffer.append(result);
                    }
                }
            }
            else {
                [result, close] = this.consume(tokens, scope);
                buffer.append(result);
                if ((close === null || close === void 0 ? void 0 : close.getText()) === 'sep') {
                    [separator, close] = this.consume(tokens, scope);
                    if ((close === null || close === void 0 ? void 0 : close.getText()) === 'sep') {
                        [result, close] = this.consume(tokens, scope);
                        buffer.append(result);
                    }
                }
                block = copy.slice(0, copy.length - tokens.length - 1);
            }
        }
        if (sequence.length === 0) {
            const scope = Object.assign({}, data);
            scope[argName] = undefined;
            close = this.discard(tokens);
        }
        return [buffer.toString(), close];
    }
    processHash(tokens, data, hash, keyName, argName) {
        const copy = [...tokens];
        let block = undefined;
        let result = "";
        let separator = undefined;
        let close = undefined;
        const buffer = new StringBuffer_1.StringBuffer();
        for (const key in hash) {
            const value = hash[key];
            const scope = Object.assign({}, data);
            scope[keyName] = key;
            scope[argName] = value;
            if (separator) {
                buffer.append(separator);
            }
            if (block) {
                const local = [...block];
                let [result, close] = this.consume(local, scope);
                buffer.append(result);
                if ((close === null || close === void 0 ? void 0 : close.getText()) === 'sep') {
                    [separator, close] = this.consume(local, scope);
                    if ((close === null || close === void 0 ? void 0 : close.getText()) === 'sep') {
                        [result, close] = this.consume(local, scope);
                        buffer.append(result);
                    }
                }
            }
            else {
                [result, close] = this.consume(tokens, scope);
                buffer.append(result);
                if ((close === null || close === void 0 ? void 0 : close.getText()) === 'sep') {
                    [separator, close] = this.consume(tokens, scope);
                    if ((close === null || close === void 0 ? void 0 : close.getText()) === 'sep') {
                        [result, close] = this.consume(tokens, scope);
                        buffer.append(result);
                    }
                }
                block = copy.slice(0, copy.length - tokens.length - 1);
            }
        }
        if (Object.keys(hash).length === 0) {
            const scope = Object.assign({}, data);
            scope[argName] = undefined;
            close = this.discard(tokens);
        }
        return [buffer.toString(), close];
    }
    handleList(expression, row, column, tokens, data) {
        const buffer = new StringBuffer_1.StringBuffer();
        let result = undefined, close = undefined;
        if (expression.includes(" as ")) {
            const [refName, argName] = expression.split(" as ").map(x => x.trim());
            const subject = this.expressionEngine.build(refName, row, column).evaluate(data).retrieve();
            if (Array.isArray(subject)) {
                [result, close] = this.processList(tokens, data, subject, argName);
                buffer.append(result);
            }
            else if ((0, isHash_1.isHash)(subject)) {
                const [key, value] = argName.split(",").map(s => s.trim());
                [result, close] = this.processHash(tokens, data, subject, key, value);
                buffer.append(result);
            }
            else {
                throw new TemplateError_1.TemplateError(row, column, "'as' operator requires an iterable subject (hash or sequence).");
            }
            let text = undefined;
            if ((close === null || close === void 0 ? void 0 : close.getText()) === 'else') {
                if (subject.length === 0) {
                    [text, close] = this.consume(tokens, data);
                    buffer.append(text);
                }
                else {
                    close = this.discard(tokens);
                }
            }
        }
        else {
            const ref = this.expressionEngine.build(expression, row, column).evaluate(data);
            const subject = ref.retrieve();
            if (Array.isArray(subject) || (0, isHash_1.isHash)(subject)) {
                if ((Array.isArray(subject) && subject.length) || ((0, isHash_1.isHash)(subject) && Object.keys(subject).length)) {
                    [result, close] = this.consume(tokens, data);
                    buffer.append(result);
                    if ((close === null || close === void 0 ? void 0 : close.getType()) === LexicalTokenType_1.LexicalTokenType.OPEN_DIRECTIVE && (close === null || close === void 0 ? void 0 : close.getText()) === 'items') {
                        if (Array.isArray(subject)) {
                            const [blank, argName] = close.getParams().split("as").map(x => x.trim());
                            [result, close] = this.processList(tokens, data, subject, argName);
                            buffer.append(result);
                        }
                        else if ((0, isHash_1.isHash)(subject)) {
                            const [blank, argName] = close === null || close === void 0 ? void 0 : close.getParams().split("as").map(x => x.trim());
                            const [key, value] = argName.split(",").map(s => s.trim());
                            [result, close] = this.processHash(tokens, data, subject, key, value);
                            buffer.append(result);
                        }
                    }
                    if ((close === null || close === void 0 ? void 0 : close.getType()) === LexicalTokenType_1.LexicalTokenType.CLOSE_DIRECTIVE && (close === null || close === void 0 ? void 0 : close.getText()) === 'items') {
                        [result, close] = this.consume(tokens, data);
                        buffer.append(result);
                    }
                    if ((close === null || close === void 0 ? void 0 : close.getText()) === 'else') {
                        close = this.discard(tokens);
                    }
                }
                else {
                    close = this.discard(tokens);
                    if ((close === null || close === void 0 ? void 0 : close.getText()) === 'else') {
                        [result, close] = this.consume(tokens, data);
                        buffer.append(result);
                    }
                }
                if (close && close.getText() !== 'list') {
                    throw new TemplateError_1.TemplateError(close.getColumn(), close.getRow(), "List improperly terminated");
                }
            }
            else {
                throw new TemplateError_1.TemplateError(row, column, "list directive requires an iterable subject (sequence or hash).");
            }
        }
        return [buffer.toString(), close];
    }
    handleAssign(expression, row, column, tokens, data) {
        const value = this.expressionEngine.build(expression, row, column).evaluate(data);
        if (value instanceof Value_1.Reference) {
            const [result, close] = this.consume(tokens, data);
            value.assign(result);
            return ["", close];
        }
        return ["", undefined];
    }
    handleIf(expression, row, column, tokens, data) {
        let result = undefined, text = undefined, close = undefined;
        const bool = this.expressionEngine.build(expression, row, column).evaluate(data).retrieve();
        if (bool) {
            [text, close] = this.consume(tokens, data);
            result = text;
        }
        else {
            close = this.discard(tokens);
        }
        while (close && close.getType() === LexicalTokenType_1.LexicalTokenType.OPEN_DIRECTIVE && close.getText() === 'elseif') {
            const bool = this.expressionEngine.build(close.getParams(), close.getRow(), close.getColumn()).evaluate(data).retrieve();
            if (bool && result === undefined) {
                [text, close] = this.consume(tokens, data);
                result = text;
            }
            else {
                close = this.discard(tokens);
            }
        }
        if ((close === null || close === void 0 ? void 0 : close.getText()) === 'else') {
            if (result === undefined) {
                [text, close] = this.consume(tokens, data);
                result = text;
            }
            else {
                close = this.discard(tokens);
            }
        }
        return [result || "", close];
    }
    handleSwitch(expression, row, column, tokens, data) {
        let text = undefined, close = undefined;
        const result = new StringBuffer_1.StringBuffer();
        const reference = this.expressionEngine.build(expression, row, column).evaluate(data).retrieve();
        let current = tokens.shift();
        while (current && current.getType() !== LexicalTokenType_1.LexicalTokenType.CLOSE_DIRECTIVE) {
            if (current.getType() === LexicalTokenType_1.LexicalTokenType.OPEN_DIRECTIVE && current.getText() === 'case') {
                const value = this.expressionEngine.build(current.getParams(), current.getRow(), current.getColumn()).evaluate(data).retrieve();
                if (reference === value) {
                    while (current && current.getType() === LexicalTokenType_1.LexicalTokenType.OPEN_DIRECTIVE && current.getText() === "case") {
                        [text, current] = this.consume(tokens, data);
                        result.append(text);
                    }
                    while (current && current.getType() !== LexicalTokenType_1.LexicalTokenType.CLOSE_DIRECTIVE) {
                        current = this.discard(tokens);
                    }
                }
                else {
                    current = this.discard(tokens);
                }
            }
            else if (current.getType() === LexicalTokenType_1.LexicalTokenType.OPEN_DIRECTIVE && current.getText() === 'default') {
                if (text) {
                    current = this.discard(tokens);
                }
                else {
                    [text, current] = this.consume(tokens, data);
                    result.append(text);
                }
            }
            else {
                current = tokens.shift();
            }
        }
        return [result.toString(), current];
    }
}
exports.TemplateEngine = TemplateEngine;


/***/ }),

/***/ "./lib/freemarker/FreemarkerError.ts":
/*!*******************************************!*\
  !*** ./lib/freemarker/FreemarkerError.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FreemarkerError = void 0;
class FreemarkerError extends Error {
    constructor(message, cause = undefined) {
        super(message);
        this.cause = cause;
    }
}
exports.FreemarkerError = FreemarkerError;


/***/ }),

/***/ "./lib/freemarker/ProhibitedError.ts":
/*!*******************************************!*\
  !*** ./lib/freemarker/ProhibitedError.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ProhibitedError = void 0;
const TemplateError_1 = __webpack_require__(/*! ./TemplateError */ "./lib/freemarker/TemplateError.ts");
class ProhibitedError extends TemplateError_1.TemplateError {
}
exports.ProhibitedError = ProhibitedError;


/***/ }),

/***/ "./lib/freemarker/ReferenceNotFoundError.ts":
/*!**************************************************!*\
  !*** ./lib/freemarker/ReferenceNotFoundError.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ReferenceNotFoundError = void 0;
const TemplateError_1 = __webpack_require__(/*! ./TemplateError */ "./lib/freemarker/TemplateError.ts");
class ReferenceNotFoundError extends TemplateError_1.TemplateError {
}
exports.ReferenceNotFoundError = ReferenceNotFoundError;


/***/ }),

/***/ "./lib/freemarker/TemplateError.ts":
/*!*****************************************!*\
  !*** ./lib/freemarker/TemplateError.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TemplateError = void 0;
class TemplateError extends Error {
    constructor(row, column, message, cause = undefined) {
        super(`(${row + 1}:${column + 1}) ${message}`);
        this.cause = cause;
    }
}
exports.TemplateError = TemplateError;


/***/ }),

/***/ "./lib/freemarker/builtin/BooleanBuiltin.ts":
/*!**************************************************!*\
  !*** ./lib/freemarker/builtin/BooleanBuiltin.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BooleanBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class BooleanBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "boolean";
    }
    evaluate(subject, data, row, column) {
        if (subject === "true") {
            return Value_1.Literal.of(true);
        }
        if (subject === "false") {
            return Value_1.Literal.of(false);
        }
        throw new TemplateError_1.TemplateError(row, column, `Cannot convert string to boolean`);
    }
}
exports.BooleanBuiltin = BooleanBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/CapFirstBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/CapFirstBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CapFirstBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const isWhitespace_1 = __webpack_require__(/*! ../../utilities/isWhitespace */ "./lib/utilities/isWhitespace.ts");
class CapFirstBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "cap_first";
    }
    evaluate(subject, data) {
        let index = 0;
        while (index < subject.length) {
            if (!(0, isWhitespace_1.isWhitespace)(subject.charAt(index))) {
                break;
            }
            index++;
        }
        return Value_1.Literal.of(subject.slice(0, index) + subject.charAt(index).toUpperCase() + subject.slice(index + 1));
    }
}
exports.CapFirstBuiltin = CapFirstBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/CapitalizeBuiltin.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/builtin/CapitalizeBuiltin.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CapitalizeBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const isWhitespace_1 = __webpack_require__(/*! ../../utilities/isWhitespace */ "./lib/utilities/isWhitespace.ts");
class CapitalizeBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "capitalize";
    }
    evaluate(subject, data) {
        const output = [];
        let latch = true;
        for (let i = 0; i < subject.length; i++) {
            const c = subject.charAt(i);
            if (latch) {
                output.push(c.toUpperCase());
                latch = false;
            }
            else {
                if ((0, isWhitespace_1.isWhitespace)(c)) {
                    latch = true;
                }
                output.push(c.toLowerCase());
            }
        }
        return Value_1.Literal.of(output.join(""));
    }
}
exports.CapitalizeBuiltin = CapitalizeBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/CeilBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/CeilBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CeilBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class CeilBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "number" && name === "ceil";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(Math.ceil(subject));
    }
}
exports.CeilBuiltin = CeilBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/ChopLinebreakBuiltin.ts":
/*!********************************************************!*\
  !*** ./lib/freemarker/builtin/ChopLinebreakBuiltin.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ChopLinebreakBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class ChopLinebreakBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "chop_linebreak";
    }
    evaluate(subject, data) {
        const length = subject.length;
        if (subject.length && subject.charAt(length - 1) === '\n') {
            if (subject.length > 2 && subject.charAt(length - 2) === '\r') {
                return Value_1.Literal.of(subject.slice(0, length - 2));
            }
            return Value_1.Literal.of(subject.slice(0, length - 1));
        }
        else if (subject.length && subject.charAt(length - 1) === '\r') {
            return Value_1.Literal.of(subject.slice(0, length - 1));
        }
        return Value_1.Literal.of(subject);
    }
}
exports.ChopLinebreakBuiltin = ChopLinebreakBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/ChunkBuiltin.ts":
/*!************************************************!*\
  !*** ./lib/freemarker/builtin/ChunkBuiltin.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ChunkBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class ChunkBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "chunk";
    }
    evaluate(subject, arg1, data) {
        const length = arg1.evaluate(data).retrieve();
        const results = [];
        let group = undefined;
        for (let i = 0; i < subject.length; i++) {
            if (i % length === 0) {
                if (group) {
                    results.push(group);
                }
                group = [];
            }
            group.push(subject[i]);
        }
        results.push(group);
        return Value_1.Literal.of(results);
    }
}
exports.ChunkBuiltin = ChunkBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/ContainsBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/ContainsBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ContainsBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class ContainsBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "contains";
    }
    evaluate(subject, arg, data) {
        return Value_1.Literal.of(subject.includes(arg.evaluate(data).retrieve()));
    }
}
exports.ContainsBuiltin = ContainsBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/DateBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/DateBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DateBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const isDate_1 = __webpack_require__(/*! ../../utilities/isDate */ "./lib/utilities/isDate.ts");
class DateBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return (typeof subject === "string" || (0, isDate_1.isDate)(subject)) && name === "date";
    }
    evaluate(subject, data) {
        const dte = (0, isDate_1.isDate)(subject) ? subject : new Date(subject);
        dte.setHours(0);
        return Value_1.Literal.of(dte);
    }
}
exports.DateBuiltin = DateBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/DatetimeBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/DatetimeBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DatetimeBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const isDate_1 = __webpack_require__(/*! ../../utilities/isDate */ "./lib/utilities/isDate.ts");
class DatetimeBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return (typeof subject === "string" || (0, isDate_1.isDate)(subject)) && name === "datetime";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of((0, isDate_1.isDate)(subject) ? subject : new Date(subject));
    }
}
exports.DatetimeBuiltin = DatetimeBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/DropWhileBuiltin.ts":
/*!****************************************************!*\
  !*** ./lib/freemarker/builtin/DropWhileBuiltin.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DropWhileBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const LambdaExpression_1 = __webpack_require__(/*! ../expression/LambdaExpression */ "./lib/freemarker/expression/LambdaExpression.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class DropWhileBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "drop_while";
    }
    evaluate(subject, arg1, data, row, column) {
        const result = [];
        const lambda = arg1;
        if (!(lambda instanceof LambdaExpression_1.LambdaExpression)) {
            throw new TemplateError_1.TemplateError(row, column, `Invalid argument, only lambda is current supported`);
        }
        let i = 0;
        let bool = true;
        while (i < subject.length) {
            if (bool) {
                bool = lambda.evaluate(Object.assign({ '$$': subject[i] }, data)).retrieve();
            }
            if (!bool) {
                result.push(subject[i]);
            }
            i++;
        }
        return Value_1.Literal.of(result);
    }
}
exports.DropWhileBuiltin = DropWhileBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/EndsWithBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/EndsWithBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EndsWithBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class EndsWithBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "ends_with";
    }
    evaluate(subject, arg, data) {
        return Value_1.Literal.of(subject.endsWith(arg.evaluate(data).retrieve()));
    }
}
exports.EndsWithBuiltin = EndsWithBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/EnsureEndsWithBuiltin.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/builtin/EnsureEndsWithBuiltin.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EnsureEndsWithBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class EnsureEndsWithBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "ensure_ends_with";
    }
    evaluate(subject, arg1, data) {
        const arg = arg1.evaluate(data).retrieve();
        for (let i = 0; i < arg.length; i++) {
            if (subject.endsWith(arg.slice(0, arg.length - i))) {
                return Value_1.Literal.of(subject + arg.slice(arg.length - i));
            }
        }
        return Value_1.Literal.of(subject + arg);
    }
}
exports.EnsureEndsWithBuiltin = EnsureEndsWithBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/EnsureStartsWithBuiltin.ts":
/*!***********************************************************!*\
  !*** ./lib/freemarker/builtin/EnsureStartsWithBuiltin.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EnsureStartsWithBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class EnsureStartsWithBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "ensure_starts_with";
    }
    calculate(subject, args, data, row, column) {
        if (args.length === 1) {
            const arg = args[0].evaluate(data).retrieve();
            for (let i = 0; i < arg.length; i++) {
                if (subject.startsWith(arg.slice(i))) {
                    return Value_1.Literal.of(arg.slice(0, i) + subject);
                }
            }
            return Value_1.Literal.of(arg + subject);
        }
        else if (args.length === 2) {
            const regex = args[0].evaluate(data).retrieve();
            const replace = args[1].evaluate(data).retrieve();
            return Value_1.Literal.of(subject.replace(new RegExp(regex), replace));
        }
        else {
            throw new TemplateError_1.TemplateError(row, column, `Invalid number of arguments`);
        }
    }
}
exports.EnsureStartsWithBuiltin = EnsureStartsWithBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/FilterBuiltin.ts":
/*!*************************************************!*\
  !*** ./lib/freemarker/builtin/FilterBuiltin.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FilterBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const LambdaExpression_1 = __webpack_require__(/*! ../expression/LambdaExpression */ "./lib/freemarker/expression/LambdaExpression.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class FilterBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "filter";
    }
    evaluate(subject, arg1, data, row, column) {
        const result = [];
        const lambda = arg1;
        if (!(lambda instanceof LambdaExpression_1.LambdaExpression)) {
            throw new TemplateError_1.TemplateError(row, column, `Invalid argument, only lambda is current supported`);
        }
        let i = 0;
        while (i < subject.length) {
            const bool = lambda.evaluate(Object.assign({ '$$': subject[i] }, data)).retrieve();
            if (bool) {
                result.push(subject[i]);
            }
            i++;
        }
        return Value_1.Literal.of(result);
    }
}
exports.FilterBuiltin = FilterBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/FirstBuiltin.ts":
/*!************************************************!*\
  !*** ./lib/freemarker/builtin/FirstBuiltin.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FirstBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class FirstBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "first";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject[0]);
    }
}
exports.FirstBuiltin = FirstBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/FloorBuiltin.ts":
/*!************************************************!*\
  !*** ./lib/freemarker/builtin/FloorBuiltin.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FloorBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class FloorBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "number" && name === "floor";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(Math.floor(subject));
    }
}
exports.FloorBuiltin = FloorBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/HasContentBuiltin.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/builtin/HasContentBuiltin.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.HasContentBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const isHash_1 = __webpack_require__(/*! ../../utilities/isHash */ "./lib/utilities/isHash.ts");
class HasContentBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return name === "has_content";
    }
    evaluate(subject, data, row, column) {
        if (subject === undefined) {
            return Value_1.Literal.of(false);
        }
        if (subject === null) {
            return Value_1.Literal.of(false);
        }
        if (Array.isArray(subject)) {
            return Value_1.Literal.of(subject.length > 0);
        }
        if ((0, isHash_1.isHash)(subject)) {
            return Value_1.Literal.of(Object.keys(subject).length > 0);
        }
        if (typeof subject === "string") {
            return Value_1.Literal.of(subject.length > 0);
        }
        return Value_1.Literal.of(true);
    }
}
exports.HasContentBuiltin = HasContentBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/IndexOfBuiltin.ts":
/*!**************************************************!*\
  !*** ./lib/freemarker/builtin/IndexOfBuiltin.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IndexOfWithBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class IndexOfWithBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "index_of";
    }
    evaluate(subject, arg, data) {
        return Value_1.Literal.of(subject.indexOf(arg.evaluate(data).retrieve()));
    }
}
exports.IndexOfWithBuiltin = IndexOfWithBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/IsInfiniteBuiltin.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/builtin/IsInfiniteBuiltin.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IsInfiniteBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class IsInfiniteBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "number" && name === "is_infinite";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(!isFinite(subject));
    }
}
exports.IsInfiniteBuiltin = IsInfiniteBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/IsNanBuiltin.ts":
/*!************************************************!*\
  !*** ./lib/freemarker/builtin/IsNanBuiltin.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IsNanBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class IsNanBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "number" && name === "is_nan";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(isNaN(subject));
    }
}
exports.IsNanBuiltin = IsNanBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/JoinBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/JoinBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.JoinBuiltin = void 0;
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
class JoinBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "join";
    }
    evaluate(subject, arg, data) {
        const separator = arg.evaluate(data).retrieve();
        return Value_1.Literal.of(subject.join(separator));
    }
}
exports.JoinBuiltin = JoinBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/KeepAfterBuiltin.ts":
/*!****************************************************!*\
  !*** ./lib/freemarker/builtin/KeepAfterBuiltin.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeepAfterBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class KeepAfterBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "keep_after";
    }
    evaluate(subject, arg, data) {
        const index = subject.indexOf(arg.evaluate(data).retrieve());
        if (index >= 0) {
            return Value_1.Literal.of(subject.substring(index + arg.evaluate(data).retrieve().length));
        }
        else {
            return Value_1.Literal.of("");
        }
    }
}
exports.KeepAfterBuiltin = KeepAfterBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/KeepAfterLastBuiltin.ts":
/*!********************************************************!*\
  !*** ./lib/freemarker/builtin/KeepAfterLastBuiltin.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeepAfterLastBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class KeepAfterLastBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "keep_after_last";
    }
    evaluate(subject, arg, data) {
        const index = subject.lastIndexOf(arg.evaluate(data).retrieve());
        if (index >= 0) {
            return Value_1.Literal.of(subject.substring(index + arg.evaluate(data).retrieve().length));
        }
        else {
            return Value_1.Literal.of("");
        }
    }
}
exports.KeepAfterLastBuiltin = KeepAfterLastBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/KeepBeforeBuiltin.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/builtin/KeepBeforeBuiltin.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeepBeforeBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class KeepBeforeBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "keep_before";
    }
    evaluate(subject, arg, data) {
        const index = subject.indexOf(arg.evaluate(data).retrieve());
        if (index >= 0) {
            return Value_1.Literal.of(subject.substring(0, index));
        }
        else {
            return Value_1.Literal.of("");
        }
    }
}
exports.KeepBeforeBuiltin = KeepBeforeBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/KeepBeforeLastBuiltin.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/builtin/KeepBeforeLastBuiltin.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeepBeforeLastBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class KeepBeforeLastBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "keep_before_last";
    }
    evaluate(subject, arg, data) {
        const index = subject.lastIndexOf(arg.evaluate(data).retrieve());
        if (index >= 0) {
            return Value_1.Literal.of(subject.substring(0, index));
        }
        else {
            return Value_1.Literal.of("");
        }
    }
}
exports.KeepBeforeLastBuiltin = KeepBeforeLastBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/LastBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/LastBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LastBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class LastBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "last";
    }
    evaluate(subject, data, row, column) {
        if (subject.length) {
            return Value_1.Literal.of(subject[subject.length - 1]);
        }
        else {
            throw new TemplateError_1.TemplateError(row, column, `Sequence is empty, 'last' builtin error`);
        }
    }
}
exports.LastBuiltin = LastBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/LastIndexOfBuiltin.ts":
/*!******************************************************!*\
  !*** ./lib/freemarker/builtin/LastIndexOfBuiltin.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LastIndexOfWithBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class LastIndexOfWithBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "last_index_of";
    }
    evaluate(subject, arg, data) {
        return Value_1.Literal.of(subject.lastIndexOf(arg.evaluate(data).retrieve()));
    }
}
exports.LastIndexOfWithBuiltin = LastIndexOfWithBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/LeftPadBuiltin.ts":
/*!**************************************************!*\
  !*** ./lib/freemarker/builtin/LeftPadBuiltin.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LeftPadBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class LeftPadBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "left_pad";
    }
    calculate(subject, args, data, row, column) {
        if (args.length === 0 || args.length > 2) {
            throw new TemplateError_1.TemplateError(row, column, `Invalid number of arguments`);
        }
        const length = args[0].evaluate(data).retrieve();
        let filler = ' ';
        if (args.length === 2) {
            filler = args[1].evaluate(data).retrieve();
        }
        const padding = filler.repeat(length);
        const missing = length - subject.length;
        if (missing > 0) {
            return Value_1.Literal.of(padding.substring(0, missing) + subject);
        }
        return Value_1.Literal.of(subject);
    }
}
exports.LeftPadBuiltin = LeftPadBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/LengthBuiltin.ts":
/*!*************************************************!*\
  !*** ./lib/freemarker/builtin/LengthBuiltin.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LengthBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class LengthBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "length";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject.length);
    }
}
exports.LengthBuiltin = LengthBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/LowerAbcBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/LowerAbcBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LowerAbcBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class LowerAbcBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "number" && name === "lower_abc";
    }
    evaluate(subject, data) {
        const result = [];
        let val = subject;
        while (val > 0) {
            let units = (val - 1) % 26;
            result.unshift(String.fromCharCode(units + 97));
            val = (val - (units + 1)) / 26;
        }
        return Value_1.Literal.of(result.join(""));
    }
}
exports.LowerAbcBuiltin = LowerAbcBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/LowerCaseBuiltin.ts":
/*!****************************************************!*\
  !*** ./lib/freemarker/builtin/LowerCaseBuiltin.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LowerCaseBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class LowerCaseBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "lower_case";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject.toLowerCase());
    }
}
exports.LowerCaseBuiltin = LowerCaseBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/MapBuiltin.ts":
/*!**********************************************!*\
  !*** ./lib/freemarker/builtin/MapBuiltin.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MapBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const LambdaExpression_1 = __webpack_require__(/*! ../expression/LambdaExpression */ "./lib/freemarker/expression/LambdaExpression.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class MapBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "map";
    }
    evaluate(subject, arg1, data, row, column) {
        const result = [];
        const lambda = arg1;
        if (!(lambda instanceof LambdaExpression_1.LambdaExpression)) {
            throw new TemplateError_1.TemplateError(row, column, `Invalid argument, only lambda is current supported`);
        }
        let i = 0;
        while (i < subject.length) {
            result.push(lambda.evaluate(Object.assign({ '$$': subject[i] }, data)).retrieve());
            i++;
        }
        return Value_1.Literal.of(result);
    }
}
exports.MapBuiltin = MapBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/MatchesBuiltin.ts":
/*!**************************************************!*\
  !*** ./lib/freemarker/builtin/MatchesBuiltin.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MatchesBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class MatchesBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "matches";
    }
    evaluate(subject, arg, data) {
        return Value_1.Literal.of(subject.match("^" + arg.evaluate(data).retrieve() + "$") !== null);
    }
}
exports.MatchesBuiltin = MatchesBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/MaxBuiltin.ts":
/*!**********************************************!*\
  !*** ./lib/freemarker/builtin/MaxBuiltin.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MaxBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class MaxBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "max";
    }
    evaluate(subject, data) {
        if (subject.length === 0) {
            return Value_1.Literal.of(undefined);
        }
        let result = Number.MIN_VALUE;
        for (let i = 0; i < subject.length; i++) {
            if (subject[i] > result) {
                result = subject[i];
            }
        }
        return Value_1.Literal.of(result);
    }
}
exports.MaxBuiltin = MaxBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/MinBuiltin.ts":
/*!**********************************************!*\
  !*** ./lib/freemarker/builtin/MinBuiltin.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MinBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class MinBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "min";
    }
    evaluate(subject, data) {
        if (subject.length === 0) {
            return Value_1.Literal.of(undefined);
        }
        let result = Number.MAX_VALUE;
        for (let i = 0; i < subject.length; i++) {
            if (subject[i] < result) {
                result = subject[i];
            }
        }
        return Value_1.Literal.of(result);
    }
}
exports.MinBuiltin = MinBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/NoArgBuiltin.ts":
/*!************************************************!*\
  !*** ./lib/freemarker/builtin/NoArgBuiltin.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NoArgBuiltin = void 0;
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class NoArgBuiltin {
    calculate(subject, args, data, row, column) {
        if (args.length === 0) {
            return this.evaluate(subject, data, row, column);
        }
        else {
            throw new TemplateError_1.TemplateError(row, column, `Invalid number of arguments`);
        }
    }
}
exports.NoArgBuiltin = NoArgBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/NumberExpression.ts":
/*!****************************************************!*\
  !*** ./lib/freemarker/builtin/NumberExpression.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NumberBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class NumberBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "number";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(Number(subject));
    }
}
exports.NumberBuiltin = NumberBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/OneArgBuiltin.ts":
/*!*************************************************!*\
  !*** ./lib/freemarker/builtin/OneArgBuiltin.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OneArgBuiltin = void 0;
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class OneArgBuiltin {
    calculate(subject, args, data, row, column) {
        if (args.length === 1) {
            return this.evaluate(subject, args[0], data, row, column);
        }
        else {
            throw new TemplateError_1.TemplateError(row, column, `Invalid number of arguments`);
        }
    }
}
exports.OneArgBuiltin = OneArgBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/RemoveBeginningBuiltin.ts":
/*!**********************************************************!*\
  !*** ./lib/freemarker/builtin/RemoveBeginningBuiltin.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RemoveBeginningBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class RemoveBeginningBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "remove_beginning";
    }
    evaluate(subject, arg1, data) {
        const arg = arg1.evaluate(data).retrieve();
        if (subject.startsWith(arg)) {
            return Value_1.Literal.of(subject.slice(arg.length));
        }
        return Value_1.Literal.of(subject);
    }
}
exports.RemoveBeginningBuiltin = RemoveBeginningBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/RemoveEndingBuiltin.ts":
/*!*******************************************************!*\
  !*** ./lib/freemarker/builtin/RemoveEndingBuiltin.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RemoveEndingBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class RemoveEndingBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "remove_ending";
    }
    evaluate(subject, arg1, data) {
        const arg = arg1.evaluate(data).retrieve();
        if (subject.endsWith(arg)) {
            return Value_1.Literal.of(subject.slice(0, subject.length - arg.length));
        }
        return Value_1.Literal.of(subject);
    }
}
exports.RemoveEndingBuiltin = RemoveEndingBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/ReplaceBuiltin.ts":
/*!**************************************************!*\
  !*** ./lib/freemarker/builtin/ReplaceBuiltin.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ReplaceBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const TwoArgBuiltin_1 = __webpack_require__(/*! ./TwoArgBuiltin */ "./lib/freemarker/builtin/TwoArgBuiltin.ts");
class ReplaceBuiltin extends TwoArgBuiltin_1.TwoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "replace";
    }
    evaluate(subject, arg1, arg2, data) {
        return Value_1.Literal.of(subject.replaceAll(arg1.evaluate(data).retrieve(), arg2.evaluate(data).retrieve()));
    }
}
exports.ReplaceBuiltin = ReplaceBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/ReverseBuiltin.ts":
/*!**************************************************!*\
  !*** ./lib/freemarker/builtin/ReverseBuiltin.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ReverseBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class ReverseBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "reverse";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject.reverse());
    }
}
exports.ReverseBuiltin = ReverseBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/RightPadBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/RightPadBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RightPadBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class RightPadBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "right_pad";
    }
    calculate(subject, args, data, row, column) {
        if (args.length === 0 || args.length > 2) {
            throw new TemplateError_1.TemplateError(row, column, `Invalid number of arguments`);
        }
        const length = args[0].evaluate(data).retrieve();
        let filler = ' ';
        if (args.length === 2) {
            filler = args[1].evaluate(data).retrieve();
        }
        const padding = filler.repeat(length);
        const missing = length - subject.length;
        if (missing > 0) {
            return Value_1.Literal.of(subject + padding.substring(0, missing));
        }
        return Value_1.Literal.of(subject);
    }
}
exports.RightPadBuiltin = RightPadBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/RoundBuiltin.ts":
/*!************************************************!*\
  !*** ./lib/freemarker/builtin/RoundBuiltin.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RoundBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class RoundBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "number" && name === "round";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(Math.round(subject));
    }
}
exports.RoundBuiltin = RoundBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/SeqContainsBuiltin.ts":
/*!******************************************************!*\
  !*** ./lib/freemarker/builtin/SeqContainsBuiltin.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SeqContainsBuiltin = void 0;
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
class SeqContainsBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "seq_contains";
    }
    evaluate(subject, arg, data) {
        return Value_1.Literal.of(subject.includes(arg.evaluate(data).retrieve()));
    }
}
exports.SeqContainsBuiltin = SeqContainsBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/SeqIndexOfBuiltin.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/builtin/SeqIndexOfBuiltin.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SeqIndexOfBuiltin = void 0;
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
class SeqIndexOfBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "seq_index_of";
    }
    evaluate(subject, arg, data) {
        return Value_1.Literal.of(subject.indexOf(arg.evaluate(data).retrieve()));
    }
}
exports.SeqIndexOfBuiltin = SeqIndexOfBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/SeqLastIndexOfBuiltin.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/builtin/SeqLastIndexOfBuiltin.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SeqLastIndexOfBuiltin = void 0;
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
class SeqLastIndexOfBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "seq_last_index_of";
    }
    evaluate(subject, arg, data) {
        return Value_1.Literal.of(subject.lastIndexOf(arg.evaluate(data).retrieve()));
    }
}
exports.SeqLastIndexOfBuiltin = SeqLastIndexOfBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/SizeBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/SizeBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SizeBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class SizeBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "size";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject.length);
    }
}
exports.SizeBuiltin = SizeBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/SortBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/SortBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SortBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class SortBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "sort";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject.sort());
    }
}
exports.SortBuiltin = SortBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/SortByBuiltin.ts":
/*!*************************************************!*\
  !*** ./lib/freemarker/builtin/SortByBuiltin.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SortByBuiltin = void 0;
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const isHash_1 = __webpack_require__(/*! ../../utilities/isHash */ "./lib/utilities/isHash.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class SortByBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "sort_by";
    }
    evaluate(subject, arg, data, row, column) {
        const name = arg.evaluate(data).retrieve();
        if (subject.find(x => !(0, isHash_1.isHash)(x))) {
            throw new TemplateError_1.TemplateError(row, column, `Attempt to use sort_by on array element that is not a hash`);
        }
        return Value_1.Literal.of(subject.sort((x, y) => x[name] < y[name] ? -1 : 0));
    }
}
exports.SortByBuiltin = SortByBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/SplitBuiltin.ts":
/*!************************************************!*\
  !*** ./lib/freemarker/builtin/SplitBuiltin.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SplitBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class SplitBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "split";
    }
    evaluate(subject, arg1, data) {
        const arg = arg1.evaluate(data).retrieve();
        return Value_1.Literal.of(subject.split(arg));
    }
}
exports.SplitBuiltin = SplitBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/StartsWithBuiltin.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/builtin/StartsWithBuiltin.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StartsWithBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class StartsWithBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "starts_with";
    }
    evaluate(subject, arg1, data) {
        const arg = arg1.evaluate(data).retrieve();
        return Value_1.Literal.of(subject.startsWith(arg));
    }
}
exports.StartsWithBuiltin = StartsWithBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/StringBuiltin.ts":
/*!*************************************************!*\
  !*** ./lib/freemarker/builtin/StringBuiltin.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StringBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const isDate_1 = __webpack_require__(/*! ../../utilities/isDate */ "./lib/utilities/isDate.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class StringBuiltin {
    accept(subject, name) {
        return (typeof subject === "number" || typeof subject === "string" || (0, isDate_1.isDate)(subject) || typeof subject === "boolean") && name === "string";
    }
    calculate(subject, args, data, row, column) {
        if (typeof subject === "boolean") {
            if (args.length === 2) {
                const arg1 = args[0].evaluate(data).retrieve();
                if (typeof arg1 !== "string") {
                    throw new TemplateError_1.TemplateError(row, column, `Invalid argument, string takes string arguments`);
                }
                const arg2 = args[1].evaluate(data).retrieve();
                if (typeof arg2 !== "string") {
                    throw new TemplateError_1.TemplateError(row, column, `Invalid argument, string takes string arguments`);
                }
                return Value_1.Literal.of(subject ? arg1 : arg2);
            }
            else {
                throw new TemplateError_1.TemplateError(row, column, `Invalid number of arguments supplied`);
            }
        }
        else if (args.length === 0) {
            if ((0, isDate_1.isDate)(subject)) {
                return Value_1.Literal.of(subject.toISOString());
            }
            return Value_1.Literal.of(String(subject));
        }
        else {
            throw new TemplateError_1.TemplateError(row, column, `Invalid number of arguments supplied`);
        }
    }
}
exports.StringBuiltin = StringBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/TakeWhileBuiltin.ts":
/*!****************************************************!*\
  !*** ./lib/freemarker/builtin/TakeWhileBuiltin.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TakeWhileBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const LambdaExpression_1 = __webpack_require__(/*! ../expression/LambdaExpression */ "./lib/freemarker/expression/LambdaExpression.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class TakeWhileBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "take_while";
    }
    evaluate(subject, arg1, data, row, column) {
        const result = [];
        const lambda = arg1;
        if (!(lambda instanceof LambdaExpression_1.LambdaExpression)) {
            throw new TemplateError_1.TemplateError(row, column, `Invalid argument, only lambda is current supported`);
        }
        let i = 0;
        let bool = true;
        while (i < subject.length) {
            if (bool) {
                bool = lambda.evaluate(Object.assign({ '$$': subject[i] }, data)).retrieve();
            }
            if (bool) {
                result.push(subject[i]);
            }
            i++;
        }
        return Value_1.Literal.of(result);
    }
}
exports.TakeWhileBuiltin = TakeWhileBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/ThenBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/ThenBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ThenBuiltin = void 0;
const TwoArgBuiltin_1 = __webpack_require__(/*! ./TwoArgBuiltin */ "./lib/freemarker/builtin/TwoArgBuiltin.ts");
class ThenBuiltin extends TwoArgBuiltin_1.TwoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "boolean" && name === "then";
    }
    evaluate(subject, arg1, arg2, data) {
        return subject ? arg1.evaluate(data) : arg2.evaluate(data);
    }
}
exports.ThenBuiltin = ThenBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/TimeBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/TimeBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TimeBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const isDate_1 = __webpack_require__(/*! ../../utilities/isDate */ "./lib/utilities/isDate.ts");
class TimeBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return (typeof subject === "string" || (0, isDate_1.isDate)(subject)) && name === "time";
    }
    evaluate(subject, data) {
        const dte = (0, isDate_1.isDate)(subject) ? subject : new Date(subject);
        const millis = dte.getTime();
        return Value_1.Literal.of(new Date(millis % 86400000));
    }
}
exports.TimeBuiltin = TimeBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/TrimBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/TrimBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TrimBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class TrimBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "trim";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject.trim());
    }
}
exports.TrimBuiltin = TrimBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/TruncateBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/TruncateBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TruncateBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class TruncateBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "truncate";
    }
    evaluate(subject, arg1, data, row, column) {
        const arg = arg1.evaluate(data).retrieve();
        if (typeof arg !== "number") {
            throw new TemplateError_1.TemplateError(row, column, `Argument to truncate is not a number`);
        }
        if (subject.length > arg - 5) {
            return Value_1.Literal.of(subject.substring(0, arg - 5) + "[...]");
        }
        else {
            return Value_1.Literal.of(subject);
        }
    }
}
exports.TruncateBuiltin = TruncateBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/TwoArgBuiltin.ts":
/*!*************************************************!*\
  !*** ./lib/freemarker/builtin/TwoArgBuiltin.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TwoArgBuiltin = void 0;
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class TwoArgBuiltin {
    calculate(subject, args, data, row, column) {
        if (args.length === 2) {
            return this.evaluate(subject, args[0], args[1], data);
        }
        else {
            throw new TemplateError_1.TemplateError(row, column, `Invalid number of arguments`);
        }
    }
}
exports.TwoArgBuiltin = TwoArgBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/UncapFirstBuiltin.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/builtin/UncapFirstBuiltin.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UncapFirstBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const isWhitespace_1 = __webpack_require__(/*! ../../utilities/isWhitespace */ "./lib/utilities/isWhitespace.ts");
class UncapFirstBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "uncap_first";
    }
    evaluate(subject, data) {
        let index = 0;
        while (index < subject.length) {
            if (!(0, isWhitespace_1.isWhitespace)(subject.charAt(index))) {
                break;
            }
            index++;
        }
        return Value_1.Literal.of(subject.slice(0, index) + subject.charAt(index).toLowerCase() + subject.slice(index + 1));
    }
}
exports.UncapFirstBuiltin = UncapFirstBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/UpperAbcBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/UpperAbcBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UpperAbcBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class UpperAbcBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "number" && name === "upper_abc";
    }
    evaluate(subject, data) {
        const result = [];
        let val = subject;
        while (val > 0) {
            let units = (val - 1) % 26;
            result.unshift(String.fromCharCode(units + 65));
            val = (val - (units + 1)) / 26;
        }
        return Value_1.Literal.of(result.join(""));
    }
}
exports.UpperAbcBuiltin = UpperAbcBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/UpperCaseBuiltin.ts":
/*!****************************************************!*\
  !*** ./lib/freemarker/builtin/UpperCaseBuiltin.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UpperCaseBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class UpperCaseBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "upper_case";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject.toUpperCase());
    }
}
exports.UpperCaseBuiltin = UpperCaseBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/UrlBuiltin.ts":
/*!**********************************************!*\
  !*** ./lib/freemarker/builtin/UrlBuiltin.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UrlBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class UrlBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "url";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(encodeURI(subject));
    }
}
exports.UrlBuiltin = UrlBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/WordListBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/WordListBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WordListBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const isWhitespace_1 = __webpack_require__(/*! ../../utilities/isWhitespace */ "./lib/utilities/isWhitespace.ts");
class WordListBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "word_list";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject.split(" ").filter(arg => arg.length).filter(arg => !(0, isWhitespace_1.isWhitespace)(arg)));
    }
}
exports.WordListBuiltin = WordListBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/index.ts":
/*!*****************************************!*\
  !*** ./lib/freemarker/builtin/index.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.find = void 0;
const ThenBuiltin_1 = __webpack_require__(/*! ./ThenBuiltin */ "./lib/freemarker/builtin/ThenBuiltin.ts");
const UpperCaseBuiltin_1 = __webpack_require__(/*! ./UpperCaseBuiltin */ "./lib/freemarker/builtin/UpperCaseBuiltin.ts");
const LowerCaseBuiltin_1 = __webpack_require__(/*! ./LowerCaseBuiltin */ "./lib/freemarker/builtin/LowerCaseBuiltin.ts");
const CapFirstBuiltin_1 = __webpack_require__(/*! ./CapFirstBuiltin */ "./lib/freemarker/builtin/CapFirstBuiltin.ts");
const CapitalizeBuiltin_1 = __webpack_require__(/*! ./CapitalizeBuiltin */ "./lib/freemarker/builtin/CapitalizeBuiltin.ts");
const UncapFirstBuiltin_1 = __webpack_require__(/*! ./UncapFirstBuiltin */ "./lib/freemarker/builtin/UncapFirstBuiltin.ts");
const TrimBuiltin_1 = __webpack_require__(/*! ./TrimBuiltin */ "./lib/freemarker/builtin/TrimBuiltin.ts");
const ChopLinebreakBuiltin_1 = __webpack_require__(/*! ./ChopLinebreakBuiltin */ "./lib/freemarker/builtin/ChopLinebreakBuiltin.ts");
const BooleanBuiltin_1 = __webpack_require__(/*! ./BooleanBuiltin */ "./lib/freemarker/builtin/BooleanBuiltin.ts");
const DateBuiltin_1 = __webpack_require__(/*! ./DateBuiltin */ "./lib/freemarker/builtin/DateBuiltin.ts");
const DatetimeBuiltin_1 = __webpack_require__(/*! ./DatetimeBuiltin */ "./lib/freemarker/builtin/DatetimeBuiltin.ts");
const TimeBuiltin_1 = __webpack_require__(/*! ./TimeBuiltin */ "./lib/freemarker/builtin/TimeBuiltin.ts");
const LengthBuiltin_1 = __webpack_require__(/*! ./LengthBuiltin */ "./lib/freemarker/builtin/LengthBuiltin.ts");
const SizeBuiltin_1 = __webpack_require__(/*! ./SizeBuiltin */ "./lib/freemarker/builtin/SizeBuiltin.ts");
const StringBuiltin_1 = __webpack_require__(/*! ./StringBuiltin */ "./lib/freemarker/builtin/StringBuiltin.ts");
const ContainsBuiltin_1 = __webpack_require__(/*! ./ContainsBuiltin */ "./lib/freemarker/builtin/ContainsBuiltin.ts");
const EndsWithBuiltin_1 = __webpack_require__(/*! ./EndsWithBuiltin */ "./lib/freemarker/builtin/EndsWithBuiltin.ts");
const EnsureEndsWithBuiltin_1 = __webpack_require__(/*! ./EnsureEndsWithBuiltin */ "./lib/freemarker/builtin/EnsureEndsWithBuiltin.ts");
const EnsureStartsWithBuiltin_1 = __webpack_require__(/*! ./EnsureStartsWithBuiltin */ "./lib/freemarker/builtin/EnsureStartsWithBuiltin.ts");
const IndexOfBuiltin_1 = __webpack_require__(/*! ./IndexOfBuiltin */ "./lib/freemarker/builtin/IndexOfBuiltin.ts");
const LastIndexOfBuiltin_1 = __webpack_require__(/*! ./LastIndexOfBuiltin */ "./lib/freemarker/builtin/LastIndexOfBuiltin.ts");
const KeepAfterBuiltin_1 = __webpack_require__(/*! ./KeepAfterBuiltin */ "./lib/freemarker/builtin/KeepAfterBuiltin.ts");
const KeepAfterLastBuiltin_1 = __webpack_require__(/*! ./KeepAfterLastBuiltin */ "./lib/freemarker/builtin/KeepAfterLastBuiltin.ts");
const KeepBeforeBuiltin_1 = __webpack_require__(/*! ./KeepBeforeBuiltin */ "./lib/freemarker/builtin/KeepBeforeBuiltin.ts");
const KeepBeforeLastBuiltin_1 = __webpack_require__(/*! ./KeepBeforeLastBuiltin */ "./lib/freemarker/builtin/KeepBeforeLastBuiltin.ts");
const LeftPadBuiltin_1 = __webpack_require__(/*! ./LeftPadBuiltin */ "./lib/freemarker/builtin/LeftPadBuiltin.ts");
const RightPadBuiltin_1 = __webpack_require__(/*! ./RightPadBuiltin */ "./lib/freemarker/builtin/RightPadBuiltin.ts");
const MatchesBuiltin_1 = __webpack_require__(/*! ./MatchesBuiltin */ "./lib/freemarker/builtin/MatchesBuiltin.ts");
const NumberExpression_1 = __webpack_require__(/*! ./NumberExpression */ "./lib/freemarker/builtin/NumberExpression.ts");
const ReplaceBuiltin_1 = __webpack_require__(/*! ./ReplaceBuiltin */ "./lib/freemarker/builtin/ReplaceBuiltin.ts");
const RemoveBeginningBuiltin_1 = __webpack_require__(/*! ./RemoveBeginningBuiltin */ "./lib/freemarker/builtin/RemoveBeginningBuiltin.ts");
const RemoveEndingBuiltin_1 = __webpack_require__(/*! ./RemoveEndingBuiltin */ "./lib/freemarker/builtin/RemoveEndingBuiltin.ts");
const SplitBuiltin_1 = __webpack_require__(/*! ./SplitBuiltin */ "./lib/freemarker/builtin/SplitBuiltin.ts");
const StartsWithBuiltin_1 = __webpack_require__(/*! ./StartsWithBuiltin */ "./lib/freemarker/builtin/StartsWithBuiltin.ts");
const TruncateBuiltin_1 = __webpack_require__(/*! ./TruncateBuiltin */ "./lib/freemarker/builtin/TruncateBuiltin.ts");
const UrlBuiltin_1 = __webpack_require__(/*! ./UrlBuiltin */ "./lib/freemarker/builtin/UrlBuiltin.ts");
const WordListBuiltin_1 = __webpack_require__(/*! ./WordListBuiltin */ "./lib/freemarker/builtin/WordListBuiltin.ts");
const IsInfiniteBuiltin_1 = __webpack_require__(/*! ./IsInfiniteBuiltin */ "./lib/freemarker/builtin/IsInfiniteBuiltin.ts");
const IsNanBuiltin_1 = __webpack_require__(/*! ./IsNanBuiltin */ "./lib/freemarker/builtin/IsNanBuiltin.ts");
const LowerAbcBuiltin_1 = __webpack_require__(/*! ./LowerAbcBuiltin */ "./lib/freemarker/builtin/LowerAbcBuiltin.ts");
const UpperAbcBuiltin_1 = __webpack_require__(/*! ./UpperAbcBuiltin */ "./lib/freemarker/builtin/UpperAbcBuiltin.ts");
const RoundBuiltin_1 = __webpack_require__(/*! ./RoundBuiltin */ "./lib/freemarker/builtin/RoundBuiltin.ts");
const CeilBuiltin_1 = __webpack_require__(/*! ./CeilBuiltin */ "./lib/freemarker/builtin/CeilBuiltin.ts");
const FloorBuiltin_1 = __webpack_require__(/*! ./FloorBuiltin */ "./lib/freemarker/builtin/FloorBuiltin.ts");
const ChunkBuiltin_1 = __webpack_require__(/*! ./ChunkBuiltin */ "./lib/freemarker/builtin/ChunkBuiltin.ts");
const DropWhileBuiltin_1 = __webpack_require__(/*! ./DropWhileBuiltin */ "./lib/freemarker/builtin/DropWhileBuiltin.ts");
const FilterBuiltin_1 = __webpack_require__(/*! ./FilterBuiltin */ "./lib/freemarker/builtin/FilterBuiltin.ts");
const FirstBuiltin_1 = __webpack_require__(/*! ./FirstBuiltin */ "./lib/freemarker/builtin/FirstBuiltin.ts");
const JoinBuiltin_1 = __webpack_require__(/*! ./JoinBuiltin */ "./lib/freemarker/builtin/JoinBuiltin.ts");
const LastBuiltin_1 = __webpack_require__(/*! ./LastBuiltin */ "./lib/freemarker/builtin/LastBuiltin.ts");
const MapBuiltin_1 = __webpack_require__(/*! ./MapBuiltin */ "./lib/freemarker/builtin/MapBuiltin.ts");
const MinBuiltin_1 = __webpack_require__(/*! ./MinBuiltin */ "./lib/freemarker/builtin/MinBuiltin.ts");
const MaxBuiltin_1 = __webpack_require__(/*! ./MaxBuiltin */ "./lib/freemarker/builtin/MaxBuiltin.ts");
const ReverseBuiltin_1 = __webpack_require__(/*! ./ReverseBuiltin */ "./lib/freemarker/builtin/ReverseBuiltin.ts");
const SeqContainsBuiltin_1 = __webpack_require__(/*! ./SeqContainsBuiltin */ "./lib/freemarker/builtin/SeqContainsBuiltin.ts");
const SeqIndexOfBuiltin_1 = __webpack_require__(/*! ./SeqIndexOfBuiltin */ "./lib/freemarker/builtin/SeqIndexOfBuiltin.ts");
const SeqLastIndexOfBuiltin_1 = __webpack_require__(/*! ./SeqLastIndexOfBuiltin */ "./lib/freemarker/builtin/SeqLastIndexOfBuiltin.ts");
const SortBuiltin_1 = __webpack_require__(/*! ./SortBuiltin */ "./lib/freemarker/builtin/SortBuiltin.ts");
const SortByBuiltin_1 = __webpack_require__(/*! ./SortByBuiltin */ "./lib/freemarker/builtin/SortByBuiltin.ts");
const TakeWhileBuiltin_1 = __webpack_require__(/*! ./TakeWhileBuiltin */ "./lib/freemarker/builtin/TakeWhileBuiltin.ts");
const HasContentBuiltin_1 = __webpack_require__(/*! ./HasContentBuiltin */ "./lib/freemarker/builtin/HasContentBuiltin.ts");
const registry = [
    new ThenBuiltin_1.ThenBuiltin(),
    new UpperCaseBuiltin_1.UpperCaseBuiltin(),
    new LowerCaseBuiltin_1.LowerCaseBuiltin(),
    new CapFirstBuiltin_1.CapFirstBuiltin(),
    new CapitalizeBuiltin_1.CapitalizeBuiltin(),
    new UncapFirstBuiltin_1.UncapFirstBuiltin(),
    new TrimBuiltin_1.TrimBuiltin(),
    new ChopLinebreakBuiltin_1.ChopLinebreakBuiltin(),
    new BooleanBuiltin_1.BooleanBuiltin(),
    new DateBuiltin_1.DateBuiltin(),
    new DatetimeBuiltin_1.DatetimeBuiltin(),
    new TimeBuiltin_1.TimeBuiltin(),
    new LengthBuiltin_1.LengthBuiltin(),
    new SizeBuiltin_1.SizeBuiltin(),
    new StringBuiltin_1.StringBuiltin(),
    new ContainsBuiltin_1.ContainsBuiltin(),
    new EndsWithBuiltin_1.EndsWithBuiltin(),
    new EnsureEndsWithBuiltin_1.EnsureEndsWithBuiltin(),
    new EnsureStartsWithBuiltin_1.EnsureStartsWithBuiltin(),
    new IndexOfBuiltin_1.IndexOfWithBuiltin(),
    new LastIndexOfBuiltin_1.LastIndexOfWithBuiltin(),
    new KeepAfterBuiltin_1.KeepAfterBuiltin(),
    new KeepAfterLastBuiltin_1.KeepAfterLastBuiltin(),
    new KeepBeforeBuiltin_1.KeepBeforeBuiltin(),
    new KeepBeforeLastBuiltin_1.KeepBeforeLastBuiltin(),
    new LeftPadBuiltin_1.LeftPadBuiltin(),
    new RightPadBuiltin_1.RightPadBuiltin(),
    new MatchesBuiltin_1.MatchesBuiltin(),
    new NumberExpression_1.NumberBuiltin(),
    new ReplaceBuiltin_1.ReplaceBuiltin(),
    new RemoveBeginningBuiltin_1.RemoveBeginningBuiltin(),
    new RemoveEndingBuiltin_1.RemoveEndingBuiltin(),
    new SplitBuiltin_1.SplitBuiltin(),
    new StartsWithBuiltin_1.StartsWithBuiltin(),
    new TruncateBuiltin_1.TruncateBuiltin(),
    new UrlBuiltin_1.UrlBuiltin(),
    new WordListBuiltin_1.WordListBuiltin(),
    new IsInfiniteBuiltin_1.IsInfiniteBuiltin(),
    new IsNanBuiltin_1.IsNanBuiltin(),
    new LowerAbcBuiltin_1.LowerAbcBuiltin(),
    new UpperAbcBuiltin_1.UpperAbcBuiltin(),
    new RoundBuiltin_1.RoundBuiltin(),
    new CeilBuiltin_1.CeilBuiltin(),
    new FloorBuiltin_1.FloorBuiltin(),
    new ChunkBuiltin_1.ChunkBuiltin(),
    new DropWhileBuiltin_1.DropWhileBuiltin(),
    new FilterBuiltin_1.FilterBuiltin(),
    new FirstBuiltin_1.FirstBuiltin(),
    new JoinBuiltin_1.JoinBuiltin(),
    new LastBuiltin_1.LastBuiltin(),
    new MapBuiltin_1.MapBuiltin(),
    new MinBuiltin_1.MinBuiltin(),
    new MaxBuiltin_1.MaxBuiltin(),
    new ReverseBuiltin_1.ReverseBuiltin(),
    new SeqContainsBuiltin_1.SeqContainsBuiltin(),
    new SeqIndexOfBuiltin_1.SeqIndexOfBuiltin(),
    new SeqLastIndexOfBuiltin_1.SeqLastIndexOfBuiltin(),
    new SortBuiltin_1.SortBuiltin(),
    new SortByBuiltin_1.SortByBuiltin(),
    new TakeWhileBuiltin_1.TakeWhileBuiltin(),
    new HasContentBuiltin_1.HasContentBuiltin()
];
function find(subject, name) {
    return registry.find(builtin => builtin.accept(subject, name));
}
exports.find = find;


/***/ }),

/***/ "./lib/freemarker/expression-engine.ts":
/*!*********************************************!*\
  !*** ./lib/freemarker/expression-engine.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExpressionEngine = void 0;
const tokenize_1 = __webpack_require__(/*! ./expression/tokenize */ "./lib/freemarker/expression/tokenize.ts");
const TemplateError_1 = __webpack_require__(/*! ./TemplateError */ "./lib/freemarker/TemplateError.ts");
const EqualExpression_1 = __webpack_require__(/*! ./expression/EqualExpression */ "./lib/freemarker/expression/EqualExpression.ts");
const AdditionExpression_1 = __webpack_require__(/*! ./expression/AdditionExpression */ "./lib/freemarker/expression/AdditionExpression.ts");
const DivisionExpression_1 = __webpack_require__(/*! ./expression/DivisionExpression */ "./lib/freemarker/expression/DivisionExpression.ts");
const AndExpression_1 = __webpack_require__(/*! ./expression/AndExpression */ "./lib/freemarker/expression/AndExpression.ts");
const DecrementExpression_1 = __webpack_require__(/*! ./expression/DecrementExpression */ "./lib/freemarker/expression/DecrementExpression.ts");
const AssignExpression_1 = __webpack_require__(/*! ./expression/AssignExpression */ "./lib/freemarker/expression/AssignExpression.ts");
const DereferenceExpression_1 = __webpack_require__(/*! ./expression/DereferenceExpression */ "./lib/freemarker/expression/DereferenceExpression.ts");
const CallMethodExpression_1 = __webpack_require__(/*! ./expression/CallMethodExpression */ "./lib/freemarker/expression/CallMethodExpression.ts");
const CallBuiltinExpression_1 = __webpack_require__(/*! ./expression/CallBuiltinExpression */ "./lib/freemarker/expression/CallBuiltinExpression.ts");
const NegativeExpression_1 = __webpack_require__(/*! ./expression/NegativeExpression */ "./lib/freemarker/expression/NegativeExpression.ts");
const PositiveExpression_1 = __webpack_require__(/*! ./expression/PositiveExpression */ "./lib/freemarker/expression/PositiveExpression.ts");
const NotExpression_1 = __webpack_require__(/*! ./expression/NotExpression */ "./lib/freemarker/expression/NotExpression.ts");
const ReferenceExpression_1 = __webpack_require__(/*! ./expression/ReferenceExpression */ "./lib/freemarker/expression/ReferenceExpression.ts");
const StringExpression_1 = __webpack_require__(/*! ./expression/StringExpression */ "./lib/freemarker/expression/StringExpression.ts");
const TrueExpression_1 = __webpack_require__(/*! ./expression/TrueExpression */ "./lib/freemarker/expression/TrueExpression.ts");
const FalseExpression_1 = __webpack_require__(/*! ./expression/FalseExpression */ "./lib/freemarker/expression/FalseExpression.ts");
const NumberExpression_1 = __webpack_require__(/*! ./expression/NumberExpression */ "./lib/freemarker/expression/NumberExpression.ts");
const SequenceExpression_1 = __webpack_require__(/*! ./expression/SequenceExpression */ "./lib/freemarker/expression/SequenceExpression.ts");
const HashExpression_1 = __webpack_require__(/*! ./expression/HashExpression */ "./lib/freemarker/expression/HashExpression.ts");
const DefaultExpression_1 = __webpack_require__(/*! ./expression/DefaultExpression */ "./lib/freemarker/expression/DefaultExpression.ts");
const SubstractionExpression_1 = __webpack_require__(/*! ./expression/SubstractionExpression */ "./lib/freemarker/expression/SubstractionExpression.ts");
const MultiplicationExpression_1 = __webpack_require__(/*! ./expression/MultiplicationExpression */ "./lib/freemarker/expression/MultiplicationExpression.ts");
const ModulusExpression_1 = __webpack_require__(/*! ./expression/ModulusExpression */ "./lib/freemarker/expression/ModulusExpression.ts");
const NotEqualExpression_1 = __webpack_require__(/*! ./expression/NotEqualExpression */ "./lib/freemarker/expression/NotEqualExpression.ts");
const OrExpression_1 = __webpack_require__(/*! ./expression/OrExpression */ "./lib/freemarker/expression/OrExpression.ts");
const LessThanExpression_1 = __webpack_require__(/*! ./expression/LessThanExpression */ "./lib/freemarker/expression/LessThanExpression.ts");
const GreaterThanExpression_1 = __webpack_require__(/*! ./expression/GreaterThanExpression */ "./lib/freemarker/expression/GreaterThanExpression.ts");
const LessThanOrEqualExpression_1 = __webpack_require__(/*! ./expression/LessThanOrEqualExpression */ "./lib/freemarker/expression/LessThanOrEqualExpression.ts");
const GreaterThanOrEqualExpression_1 = __webpack_require__(/*! ./expression/GreaterThanOrEqualExpression */ "./lib/freemarker/expression/GreaterThanOrEqualExpression.ts");
const AddAndAssignExpression_1 = __webpack_require__(/*! ./expression/AddAndAssignExpression */ "./lib/freemarker/expression/AddAndAssignExpression.ts");
const SubstractAndAssignExpression_1 = __webpack_require__(/*! ./expression/SubstractAndAssignExpression */ "./lib/freemarker/expression/SubstractAndAssignExpression.ts");
const MultiplyAndAssignExpression_1 = __webpack_require__(/*! ./expression/MultiplyAndAssignExpression */ "./lib/freemarker/expression/MultiplyAndAssignExpression.ts");
const DivideAndAssignExpression_1 = __webpack_require__(/*! ./expression/DivideAndAssignExpression */ "./lib/freemarker/expression/DivideAndAssignExpression.ts");
const ModulusAndAssignExpression_1 = __webpack_require__(/*! ./expression/ModulusAndAssignExpression */ "./lib/freemarker/expression/ModulusAndAssignExpression.ts");
const RangeStartingExpression_1 = __webpack_require__(/*! ./expression/RangeStartingExpression */ "./lib/freemarker/expression/RangeStartingExpression.ts");
const RangeInclusiveExpression_1 = __webpack_require__(/*! ./expression/RangeInclusiveExpression */ "./lib/freemarker/expression/RangeInclusiveExpression.ts");
const RangeExclusiveExpression_1 = __webpack_require__(/*! ./expression/RangeExclusiveExpression */ "./lib/freemarker/expression/RangeExclusiveExpression.ts");
const RangeLengthIncrementExpression_1 = __webpack_require__(/*! ./expression/RangeLengthIncrementExpression */ "./lib/freemarker/expression/RangeLengthIncrementExpression.ts");
const RangeLengthDecrementExpression_1 = __webpack_require__(/*! ./expression/RangeLengthDecrementExpression */ "./lib/freemarker/expression/RangeLengthDecrementExpression.ts");
const SliceExpression_1 = __webpack_require__(/*! ./expression/SliceExpression */ "./lib/freemarker/expression/SliceExpression.ts");
const IsDefinedExpression_1 = __webpack_require__(/*! ./expression/IsDefinedExpression */ "./lib/freemarker/expression/IsDefinedExpression.ts");
const IncrementExpression_1 = __webpack_require__(/*! ./expression/IncrementExpression */ "./lib/freemarker/expression/IncrementExpression.ts");
const ParenthesisExpression_1 = __webpack_require__(/*! ./expression/ParenthesisExpression */ "./lib/freemarker/expression/ParenthesisExpression.ts");
const AncillaryExpression_1 = __webpack_require__(/*! ./expression/AncillaryExpression */ "./lib/freemarker/expression/AncillaryExpression.ts");
const LambdaExpression_1 = __webpack_require__(/*! ./expression/LambdaExpression */ "./lib/freemarker/expression/LambdaExpression.ts");
const ComposingExpression_1 = __webpack_require__(/*! ./expression/ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
const PRECEDENCE = {
    '?': 2,
    '.': 2,
    '??': 2,
    'default': 2,
    '(': 2,
    '[': 2,
    '/': 3,
    '*': 3,
    '%': 3,
    '+': 4,
    '-': 4,
    '..<': 5,
    '..!': 5,
    '..*': 5,
    '..': 5,
    '..*-': 5,
    '..*+': 5,
    'not': 5,
    '<': 6,
    '>': 6,
    '>=': 6,
    '<=': 6,
    '==': 7,
    '!=': 7,
    '&&': 8,
    '||': 9,
    '->': 10,
    '+=': 11,
    '-=': 11,
    '/=': 11,
    '%=': 11,
    '*=': 11,
    '=': 11,
};
function interpretOperand(tokens) {
    let token = tokens.shift(), expression = undefined;
    if (token === undefined) {
        throw new Error("Should never happen");
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.CLOSE_HASH) {
        return [undefined, token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.CLOSE_SEQUENCE) {
        return [undefined, token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.CLOSE_PARENTHESIS) {
        return [undefined, token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.OPEN_PARENTHESIS) {
        const row = token.getRow();
        const column = token.getColumn();
        [expression, token] = interpretExpression(tokens);
        if ((token === null || token === void 0 ? void 0 : token.getType()) != tokenize_1.TokenType.CLOSE_PARENTHESIS) {
            throw new TemplateError_1.TemplateError(row, column, `Open parenthesis not closed with a close parenthesis`);
        }
        if (expression === undefined) {
            throw new TemplateError_1.TemplateError(row, column, `Parenthesis is empty`);
        }
        return [new ParenthesisExpression_1.ParenthesisExpression(expression, token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.PLUS) {
        //we have encountered a + symbol where we expect an expression, so it is the sign for a number that follows.
        const [arg, token] = interpretOperand(tokens);
        if (arg === undefined) {
            throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), `Unary operator '${token.getToken()}' expects an expression`);
        }
        return [new PositiveExpression_1.PositiveExpression(arg, token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.MINUS) {
        //we have encountered a - symbol where we expect an expression, so it is the sign for a number that follows.
        const [arg, token] = interpretOperand(tokens);
        if (arg === undefined) {
            throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), `Unary operator '${token.getToken()}' expects an expression`);
        }
        return [new NegativeExpression_1.NegativeExpression(arg, token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.BANG) {
        const [arg, token] = interpretOperand(tokens);
        if (arg === undefined) {
            throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), `Unary operator '${token.getToken()}' expects an expression`);
        }
        return [new NotExpression_1.NotExpression(arg, token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.REFERENCE) {
        return [new ReferenceExpression_1.ReferenceExpression(token.getToken(), token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.STRING) {
        return [new StringExpression_1.StringExpression(token.getToken(), token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.TRUE) {
        return [new TrueExpression_1.TrueExpression(token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.FALSE) {
        return [new FalseExpression_1.FalseExpression(token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.NUMBER) {
        return [new NumberExpression_1.NumberExpression(token.getToken(), token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.OPEN_SEQUENCE) {
        const elements = [];
        let row = token.getRow(), column = token.getColumn();
        [expression, token] = interpretExpression(tokens);
        if (token === undefined) {
            throw new TemplateError_1.TemplateError(row, column, `sequence incorrectly terminated`);
        }
        while ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.COMMA) {
            if (expression === undefined) {
                throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), `Expression preceding comma in sequence is empty`);
            }
            elements.push(expression);
            row = token.getRow();
            column = token.getColumn();
            [expression, token] = interpretExpression(tokens);
            if (token === undefined) {
                throw new TemplateError_1.TemplateError(row, column, `sequence incorrectly terminated`);
            }
        }
        if (expression) {
            elements.push(expression);
        }
        if ((token === null || token === void 0 ? void 0 : token.getType()) !== tokenize_1.TokenType.CLOSE_SEQUENCE) {
            throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), `Open sequence missing close sequence`);
        }
        return [new SequenceExpression_1.SequenceExpression(elements), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.OPEN_HASH) {
        let row = token.getRow(), column = token.getColumn();
        const hash = {};
        function readKeyPair() {
            if ((key === null || key === void 0 ? void 0 : key.getType()) !== tokenize_1.TokenType.STRING) {
                throw new TemplateError_1.TemplateError(row, column, `Hash missing key string`);
            }
            let colon = tokens.shift();
            if ((colon === null || colon === void 0 ? void 0 : colon.getType()) !== tokenize_1.TokenType.COLON) {
                throw new TemplateError_1.TemplateError(row, column, `Hash missing colon separator for key value pair`);
            }
            [expression, token] = interpretExpression(tokens);
            if (expression === undefined) {
                throw new TemplateError_1.TemplateError(row, column, `Expression for value in hash is empty`);
            }
            hash[key.getToken()] = expression;
        }
        let key = tokens.shift();
        if ((key === null || key === void 0 ? void 0 : key.getType()) === tokenize_1.TokenType.CLOSE_HASH) {
            return [new HashExpression_1.HashExpression(hash), token];
        }
        else {
            readKeyPair();
            while ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.COMMA) {
                key = tokens.shift();
                readKeyPair();
            }
        }
        if ((token === null || token === void 0 ? void 0 : token.getType()) !== tokenize_1.TokenType.CLOSE_HASH) {
            throw new TemplateError_1.TemplateError(row, column, `Open has  h missing close hash`);
        }
        return [new HashExpression_1.HashExpression(hash), token];
    }
    else {
        return [undefined, token];
    }
}
function isBinaryOperator(operator) {
    return operator.getType() === tokenize_1.TokenType.BANG ||
        operator.getType() === tokenize_1.TokenType.PLUS ||
        operator.getType() === tokenize_1.TokenType.MINUS ||
        operator.getType() === tokenize_1.TokenType.DIVIDE ||
        operator.getType() === tokenize_1.TokenType.MULTIPLY ||
        operator.getType() === tokenize_1.TokenType.MODULUS ||
        operator.getType() === tokenize_1.TokenType.EQUAL ||
        operator.getType() === tokenize_1.TokenType.NOT_EQUAL ||
        operator.getType() === tokenize_1.TokenType.AND ||
        operator.getType() === tokenize_1.TokenType.OR ||
        operator.getType() === tokenize_1.TokenType.LESS_THAN ||
        operator.getType() === tokenize_1.TokenType.GREATER_THAN ||
        operator.getType() === tokenize_1.TokenType.LESS_THAN_OR_EQUAL ||
        operator.getType() === tokenize_1.TokenType.GREATER_THAN_OR_EQUAL ||
        operator.getType() === tokenize_1.TokenType.ADD_AND_ASSIGN ||
        operator.getType() === tokenize_1.TokenType.SUBTRACT_AND_ASSIGN ||
        operator.getType() === tokenize_1.TokenType.MULTIPLY_AND_ASSIGN ||
        operator.getType() === tokenize_1.TokenType.DIVIDE_AND_ASSIGN ||
        operator.getType() === tokenize_1.TokenType.MODULUS_AND_ASSIGN ||
        operator.getType() === tokenize_1.TokenType.ASSIGN ||
        operator.getType() === tokenize_1.TokenType.DEREFERENCE ||
        operator.getType() === tokenize_1.TokenType.LAMBDA ||
        operator.getType() === tokenize_1.TokenType.RANGE_INCLUSIVE ||
        operator.getType() === tokenize_1.TokenType.RANGE_EXCLUSIVE ||
        operator.getType() === tokenize_1.TokenType.RANGE_LENGTH_DEC ||
        operator.getType() === tokenize_1.TokenType.RANGE_LENGTH_INC;
}
function buildBinaryExpression(operator, lhs, rhs) {
    if (operator.getType() === tokenize_1.TokenType.BANG) {
        return new DefaultExpression_1.DefaultExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.PLUS) {
        return new AdditionExpression_1.AdditionExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.MINUS) {
        return new SubstractionExpression_1.SubtractionExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.DIVIDE) {
        return new DivisionExpression_1.DivisionExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.MULTIPLY) {
        return new MultiplicationExpression_1.MultiplicationExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.MODULUS) {
        return new ModulusExpression_1.ModulusExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.EQUAL) {
        return new EqualExpression_1.EqualExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.NOT_EQUAL) {
        return new NotEqualExpression_1.NotEqualExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.AND) {
        return new AndExpression_1.AndExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.OR) {
        return new OrExpression_1.OrExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.LESS_THAN) {
        return new LessThanExpression_1.LessThanExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.GREATER_THAN) {
        return new GreaterThanExpression_1.GreaterThanExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.LESS_THAN_OR_EQUAL) {
        return new LessThanOrEqualExpression_1.LessThanOrEqualExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.GREATER_THAN_OR_EQUAL) {
        return new GreaterThanOrEqualExpression_1.GreaterThanOrEqualExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.ADD_AND_ASSIGN) {
        return new AddAndAssignExpression_1.AddAndAssignExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.SUBTRACT_AND_ASSIGN) {
        return new SubstractAndAssignExpression_1.SubtractAndAssignExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.MULTIPLY_AND_ASSIGN) {
        return new MultiplyAndAssignExpression_1.MultiplyAndAssignExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.DIVIDE_AND_ASSIGN) {
        return new DivideAndAssignExpression_1.DivideAndAssignExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.MODULUS_AND_ASSIGN) {
        return new ModulusAndAssignExpression_1.ModulusAndAssignExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.ASSIGN) {
        return new AssignExpression_1.AssignExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.DEREFERENCE) {
        return new DereferenceExpression_1.DereferenceExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.LAMBDA) {
        return new LambdaExpression_1.LambdaExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.RANGE_INCLUSIVE) {
        return new RangeInclusiveExpression_1.RangeInclusiveExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.RANGE_EXCLUSIVE) {
        return new RangeExclusiveExpression_1.RangeExclusiveExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.RANGE_LENGTH_INC) {
        return new RangeLengthIncrementExpression_1.RangeLengthIncrementExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.RANGE_LENGTH_DEC) {
        return new RangeLengthDecrementExpression_1.RangeLengthDecrementExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else {
        throw new TemplateError_1.TemplateError(operator.getRow(), operator.getColumn(), `Unknown token type '${operator.getType()}'`);
    }
}
function interpretSlice(tokens) {
    let [expression, token] = interpretOperand(tokens);
    if (expression === undefined) {
        throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), `Empty range arguments to slice operator`);
    }
    const operator = tokens.shift();
    if (operator.getType() === tokenize_1.TokenType.CLOSE_SEQUENCE) {
        return expression;
    }
    const rhs = tokens.shift();
    if (rhs.getType() === tokenize_1.TokenType.CLOSE_SEQUENCE && operator.getType() === tokenize_1.TokenType.RANGE_INCLUSIVE) {
        return new RangeStartingExpression_1.RangeStartingExpression(expression, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.RANGE_INCLUSIVE) {
        expression = new RangeInclusiveExpression_1.RangeInclusiveExpression(expression, new NumberExpression_1.NumberExpression(rhs.getToken(), rhs.getRow(), rhs.getColumn()), operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.RANGE_EXCLUSIVE) {
        expression = new RangeExclusiveExpression_1.RangeExclusiveExpression(expression, new NumberExpression_1.NumberExpression(rhs.getToken(), rhs.getRow(), rhs.getColumn()), operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.RANGE_LENGTH_INC) {
        expression = new RangeLengthIncrementExpression_1.RangeLengthIncrementExpression(expression, new NumberExpression_1.NumberExpression(rhs.getToken(), rhs.getRow(), rhs.getColumn()), operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.RANGE_LENGTH_DEC) {
        expression = new RangeLengthDecrementExpression_1.RangeLengthDecrementExpression(expression, new NumberExpression_1.NumberExpression(rhs.getToken(), rhs.getRow(), rhs.getColumn()), operator.getRow(), operator.getColumn());
    }
    else {
        throw new TemplateError_1.TemplateError(operator.getRow(), operator.getColumn(), `Invalid range specification`);
    }
    const close = tokens.shift();
    if (close.getType() !== tokenize_1.TokenType.CLOSE_SEQUENCE) {
        throw new TemplateError_1.TemplateError(close.getRow(), close.getColumn(), `Close sequence expected`);
    }
    return expression;
}
function interpretFunctionArguments(tokens) {
    const result = [];
    let expression, token;
    [expression, token] = interpretExpression(tokens);
    while ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.COMMA) {
        if (expression) {
            result.push(expression);
        }
        else {
            throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), "Expected expression preceding comma in function arguments");
        }
        [expression, token] = interpretExpression(tokens);
    }
    if (expression) {
        result.push(expression);
    }
    return result;
}
function interpretExpression(tokens) {
    let [expression, token] = interpretOperand(tokens);
    if (expression === undefined) {
        return [undefined, token];
    }
    while (tokens.length) {
        const operator = tokens.shift();
        if (expression === undefined) {
            throw new TemplateError_1.TemplateError(operator.getRow(), operator.getColumn(), `Binary operator expects lhs expression`);
        }
        if (operator.getType() === tokenize_1.TokenType.CLOSE_PARENTHESIS) {
            return [expression, operator];
        }
        if (operator.getType() === tokenize_1.TokenType.COMMA) {
            return [expression, operator];
        }
        if (operator.getType() === tokenize_1.TokenType.CLOSE_SEQUENCE) {
            return [expression, operator];
        }
        if (operator.getType() === tokenize_1.TokenType.CLOSE_HASH) {
            return [expression, operator];
        }
        if (operator.getType() === tokenize_1.TokenType.CALL_METHOD) {
            const args = interpretFunctionArguments(tokens);
            expression = walkUpLeftByPrecedence(operator, expression, (lhs) => new CallMethodExpression_1.CallMethodExpression(lhs, args, operator.getRow(), operator.getColumn()));
            continue;
        }
        if (operator.getType() === tokenize_1.TokenType.CALL_BUILTIN) {
            const name = tokens.shift();
            let args = [];
            if (tokens.length && tokens[0].getType() === tokenize_1.TokenType.CALL_METHOD) {
                tokens.shift();
                args = interpretFunctionArguments(tokens);
            }
            expression = walkUpLeftByPrecedence(operator, expression, (lhs) => new CallBuiltinExpression_1.CallBuiltinExpression(lhs, name.getToken(), args, operator.getRow(), operator.getColumn()));
            continue;
        }
        if (operator.getType() === tokenize_1.TokenType.OPEN_SLICE) {
            const slice = interpretSlice(tokens);
            expression = walkUpLeftByPrecedence(operator, expression, (lhs) => new SliceExpression_1.SliceExpression(lhs, slice, operator.getRow(), operator.getColumn()));
            continue;
        }
        if (operator.getType() === tokenize_1.TokenType.IS_DEFINED) {
            expression = new IsDefinedExpression_1.IsDefinedExpression(expression, operator.getRow(), operator.getColumn());
            continue;
        }
        if (operator.getType() === tokenize_1.TokenType.PLUS_PLUS) {
            expression = new IncrementExpression_1.IncrementExpression(expression, operator.getRow(), operator.getColumn());
            continue;
        }
        if (operator.getType() === tokenize_1.TokenType.MINUS_MINUS) {
            expression = new DecrementExpression_1.DecrementExpression(expression, operator.getRow(), operator.getColumn());
            continue;
        }
        if (!isBinaryOperator(operator)) {
            tokens.unshift(operator);
            const [ancillary, token] = interpretOperand(tokens);
            expression = new AncillaryExpression_1.AncillaryExpression(expression, ancillary, operator.getRow(), operator.getColumn());
            continue;
        }
        let rhs = undefined;
        if (tokens.length === 0 && operator.getType() === tokenize_1.TokenType.BANG) {
            rhs = new StringExpression_1.StringExpression("", token.getRow(), token.getColumn());
        }
        else {
            [rhs, token] = interpretOperand(tokens);
            if (operator.getType() === tokenize_1.TokenType.BANG && rhs === undefined) {
                tokens.unshift(token);
                rhs = new StringExpression_1.StringExpression("", token.getRow(), token.getColumn());
            }
            if (rhs === undefined) {
                throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), `Binary operator expects rhs expression`);
            }
        }
        expression = walkUpLeftByPrecedence(operator, expression, (lhs) => buildBinaryExpression(operator, lhs, rhs));
    }
    return [expression, undefined];
}
function walkUpLeftByPrecedence(operator, subject, builder) {
    if ((0, ComposingExpression_1.isComposingExpression)(subject) && PRECEDENCE[operator.getToken()] < PRECEDENCE[subject.getOperator()]) {
        let current = subject;
        let next = current.getSubject();
        while ((0, ComposingExpression_1.isComposingExpression)(next) && PRECEDENCE[operator.getToken()] < PRECEDENCE[next.getOperator()]) {
            current = next;
            next = current.getSubject();
        }
        current.replaceSubject(builder(current.getSubject()));
        return subject;
    }
    else {
        return builder(subject);
    }
}
class ExpressionEngine {
    build(text, row, column) {
        const tokens = (0, tokenize_1.tokenize)(text, row, column);
        const [expression, token] = interpretExpression(tokens);
        if (expression === undefined) {
            throw new TemplateError_1.TemplateError(row, column, `Expression is empty`);
        }
        if (token !== undefined) {
            throw new TemplateError_1.TemplateError(row, column, `Expression terminated incorrectly`);
        }
        return expression;
    }
}
exports.ExpressionEngine = ExpressionEngine;


/***/ }),

/***/ "./lib/freemarker/expression/AddAndAssignExpression.ts":
/*!*************************************************************!*\
  !*** ./lib/freemarker/expression/AddAndAssignExpression.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AddAndAssignExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class AddAndAssignExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '+=';
    }
    evaluate(data) {
        const current = this.lhs.evaluate(data);
        current.assign(current.retrieve() + this.rhs.evaluate(data).retrieve());
        return Value_1.Literal.of(undefined);
    }
}
exports.AddAndAssignExpression = AddAndAssignExpression;


/***/ }),

/***/ "./lib/freemarker/expression/AdditionExpression.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/expression/AdditionExpression.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AdditionExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
const isHash_1 = __webpack_require__(/*! ../../utilities/isHash */ "./lib/utilities/isHash.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class AdditionExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '+';
    }
    evaluate(data) {
        const lhs = this.lhs.evaluate(data).retrieve();
        const rhs = this.rhs.evaluate(data).retrieve();
        if (typeof lhs === 'string' || typeof rhs === "string") {
            return Value_1.Literal.of(lhs + rhs);
        }
        else if (typeof lhs === 'number' && typeof rhs === 'number') {
            return Value_1.Literal.of(lhs + rhs);
        }
        else if (Array.isArray(lhs) && Array.isArray(rhs)) {
            return Value_1.Literal.of([...lhs, ...rhs]);
        }
        else if ((0, isHash_1.isHash)(lhs) && (0, isHash_1.isHash)(rhs)) {
            return Value_1.Literal.of(Object.assign(Object.assign({}, lhs), rhs));
        }
        else {
            throw new TemplateError_1.TemplateError(this.row, this.column, `Invalid operands for addition`);
        }
    }
}
exports.AdditionExpression = AdditionExpression;


/***/ }),

/***/ "./lib/freemarker/expression/AncillaryExpression.ts":
/*!**********************************************************!*\
  !*** ./lib/freemarker/expression/AncillaryExpression.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AncillaryExpression = void 0;
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class AncillaryExpression extends ComposingExpression_1.ComposingExpression {
    constructor(ancillary, subject, row, column) {
        super(subject, row, column);
        this.ancillary = ancillary;
    }
    evaluate(data) {
        this.ancillary.evaluate(data);
        return this.subject.evaluate(data);
    }
    getOperator() {
        return 'ancilliary';
    }
}
exports.AncillaryExpression = AncillaryExpression;


/***/ }),

/***/ "./lib/freemarker/expression/AndExpression.ts":
/*!****************************************************!*\
  !*** ./lib/freemarker/expression/AndExpression.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AndExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class AndExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '&&';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() && this.rhs.evaluate(data).retrieve());
    }
}
exports.AndExpression = AndExpression;


/***/ }),

/***/ "./lib/freemarker/expression/AssignExpression.ts":
/*!*******************************************************!*\
  !*** ./lib/freemarker/expression/AssignExpression.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AssignExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class AssignExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '=';
    }
    evaluate(data) {
        const lhs = this.lhs.evaluate(data);
        lhs.assign(this.rhs.evaluate(data).retrieve());
        return Value_1.Literal.of(undefined);
    }
}
exports.AssignExpression = AssignExpression;


/***/ }),

/***/ "./lib/freemarker/expression/BinaryExpression.ts":
/*!*******************************************************!*\
  !*** ./lib/freemarker/expression/BinaryExpression.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BinaryExpression = void 0;
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class BinaryExpression extends ComposingExpression_1.ComposingExpression {
    constructor(lhs, rhs, row, column) {
        super(rhs, row, column);
        this.lhs = lhs;
        this.rhs = rhs;
        this.row = row;
        this.column = column;
    }
    getSubject() {
        return this.rhs;
    }
    replaceSubject(expression) {
        this.rhs = expression;
    }
}
exports.BinaryExpression = BinaryExpression;


/***/ }),

/***/ "./lib/freemarker/expression/CallBuiltinExpression.ts":
/*!************************************************************!*\
  !*** ./lib/freemarker/expression/CallBuiltinExpression.ts ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CallBuiltinExpression = void 0;
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const Builtins = __importStar(__webpack_require__(/*! ../builtin */ "./lib/freemarker/builtin/index.ts"));
class CallBuiltinExpression {
    constructor(subject, name, args, row, column) {
        this.subject = subject;
        this.name = name;
        this.args = args;
        this.row = row;
        this.column = column;
    }
    evaluate(data) {
        const exp = this.subject.evaluate(data);
        const isLoopVariable = (exp instanceof Value_1.Reference && Object.keys(data).includes(`$${exp.getName()}$`));
        if (isLoopVariable) {
            if (this.name === 'counter') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `counter builtin requires no arguments`);
                }
                return Value_1.Literal.of(data[`$${exp.getName()}_index$`] + 1);
            }
            else if (this.name === 'index') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `index builtin requires no arguments`);
                }
                return Value_1.Literal.of(data[`$${exp.getName()}_index$`]);
            }
            else if (this.name === 'has_next') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `has_next builtin requires no arguments`);
                }
                return Value_1.Literal.of(data[`$${exp.getName()}_index$`] < data[`$${exp.getName()}_length$`] - 1);
            }
            else if (this.name === 'is_last') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `is_last builtin requires no arguments`);
                }
                const index = data[`$${exp.getName()}_index$`];
                const length = data[`$${exp.getName()}_length$`];
                return Value_1.Literal.of(index === length - 1);
            }
            else if (this.name === 'is_first') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `is_first builtin requires no arguments`);
                }
                return Value_1.Literal.of(data[`$${exp.getName()}_index$`] === 0);
            }
            else if (this.name === 'is_even_item') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `is_even_item builtin requires no arguments`);
                }
                return Value_1.Literal.of((data[`$${exp.getName()}_index$`] + 1) % 2 === 0);
            }
            else if (this.name === 'is_odd_item') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `is_odd_item builtin requires no arguments`);
                }
                return Value_1.Literal.of(data[`$${exp.getName()}_index$`] % 2 === 0);
            }
            else if (this.name === 'item_cycle') {
                if (this.args.length === 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `item_cycle builtin requires at least one argument`);
                }
                const args = this.args.map(a => a.evaluate(data).retrieve());
                return Value_1.Literal.of(args[data[`$${exp.getName()}_index$`] % args.length]);
            }
            else if (this.name === 'item_parity') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `item_parity builtin requires no arguments`);
                }
                return Value_1.Literal.of((data[`$${exp.getName()}_index$`] + 1) % 2 === 0 ? "even" : "odd");
            }
            else if (this.name === 'item_parity_cap') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `item_parity_cap builtin requires no arguments`);
                }
                return Value_1.Literal.of((data[`$${exp.getName()}_index$`] + 1) % 2 === 0 ? "Even" : "Odd");
            }
            else {
                throw new TemplateError_1.TemplateError(this.row, this.column, `Unsupported builtin (${this.name}) for subject ${this.row}:${this.column}`);
            }
        }
        const subject = exp.retrieve();
        const builtin = Builtins.find(subject, this.name);
        if (builtin) {
            return builtin.calculate(subject, this.args, data, this.row, this.column);
        }
        else {
            throw new TemplateError_1.TemplateError(this.row, this.column, `Unsupported builtin (${this.name}) for subject ${this.row}:${this.column}`);
        }
    }
}
exports.CallBuiltinExpression = CallBuiltinExpression;


/***/ }),

/***/ "./lib/freemarker/expression/CallMethodExpression.ts":
/*!***********************************************************!*\
  !*** ./lib/freemarker/expression/CallMethodExpression.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CallMethodExpression = void 0;
const ReferenceExpression_1 = __webpack_require__(/*! ./ReferenceExpression */ "./lib/freemarker/expression/ReferenceExpression.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const DereferenceExpression_1 = __webpack_require__(/*! ./DereferenceExpression */ "./lib/freemarker/expression/DereferenceExpression.ts");
class CallMethodExpression {
    constructor(reference, args, row, column) {
        this.reference = reference;
        this.args = args;
        this.row = row;
        this.column = column;
    }
    evaluate(data) {
        if (this.reference instanceof ReferenceExpression_1.ReferenceExpression) {
            const method = this.reference.evaluate(data).retrieve();
            return Value_1.Literal.of(method(...this.args.map(arg => arg.evaluate(data).retrieve())));
        }
        else if (this.reference instanceof DereferenceExpression_1.DereferenceExpression) {
            const method = this.reference.evaluate(data).retrieve();
            return Value_1.Literal.of(method(...this.args.map(arg => arg.evaluate(data).retrieve())));
        }
        else {
            throw new TemplateError_1.TemplateError(this.row, this.column, `Invalid subject of method call, expected reference resolving to a method.`);
        }
    }
}
exports.CallMethodExpression = CallMethodExpression;


/***/ }),

/***/ "./lib/freemarker/expression/ComposingExpression.ts":
/*!**********************************************************!*\
  !*** ./lib/freemarker/expression/ComposingExpression.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isComposingExpression = exports.ComposingExpression = void 0;
class ComposingExpression {
    constructor(subject, row, column) {
        this.subject = subject;
        this.row = row;
        this.column = column;
    }
    getSubject() {
        return this.subject;
    }
    replaceSubject(expression) {
        this.subject = expression;
    }
}
exports.ComposingExpression = ComposingExpression;
function isComposingExpression(test) {
    return test instanceof ComposingExpression;
}
exports.isComposingExpression = isComposingExpression;


/***/ }),

/***/ "./lib/freemarker/expression/DecrementExpression.ts":
/*!**********************************************************!*\
  !*** ./lib/freemarker/expression/DecrementExpression.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DecrementExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class DecrementExpression extends ComposingExpression_1.ComposingExpression {
    evaluate(data) {
        const current = this.subject.evaluate(data);
        const original = current.retrieve();
        current.assign(original - 1);
        return Value_1.Literal.of(undefined);
    }
    getOperator() {
        return '--';
    }
}
exports.DecrementExpression = DecrementExpression;


/***/ }),

/***/ "./lib/freemarker/expression/DefaultExpression.ts":
/*!********************************************************!*\
  !*** ./lib/freemarker/expression/DefaultExpression.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DefaultExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const ReferenceNotFoundError_1 = __webpack_require__(/*! ../ReferenceNotFoundError */ "./lib/freemarker/ReferenceNotFoundError.ts");
class DefaultExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return 'default';
    }
    evaluate(data) {
        try {
            const lhs = this.lhs.evaluate(data);
            if (lhs.retrieve() === undefined) {
                return this.rhs.evaluate(data);
            }
            return lhs;
        }
        catch (err) {
            if (err instanceof ReferenceNotFoundError_1.ReferenceNotFoundError) {
                return this.rhs.evaluate(data);
            }
            throw err;
        }
    }
}
exports.DefaultExpression = DefaultExpression;


/***/ }),

/***/ "./lib/freemarker/expression/DereferenceExpression.ts":
/*!************************************************************!*\
  !*** ./lib/freemarker/expression/DereferenceExpression.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DereferenceExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
const isHash_1 = __webpack_require__(/*! ../../utilities/isHash */ "./lib/utilities/isHash.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class DereferenceExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '.';
    }
    evaluate(data) {
        const obj = this.lhs.evaluate(data).retrieve();
        if (obj === undefined) {
            throw new TemplateError_1.TemplateError(this.row, this.column, `Subject is undefined for dereference operator`);
        }
        if (!(0, isHash_1.isHash)(obj)) {
            throw new TemplateError_1.TemplateError(this.row, this.column, `Invalid subject for dereference operator`);
        }
        const value = this.rhs.evaluate(obj).retrieve();
        if (typeof value === "function") {
            return Value_1.Literal.of(function () {
                return value.call(obj, ...arguments);
            });
        }
        return Value_1.Literal.of(value);
    }
}
exports.DereferenceExpression = DereferenceExpression;


/***/ }),

/***/ "./lib/freemarker/expression/DivideAndAssignExpression.ts":
/*!****************************************************************!*\
  !*** ./lib/freemarker/expression/DivideAndAssignExpression.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DivideAndAssignExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class DivideAndAssignExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '/=';
    }
    evaluate(data) {
        const current = this.lhs.evaluate(data);
        current.assign(current.retrieve() / this.rhs.evaluate(data).retrieve());
        return Value_1.Literal.of(undefined);
    }
}
exports.DivideAndAssignExpression = DivideAndAssignExpression;


/***/ }),

/***/ "./lib/freemarker/expression/DivisionExpression.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/expression/DivisionExpression.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DivisionExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class DivisionExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '/';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() / this.rhs.evaluate(data).retrieve());
    }
}
exports.DivisionExpression = DivisionExpression;


/***/ }),

/***/ "./lib/freemarker/expression/EqualExpression.ts":
/*!******************************************************!*\
  !*** ./lib/freemarker/expression/EqualExpression.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EqualExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class EqualExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '==';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() === this.rhs.evaluate(data).retrieve());
    }
}
exports.EqualExpression = EqualExpression;


/***/ }),

/***/ "./lib/freemarker/expression/FalseExpression.ts":
/*!******************************************************!*\
  !*** ./lib/freemarker/expression/FalseExpression.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FalseExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class FalseExpression {
    constructor(row, column) {
        this.row = row;
        this.column = column;
    }
    evaluate(data) {
        return Value_1.Literal.of(false);
    }
}
exports.FalseExpression = FalseExpression;


/***/ }),

/***/ "./lib/freemarker/expression/GreaterThanExpression.ts":
/*!************************************************************!*\
  !*** ./lib/freemarker/expression/GreaterThanExpression.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GreaterThanExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class GreaterThanExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '>';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() > this.rhs.evaluate(data).retrieve());
    }
}
exports.GreaterThanExpression = GreaterThanExpression;


/***/ }),

/***/ "./lib/freemarker/expression/GreaterThanOrEqualExpression.ts":
/*!*******************************************************************!*\
  !*** ./lib/freemarker/expression/GreaterThanOrEqualExpression.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GreaterThanOrEqualExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class GreaterThanOrEqualExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '>=';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() >= this.rhs.evaluate(data).retrieve());
    }
}
exports.GreaterThanOrEqualExpression = GreaterThanOrEqualExpression;


/***/ }),

/***/ "./lib/freemarker/expression/HashExpression.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/expression/HashExpression.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.HashExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class HashExpression {
    constructor(hash) {
        this.hash = hash;
    }
    evaluate(data) {
        const result = {};
        for (const [key, expression] of Object.entries(this.hash)) {
            result[key] = expression.evaluate(data).retrieve();
        }
        return Value_1.Literal.of(result);
    }
}
exports.HashExpression = HashExpression;


/***/ }),

/***/ "./lib/freemarker/expression/IncrementExpression.ts":
/*!**********************************************************!*\
  !*** ./lib/freemarker/expression/IncrementExpression.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IncrementExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class IncrementExpression extends ComposingExpression_1.ComposingExpression {
    evaluate(data) {
        const current = this.subject.evaluate(data);
        const original = current.retrieve();
        current.assign(original + 1);
        return Value_1.Literal.of(undefined);
    }
    getOperator() {
        return '++';
    }
}
exports.IncrementExpression = IncrementExpression;


/***/ }),

/***/ "./lib/freemarker/expression/IsDefinedExpression.ts":
/*!**********************************************************!*\
  !*** ./lib/freemarker/expression/IsDefinedExpression.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IsDefinedExpression = void 0;
const ReferenceNotFoundError_1 = __webpack_require__(/*! ../ReferenceNotFoundError */ "./lib/freemarker/ReferenceNotFoundError.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class IsDefinedExpression extends ComposingExpression_1.ComposingExpression {
    evaluate(data) {
        try {
            const subject = this.subject.evaluate(data).retrieve();
            return Value_1.Literal.of(!(subject === undefined || subject === null));
        }
        catch (err) {
            if (err instanceof ReferenceNotFoundError_1.ReferenceNotFoundError) {
                return Value_1.Literal.of(false);
            }
            throw err;
        }
    }
    getOperator() {
        return '??';
    }
}
exports.IsDefinedExpression = IsDefinedExpression;


/***/ }),

/***/ "./lib/freemarker/expression/LambdaExpression.ts":
/*!*******************************************************!*\
  !*** ./lib/freemarker/expression/LambdaExpression.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LambdaExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
class LambdaExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '->';
    }
    evaluate(data) {
        const local = Object.assign({}, data);
        const lhs = this.lhs.evaluate(local);
        lhs.assign(data['$$']);
        return this.rhs.evaluate(local);
    }
}
exports.LambdaExpression = LambdaExpression;


/***/ }),

/***/ "./lib/freemarker/expression/LessThanExpression.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/expression/LessThanExpression.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LessThanExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class LessThanExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '<';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() < this.rhs.evaluate(data).retrieve());
    }
}
exports.LessThanExpression = LessThanExpression;


/***/ }),

/***/ "./lib/freemarker/expression/LessThanOrEqualExpression.ts":
/*!****************************************************************!*\
  !*** ./lib/freemarker/expression/LessThanOrEqualExpression.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LessThanOrEqualExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class LessThanOrEqualExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '<';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() <= this.rhs.evaluate(data).retrieve());
    }
}
exports.LessThanOrEqualExpression = LessThanOrEqualExpression;


/***/ }),

/***/ "./lib/freemarker/expression/ModulusAndAssignExpression.ts":
/*!*****************************************************************!*\
  !*** ./lib/freemarker/expression/ModulusAndAssignExpression.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ModulusAndAssignExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class ModulusAndAssignExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '%=';
    }
    evaluate(data) {
        const current = this.lhs.evaluate(data);
        current.assign(current.retrieve() % this.rhs.evaluate(data).retrieve());
        return Value_1.Literal.of(undefined);
    }
}
exports.ModulusAndAssignExpression = ModulusAndAssignExpression;


/***/ }),

/***/ "./lib/freemarker/expression/ModulusExpression.ts":
/*!********************************************************!*\
  !*** ./lib/freemarker/expression/ModulusExpression.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ModulusExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class ModulusExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '%';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() % this.rhs.evaluate(data).retrieve());
    }
}
exports.ModulusExpression = ModulusExpression;


/***/ }),

/***/ "./lib/freemarker/expression/MultiplicationExpression.ts":
/*!***************************************************************!*\
  !*** ./lib/freemarker/expression/MultiplicationExpression.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MultiplicationExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class MultiplicationExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '*';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() * this.rhs.evaluate(data).retrieve());
    }
}
exports.MultiplicationExpression = MultiplicationExpression;


/***/ }),

/***/ "./lib/freemarker/expression/MultiplyAndAssignExpression.ts":
/*!******************************************************************!*\
  !*** ./lib/freemarker/expression/MultiplyAndAssignExpression.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MultiplyAndAssignExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class MultiplyAndAssignExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '*=';
    }
    evaluate(data) {
        const current = this.lhs.evaluate(data);
        current.assign(current.retrieve() * this.rhs.evaluate(data).retrieve());
        return Value_1.Literal.of(undefined);
    }
}
exports.MultiplyAndAssignExpression = MultiplyAndAssignExpression;


/***/ }),

/***/ "./lib/freemarker/expression/NegativeExpression.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/expression/NegativeExpression.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NegativeExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class NegativeExpression extends ComposingExpression_1.ComposingExpression {
    evaluate(data) {
        return Value_1.Literal.of(-1 * this.subject.evaluate(data).retrieve());
    }
    getOperator() {
        return '-';
    }
}
exports.NegativeExpression = NegativeExpression;


/***/ }),

/***/ "./lib/freemarker/expression/NotEqualExpression.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/expression/NotEqualExpression.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NotEqualExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class NotEqualExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '!=';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() != this.rhs.evaluate(data).retrieve());
    }
}
exports.NotEqualExpression = NotEqualExpression;


/***/ }),

/***/ "./lib/freemarker/expression/NotExpression.ts":
/*!****************************************************!*\
  !*** ./lib/freemarker/expression/NotExpression.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NotExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class NotExpression extends ComposingExpression_1.ComposingExpression {
    evaluate(data) {
        return Value_1.Literal.of(!this.subject.evaluate(data).retrieve());
    }
    getOperator() {
        return 'not';
    }
}
exports.NotExpression = NotExpression;


/***/ }),

/***/ "./lib/freemarker/expression/NumberExpression.ts":
/*!*******************************************************!*\
  !*** ./lib/freemarker/expression/NumberExpression.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NumberExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class NumberExpression {
    constructor(subject, row, column) {
        this.subject = subject;
        this.row = row;
        this.column = column;
    }
    evaluate(data) {
        return Value_1.Literal.of(Number(this.subject));
    }
}
exports.NumberExpression = NumberExpression;


/***/ }),

/***/ "./lib/freemarker/expression/OrExpression.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/expression/OrExpression.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OrExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class OrExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '||';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() || this.rhs.evaluate(data).retrieve());
    }
}
exports.OrExpression = OrExpression;


/***/ }),

/***/ "./lib/freemarker/expression/ParenthesisExpression.ts":
/*!************************************************************!*\
  !*** ./lib/freemarker/expression/ParenthesisExpression.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ParenthesisExpression = void 0;
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class ParenthesisExpression extends ComposingExpression_1.ComposingExpression {
    evaluate(data) {
        return this.subject.evaluate(data);
    }
    getOperator() {
        return '(';
    }
}
exports.ParenthesisExpression = ParenthesisExpression;


/***/ }),

/***/ "./lib/freemarker/expression/PositiveExpression.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/expression/PositiveExpression.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PositiveExpression = void 0;
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class PositiveExpression extends ComposingExpression_1.ComposingExpression {
    evaluate(data) {
        return this.subject.evaluate(data);
    }
    getOperator() {
        return '+';
    }
}
exports.PositiveExpression = PositiveExpression;


/***/ }),

/***/ "./lib/freemarker/expression/RangeExclusiveExpression.ts":
/*!***************************************************************!*\
  !*** ./lib/freemarker/expression/RangeExclusiveExpression.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RangeExclusiveExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class RangeExclusiveExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '..';
    }
    evaluate(data) {
        const result = [];
        const lhs = this.lhs.evaluate(data).retrieve();
        const rhs = this.rhs.evaluate(data).retrieve();
        if (lhs < rhs) {
            for (let i = lhs; i < rhs; i++) {
                result.push(i);
            }
        }
        else if (lhs > rhs) {
            for (let i = lhs; i > rhs; i--) {
                result.push(i);
            }
        }
        else {
            result.push(lhs);
        }
        return Value_1.Literal.of(result);
    }
}
exports.RangeExclusiveExpression = RangeExclusiveExpression;


/***/ }),

/***/ "./lib/freemarker/expression/RangeInclusiveExpression.ts":
/*!***************************************************************!*\
  !*** ./lib/freemarker/expression/RangeInclusiveExpression.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RangeInclusiveExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class RangeInclusiveExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '..';
    }
    evaluate(data) {
        const result = [];
        const lhs = this.lhs.evaluate(data).retrieve();
        const rhs = this.rhs.evaluate(data).retrieve();
        if (lhs < rhs) {
            for (let i = lhs; i <= rhs; i++) {
                result.push(i);
            }
        }
        else if (lhs > rhs) {
            for (let i = lhs; i >= rhs; i--) {
                result.push(i);
            }
        }
        else {
            result.push(lhs);
        }
        return Value_1.Literal.of(result);
    }
}
exports.RangeInclusiveExpression = RangeInclusiveExpression;


/***/ }),

/***/ "./lib/freemarker/expression/RangeLengthDecrementExpression.ts":
/*!*********************************************************************!*\
  !*** ./lib/freemarker/expression/RangeLengthDecrementExpression.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RangeLengthDecrementExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class RangeLengthDecrementExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '..';
    }
    evaluate(data) {
        const result = [];
        const start = this.lhs.evaluate(data).retrieve();
        const length = this.rhs.evaluate(data).retrieve();
        for (let i = 0; i < length; i++) {
            result.push(start - i);
        }
        return Value_1.Literal.of(result);
    }
}
exports.RangeLengthDecrementExpression = RangeLengthDecrementExpression;


/***/ }),

/***/ "./lib/freemarker/expression/RangeLengthIncrementExpression.ts":
/*!*********************************************************************!*\
  !*** ./lib/freemarker/expression/RangeLengthIncrementExpression.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RangeLengthIncrementExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class RangeLengthIncrementExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '..';
    }
    evaluate(data) {
        const result = [];
        const start = this.lhs.evaluate(data).retrieve();
        const length = this.rhs.evaluate(data).retrieve();
        for (let i = 0; i < length; i++) {
            result.push(start + i);
        }
        return Value_1.Literal.of(result);
    }
}
exports.RangeLengthIncrementExpression = RangeLengthIncrementExpression;


/***/ }),

/***/ "./lib/freemarker/expression/RangeStartingExpression.ts":
/*!**************************************************************!*\
  !*** ./lib/freemarker/expression/RangeStartingExpression.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RangeStartingExpression = void 0;
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class RangeStartingExpression extends ComposingExpression_1.ComposingExpression {
    evaluate(data) {
        return this.subject.evaluate(data);
    }
    getOperator() {
        return '[';
    }
}
exports.RangeStartingExpression = RangeStartingExpression;


/***/ }),

/***/ "./lib/freemarker/expression/ReferenceExpression.ts":
/*!**********************************************************!*\
  !*** ./lib/freemarker/expression/ReferenceExpression.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ReferenceExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class ReferenceExpression {
    constructor(reference, row, column) {
        this.reference = reference;
        this.row = row;
        this.column = column;
    }
    evaluate(data) {
        return Value_1.Reference.of(this.reference, data);
    }
}
exports.ReferenceExpression = ReferenceExpression;


/***/ }),

/***/ "./lib/freemarker/expression/SequenceExpression.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/expression/SequenceExpression.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SequenceExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class SequenceExpression {
    constructor(elements) {
        this.elements = elements;
    }
    evaluate(data) {
        return Value_1.Literal.of(this.elements.map(el => el.evaluate(data).retrieve()));
    }
}
exports.SequenceExpression = SequenceExpression;


/***/ }),

/***/ "./lib/freemarker/expression/SliceExpression.ts":
/*!******************************************************!*\
  !*** ./lib/freemarker/expression/SliceExpression.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SliceExpression = void 0;
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
const RangeStartingExpression_1 = __webpack_require__(/*! ./RangeStartingExpression */ "./lib/freemarker/expression/RangeStartingExpression.ts");
const RangeLengthIncrementExpression_1 = __webpack_require__(/*! ./RangeLengthIncrementExpression */ "./lib/freemarker/expression/RangeLengthIncrementExpression.ts");
const RangeLengthDecrementExpression_1 = __webpack_require__(/*! ./RangeLengthDecrementExpression */ "./lib/freemarker/expression/RangeLengthDecrementExpression.ts");
const isHash_1 = __webpack_require__(/*! ../../utilities/isHash */ "./lib/utilities/isHash.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
class SliceExpression extends BinaryExpression_1.BinaryExpression {
    evaluate(data) {
        const subject = this.lhs.evaluate(data).retrieve();
        const arg = this.rhs.evaluate(data).retrieve();
        const lenient = this.rhs instanceof RangeLengthIncrementExpression_1.RangeLengthIncrementExpression || this.rhs instanceof RangeLengthDecrementExpression_1.RangeLengthDecrementExpression;
        if (Array.isArray(subject)) {
            if (this.rhs instanceof RangeStartingExpression_1.RangeStartingExpression) {
                return Value_1.Literal.of(subject.slice(arg));
            }
            else if (Array.isArray(arg)) {
                const result = [];
                for (const index of arg) {
                    if (index >= 0 && index < subject.length) {
                        result.push(subject[index]);
                    }
                    else if (!lenient) {
                        throw new TemplateError_1.TemplateError(this.row, this.column, `Invalid index for slice`);
                    }
                }
                return Value_1.Literal.of(result);
            }
            else if (typeof arg === "number") {
                return Value_1.Literal.of(subject[arg]);
            }
            else {
                throw new TemplateError_1.TemplateError(this.row, this.column, `Unsupported arg of slice`);
            }
        }
        else if ((0, isHash_1.isHash)(subject)) {
            if (typeof arg === "string") {
                return Value_1.Literal.of(subject[arg]);
            }
            else {
                throw new TemplateError_1.TemplateError(this.row, this.column, `Unsupported arg of slice when applied to hash`);
            }
        }
        else if (typeof subject === "string") {
            if (this.rhs instanceof RangeStartingExpression_1.RangeStartingExpression) {
                return Value_1.Literal.of(subject.slice(arg));
            }
            else if (Array.isArray(arg)) {
                const result = [];
                for (const index of arg) {
                    if (index >= 0 && index < subject.length) {
                        result.push(subject.charAt(index));
                    }
                    else if (!lenient) {
                        throw new TemplateError_1.TemplateError(this.row, this.column, `Invalid index for slice`);
                    }
                }
                return Value_1.Literal.of(result.join(""));
            }
            else if (typeof arg === "number") {
                return Value_1.Literal.of(subject.charAt(arg));
            }
            else {
                throw new TemplateError_1.TemplateError(this.row, this.column, `Unsupported arg of slice`);
            }
        }
        else {
            throw new TemplateError_1.TemplateError(this.row, this.column, `Unsupported subject of slice`);
        }
    }
    getOperator() {
        return 'slice';
    }
}
exports.SliceExpression = SliceExpression;


/***/ }),

/***/ "./lib/freemarker/expression/StringExpression.ts":
/*!*******************************************************!*\
  !*** ./lib/freemarker/expression/StringExpression.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StringExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const StringBuffer_1 = __webpack_require__(/*! ../../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const expression_engine_1 = __webpack_require__(/*! ../expression-engine */ "./lib/freemarker/expression-engine.ts");
var Stage;
(function (Stage) {
    Stage[Stage["OPEN"] = 0] = "OPEN";
    Stage[Stage["INTERPOLATION"] = 1] = "INTERPOLATION";
})(Stage || (Stage = {}));
class StringExpression {
    constructor(str, row, column) {
        this.str = str;
        this.row = row;
        this.column = column;
    }
    evaluate(data) {
        const reader = new StringBuffer_1.StringBuffer(this.str, this.row, this.column);
        let result = new StringBuffer_1.StringBuffer();
        let writer = new StringBuffer_1.StringBuffer();
        let column, row;
        let stage = Stage.OPEN;
        while (reader.hasNext()) {
            let character = reader.next();
            if (stage === Stage.OPEN) {
                writer.append(character.getString());
                if (writer.endsWith('${')) {
                    row = character.getRow();
                    column = character.getColumn();
                    const text = writer.toString();
                    result.append(text.substring(0, text.length - 2));
                    stage = Stage.INTERPOLATION;
                    writer = new StringBuffer_1.StringBuffer();
                }
            }
            else if (stage === Stage.INTERPOLATION) {
                if (character.getString() === '}') {
                    const text = writer.toString();
                    const str = new expression_engine_1.ExpressionEngine().build(text, row, column).evaluate(data).retrieve();
                    result.append(String(str));
                    stage = Stage.OPEN;
                    writer = new StringBuffer_1.StringBuffer();
                }
                else {
                    writer.append(character.getString());
                }
            }
        }
        result.append(writer.toString());
        return Value_1.Literal.of(result.toString());
    }
}
exports.StringExpression = StringExpression;


/***/ }),

/***/ "./lib/freemarker/expression/SubstractAndAssignExpression.ts":
/*!*******************************************************************!*\
  !*** ./lib/freemarker/expression/SubstractAndAssignExpression.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SubtractAndAssignExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class SubtractAndAssignExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '-=';
    }
    evaluate(data) {
        const current = this.lhs.evaluate(data);
        current.assign(current.retrieve() - this.rhs.evaluate(data).retrieve());
        return Value_1.Literal.of(undefined);
    }
}
exports.SubtractAndAssignExpression = SubtractAndAssignExpression;


/***/ }),

/***/ "./lib/freemarker/expression/SubstractionExpression.ts":
/*!*************************************************************!*\
  !*** ./lib/freemarker/expression/SubstractionExpression.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SubtractionExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class SubtractionExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '-';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() - this.rhs.evaluate(data).retrieve());
    }
}
exports.SubtractionExpression = SubtractionExpression;


/***/ }),

/***/ "./lib/freemarker/expression/TrueExpression.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/expression/TrueExpression.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TrueExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class TrueExpression {
    constructor(row, column) {
        this.row = row;
        this.column = column;
    }
    evaluate(data) {
        return Value_1.Literal.of(true);
    }
}
exports.TrueExpression = TrueExpression;


/***/ }),

/***/ "./lib/freemarker/expression/Value.ts":
/*!********************************************!*\
  !*** ./lib/freemarker/expression/Value.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Reference = exports.Literal = void 0;
class Literal {
    constructor(value) {
        this.value = value;
    }
    assign(val) {
        throw new Error("Invalid assignment target");
    }
    retrieve() {
        return this.value;
    }
    static of(value) {
        return new Literal(value);
    }
}
exports.Literal = Literal;
class Reference {
    constructor(name, data) {
        this.name = name;
        this.data = data;
    }
    assign(val) {
        this.data[this.name] = val;
    }
    retrieve() {
        return this.data[this.name];
    }
    getName() {
        return this.name;
    }
    static of(name, data) {
        return new Reference(name, data);
    }
}
exports.Reference = Reference;


/***/ }),

/***/ "./lib/freemarker/expression/tokenize.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/expression/tokenize.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.tokenize = exports.Token = exports.TokenType = void 0;
const StringBuffer_1 = __webpack_require__(/*! ../../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const isWhitespace_1 = __webpack_require__(/*! ../../utilities/isWhitespace */ "./lib/utilities/isWhitespace.ts");
const isAlphabetic_1 = __webpack_require__(/*! ../../utilities/isAlphabetic */ "./lib/utilities/isAlphabetic.ts");
const isAlphanumeric_1 = __webpack_require__(/*! ../../utilities/isAlphanumeric */ "./lib/utilities/isAlphanumeric.ts");
const isNumeric_1 = __webpack_require__(/*! ../../utilities/isNumeric */ "./lib/utilities/isNumeric.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
exports.TokenType = {
    EQUAL: 'EQUAL',
    NOT_EQUAL: 'NOT_EQUAL',
    LESS_THAN: 'LESS_THAN',
    LESS_THAN_OR_EQUAL: 'LESS_THAN_OR_EQUAL',
    GREATER_THAN: 'GREATER_THAN',
    GREATER_THAN_OR_EQUAL: 'GREATER_THAN_OR_EQUAL',
    OR: 'OR',
    AND: 'AND',
    BANG: 'BANG',
    REFERENCE: 'REFERENCE',
    BUILTIN: 'BUILTIN',
    GLOBAL_VARIABLE: 'GLOBAL_VARIABLE',
    TRUE: 'TRUE',
    FALSE: 'FALSE',
    STRING: 'STRING',
    NUMBER: 'NUMBER',
    OPEN_PARENTHESIS: 'OPEN_PARENTHESIS',
    CLOSE_PARENTHESIS: 'CLOSE_PARENTHESIS',
    OPEN_SEQUENCE: 'OPEN_SEQUENCE',
    CLOSE_SEQUENCE: 'CLOSE_SEQUENCE',
    OPEN_SLICE: 'OPEN_SLICE',
    OPEN_HASH: 'OPEN_HASH',
    CLOSE_HASH: 'CLOSE_HASH',
    COMMA: 'COMMA',
    COLON: 'COLON',
    ASSIGN: 'ASSIGN',
    ADD_AND_ASSIGN: 'ADD_AND_ASSIGN',
    SUBTRACT_AND_ASSIGN: 'SUBTRACT_AND_ASSIGN',
    MULTIPLY_AND_ASSIGN: 'MULTIPLY_AND_ASSIGN',
    DIVIDE_AND_ASSIGN: 'DIVIDE_AND_ASSIGN',
    MODULUS_AND_ASSIGN: 'MODULUS_AND_ASSIGN',
    PLUS: 'PLUS',
    MINUS: 'MINUS',
    MULTIPLY: 'MULTIPLY',
    DIVIDE: 'DIVIDE',
    MODULUS: 'MODULUS',
    RANGE_INCLUSIVE: 'RANGE_INCLUSIVE',
    RANGE_EXCLUSIVE: 'RANGE_EXCLUSIVE',
    RANGE_LENGTH_INC: 'RANGE_LENGTH_INC',
    RANGE_LENGTH_DEC: 'RANGE_LENGTH_DEC',
    DEREFERENCE: 'DEREFERENCE',
    CALL_BUILTIN: 'CALL_BUILTIN',
    CALL_METHOD: 'CALL_METHOD',
    IS_DEFINED: 'IS_DEFINED',
    LAMBDA: 'LAMBDA',
    PLUS_PLUS: 'PLUS_PLUS',
    MINUS_MINUS: 'MINUS_MINUS',
};
class Token {
    constructor(type, token, row, column) {
        this.type = type;
        this.token = token;
        this.row = row;
        this.column = column;
    }
    getType() {
        return this.type;
    }
    getToken() {
        return this.token;
    }
    getRow() {
        return this.row;
    }
    getColumn() {
        return this.column;
    }
}
exports.Token = Token;
function tokenize(expression, row = 0, column = 0) {
    const reader = new StringBuffer_1.StringBuffer(expression, row, column);
    let stage = 0 /* Stage.OPEN */;
    let writer = new StringBuffer_1.StringBuffer();
    const results = [];
    function appendToken(row, column) {
        function take(partial, type) {
            results.push(new Token(type, partial, row, column - partial.length));
            return token.substring(partial.length);
        }
        let token = writer.toString();
        if (stage === 5 /* Stage.NUMBER */) {
            if (isNaN(Number(token))) {
                throw new TemplateError_1.TemplateError(row, column, `Invalid number`);
            }
            results.push(new Token(exports.TokenType.NUMBER, token, row, column - token.length));
            return;
        }
        while (token.length) {
            if (token.startsWith('..*-')) {
                token = take('..*-', exports.TokenType.RANGE_LENGTH_DEC);
            }
            else if (token.startsWith('..*+')) {
                token = take('..*+', exports.TokenType.RANGE_LENGTH_INC);
            }
            else if (token.startsWith('..*')) {
                token = take('..*', exports.TokenType.RANGE_LENGTH_INC);
            }
            else if (token.startsWith('..<')) {
                token = take('..<', exports.TokenType.RANGE_EXCLUSIVE);
            }
            else if (token.startsWith('..!')) {
                token = take('..<', exports.TokenType.RANGE_EXCLUSIVE);
            }
            else if (token.startsWith('==')) {
                token = take('==', exports.TokenType.EQUAL);
            }
            else if (token.startsWith('+=')) {
                token = take('+=', exports.TokenType.ADD_AND_ASSIGN);
            }
            else if (token.startsWith('++')) {
                token = take('++', exports.TokenType.PLUS_PLUS);
            }
            else if (token.startsWith('-=')) {
                token = take('-=', exports.TokenType.SUBTRACT_AND_ASSIGN);
            }
            else if (token.startsWith('--')) {
                token = take('--', exports.TokenType.MINUS_MINUS);
            }
            else if (token.startsWith('/=')) {
                token = take('/=', exports.TokenType.DIVIDE_AND_ASSIGN);
            }
            else if (token.startsWith('%=')) {
                token = take('%=', exports.TokenType.MODULUS_AND_ASSIGN);
            }
            else if (token.startsWith('*=')) {
                token = take('*=', exports.TokenType.MULTIPLY_AND_ASSIGN);
            }
            else if (token.startsWith('->')) {
                token = take('->', exports.TokenType.LAMBDA);
            }
            else if (token.startsWith('!=')) {
                token = take('!=', exports.TokenType.NOT_EQUAL);
            }
            else if (token.startsWith('<=')) {
                token = take('<=', exports.TokenType.LESS_THAN_OR_EQUAL);
            }
            else if (token.startsWith('&gt;')) {
                token = take('>', exports.TokenType.GREATER_THAN);
            }
            else if (token.startsWith('&lt;')) {
                token = take('<', exports.TokenType.LESS_THAN);
            }
            else if (token.startsWith('lt')) {
                token = take('<', exports.TokenType.LESS_THAN);
            }
            else if (token.startsWith('lte')) {
                token = take('<=', exports.TokenType.LESS_THAN_OR_EQUAL);
            }
            else if (token.startsWith('gt')) {
                token = take('>', exports.TokenType.GREATER_THAN);
            }
            else if (token.startsWith('gte')) {
                token = take('>=', exports.TokenType.GREATER_THAN_OR_EQUAL);
            }
            else if (token.startsWith('>=')) {
                token = take('>=', exports.TokenType.GREATER_THAN_OR_EQUAL);
            }
            else if (token.startsWith('&gt;')) {
                token = take('>=', exports.TokenType.GREATER_THAN_OR_EQUAL);
            }
            else if (token.startsWith('..')) {
                token = take('..', exports.TokenType.RANGE_INCLUSIVE);
            }
            else if (token.startsWith('??')) {
                token = take('??', exports.TokenType.IS_DEFINED);
            }
            else if (token.startsWith('||')) {
                token = take('||', exports.TokenType.OR);
            }
            else if (token.startsWith('&&')) {
                token = take('&&', exports.TokenType.AND);
            }
            else if (token.startsWith('&amp;&amp;')) {
                token = take('&&', exports.TokenType.AND);
            }
            else if (token.startsWith('true')) {
                token = take('true', exports.TokenType.TRUE);
            }
            else if (token.startsWith('false')) {
                token = take('false', exports.TokenType.FALSE);
            }
            else if (token.startsWith('=')) {
                token = take('=', exports.TokenType.ASSIGN);
            }
            else if (token.startsWith('!')) {
                token = take('!', exports.TokenType.BANG);
            }
            else if (token.startsWith('+')) {
                token = take('+', exports.TokenType.PLUS);
            }
            else if (token.startsWith('-')) {
                token = take('-', exports.TokenType.MINUS);
            }
            else if (token.startsWith('/')) {
                token = take('/', exports.TokenType.DIVIDE);
            }
            else if (token.startsWith('*')) {
                token = take('*', exports.TokenType.MULTIPLY);
            }
            else if (token.startsWith('%')) {
                token = take('%', exports.TokenType.MODULUS);
            }
            else if (token.startsWith('>')) {
                token = take('>', exports.TokenType.GREATER_THAN);
            }
            else if (token.startsWith('<')) {
                token = take('<', exports.TokenType.LESS_THAN);
            }
            else if (token.startsWith('?')) {
                token = take('?', exports.TokenType.CALL_BUILTIN);
            }
            else {
                if (results.length && results[results.length - 1].getType() === exports.TokenType.CALL_BUILTIN) {
                    results.push(new Token(exports.TokenType.BUILTIN, token, row, column - token.length));
                }
                else {
                    results.push(new Token(exports.TokenType.REFERENCE, token, row, column - token.length));
                }
                break;
            }
        }
    }
    function resetToken() {
        stage = 0 /* Stage.OPEN */;
        writer = new StringBuffer_1.StringBuffer();
    }
    let stringDelimiter = null;
    let escape = false;
    let fullStop = false;
    let lastFullStop = false;
    while (reader.hasNext()) {
        let character = reader.next();
        if (stage === 3 /* Stage.STRING */) {
            if (escape) {
                if (character.getString() == '"') {
                    writer.append('"');
                }
                else if (character.getString() == '\'') {
                    writer.append('\'');
                }
                else if (character.getString() === '{') {
                    writer.append('{');
                }
                else if (character.getString() === '=') {
                    writer.append('=');
                }
                else if (character.getString() === '\\') {
                    writer.append('\\');
                }
                else if (character.getString() === 'n') {
                    writer.append("\n");
                }
                else if (character.getString() === 'r') {
                    writer.append("\r");
                }
                else if (character.getString() === 't') {
                    writer.append("\t");
                }
                else if (character.getString() === 'b') {
                    writer.append("\b");
                }
                else if (character.getString() === 'f') {
                    writer.append("\f");
                }
                else if (character.getString() === 'l') {
                    writer.append("<");
                }
                else if (character.getString() === 'g') {
                    writer.append(">");
                }
                else if (character.getString() === 'a') {
                    writer.append("&");
                }
                else if (character.getString() === 'x') {
                    //do not escape special strings
                    writer.append("\\x");
                }
                else {
                    throw new TemplateError_1.TemplateError(character.getRow(), character.getColumn(), `Unsupported escape sequence '\\${character.getString()}'`);
                }
                escape = false;
            }
            else if (character.getString() === '\\') {
                escape = true;
            }
            else if (character.getString() === stringDelimiter) {
                const string = writer.toString();
                results.push(new Token(exports.TokenType.STRING, string, character.getRow(), character.getColumn() - string.length - 1));
                resetToken();
            }
            else {
                writer.append(character.getString());
            }
        }
        else if (stage === 4 /* Stage.RAW_STRING */) {
            if (character.getString() === stringDelimiter) {
                const string = writer.toString();
                results.push(new Token(exports.TokenType.STRING, string, character.getRow(), character.getColumn() - string.length - 2));
                resetToken();
            }
            else {
                writer.append(character.getString());
            }
        }
        else if ((0, isWhitespace_1.isWhitespace)(character.getString())) {
            appendToken(character.getRow(), character.getColumn());
            resetToken();
        }
        else if (character.getString() === '(') {
            appendToken(character.getRow(), character.getColumn());
            if (stage === 2 /* Stage.REFERENCE */) {
                results.push(new Token(exports.TokenType.CALL_METHOD, "(", character.getRow(), character.getColumn()));
            }
            else {
                results.push(new Token(exports.TokenType.OPEN_PARENTHESIS, "(", character.getRow(), character.getColumn()));
            }
            resetToken();
        }
        else if (character.getString() === '[') {
            appendToken(character.getRow(), character.getColumn());
            if (stage === 2 /* Stage.REFERENCE */) {
                results.push(new Token(exports.TokenType.OPEN_SLICE, "[", character.getRow(), character.getColumn()));
            }
            else {
                results.push(new Token(exports.TokenType.OPEN_SEQUENCE, "[", character.getRow(), character.getColumn()));
            }
            resetToken();
        }
        else if (character.getString() === '{') {
            appendToken(character.getRow(), character.getColumn());
            results.push(new Token(exports.TokenType.OPEN_HASH, "{", character.getRow(), character.getColumn()));
            resetToken();
        }
        else if (character.getString() === ',') {
            appendToken(character.getRow(), character.getColumn());
            results.push(new Token(exports.TokenType.COMMA, ",", character.getRow(), character.getColumn()));
            resetToken();
        }
        else if (character.getString() === ':') {
            appendToken(character.getRow(), character.getColumn());
            results.push(new Token(exports.TokenType.COLON, ":", character.getRow(), character.getColumn()));
            resetToken();
        }
        else if (character.getString() === ')') {
            appendToken(character.getRow(), character.getColumn());
            results.push(new Token(exports.TokenType.CLOSE_PARENTHESIS, ")", character.getRow(), character.getColumn()));
            resetToken();
        }
        else if (character.getString() === ']') {
            appendToken(character.getRow(), character.getColumn());
            results.push(new Token(exports.TokenType.CLOSE_SEQUENCE, "]", character.getRow(), character.getColumn()));
            resetToken();
        }
        else if (character.getString() === '}') {
            appendToken(character.getRow(), character.getColumn());
            results.push(new Token(exports.TokenType.CLOSE_HASH, "}", character.getRow(), character.getColumn()));
            resetToken();
        }
        else if (stage === 2 /* Stage.REFERENCE */) {
            if (character.getString() === '.') {
                appendToken(character.getRow(), character.getColumn());
                results.push(new Token(exports.TokenType.DEREFERENCE, ".", character.getRow(), character.getColumn()));
                resetToken();
            }
            else if (character.getString() === '"' && writer.toString() === 'r') {
                stage = 4 /* Stage.RAW_STRING */;
                stringDelimiter = '"';
                writer = new StringBuffer_1.StringBuffer();
            }
            else if (character.getString() === '\'' && writer.toString() === 'r') {
                stage = 4 /* Stage.RAW_STRING */;
                stringDelimiter = '\'';
                writer = new StringBuffer_1.StringBuffer();
            }
            else if ((0, isAlphanumeric_1.isAlphanumeric)(character.getString())) {
                writer.append(character.getString());
            }
            else if (character.getString() === '_') {
                writer.append(character.getString());
            }
            else {
                appendToken(character.getRow(), character.getColumn());
                //encountered weird character - operator.
                stage = 1 /* Stage.OPERATOR */;
                writer = new StringBuffer_1.StringBuffer();
                writer.append(character.getString());
            }
        }
        else if (character.getString() === '"') {
            appendToken(character.getRow(), character.getColumn());
            stringDelimiter = '"';
            stage = 3 /* Stage.STRING */;
            writer = new StringBuffer_1.StringBuffer();
        }
        else if (character.getString() === '\'') {
            appendToken(character.getRow(), character.getColumn());
            stringDelimiter = '\'';
            stage = 3 /* Stage.STRING */;
            writer = new StringBuffer_1.StringBuffer();
        }
        else if (stage === 1 /* Stage.OPERATOR */) {
            if ((0, isAlphabetic_1.isAlphabetic)(character.getString())) {
                appendToken(character.getRow(), character.getColumn());
                stage = 2 /* Stage.REFERENCE */;
                writer = new StringBuffer_1.StringBuffer();
                writer.append(character.getString());
            }
            else if ((0, isNumeric_1.isNumeric)(character.getString())) {
                appendToken(character.getRow(), character.getColumn());
                stage = 5 /* Stage.NUMBER */;
                writer = new StringBuffer_1.StringBuffer();
                writer.append(character.getString());
            }
            else {
                writer.append(character.getString());
            }
        }
        else if (stage === 5 /* Stage.NUMBER */) {
            if (lastFullStop) {
                if (character.getString() === '.') {
                    appendToken(character.getRow(), character.getColumn() - 1);
                    stage = 1 /* Stage.OPERATOR */;
                    fullStop = false;
                    lastFullStop = false;
                    writer = new StringBuffer_1.StringBuffer();
                    writer.append('.');
                    writer.append(character.getString());
                }
                else {
                    lastFullStop = false;
                    writer.append('.');
                    writer.append(character.getString());
                }
            }
            else if (character.getString() === '.') {
                if (lastFullStop) {
                    //double fullStop - we have a range operator.
                }
                if (fullStop) {
                    throw new TemplateError_1.TemplateError(character.getRow(), character.getColumn(), `Invalid decimal point, decimal point already processed`);
                }
                fullStop = true;
                lastFullStop = true;
            }
            else if ((0, isNumeric_1.isNumeric)(character.getString())) {
                lastFullStop = false;
                writer.append(character.getString());
            }
            else if ((0, isAlphabetic_1.isAlphabetic)(character.getString())) {
                appendToken(character.getRow(), character.getColumn());
                stage = 2 /* Stage.REFERENCE */;
                writer = new StringBuffer_1.StringBuffer();
                writer.append(character.getString());
            }
            else {
                appendToken(character.getRow(), character.getColumn());
                stage = 1 /* Stage.OPERATOR */;
                writer = new StringBuffer_1.StringBuffer();
                writer.append(character.getString());
            }
        }
        else if (character.getString() === '.') {
            appendToken(character.getRow(), character.getColumn());
            results.push(new Token(exports.TokenType.DEREFERENCE, ".", character.getRow(), character.getColumn()));
            resetToken();
        }
        else if ((0, isAlphabetic_1.isAlphabetic)(character.getString())) {
            // reference is a special mode where alphanumerics for a token, and anything else terminates the token.
            stage = 2 /* Stage.REFERENCE */;
            writer.append(character.getString());
        }
        else if ((0, isNumeric_1.isNumeric)(character.getString())) {
            // number is a special mode where fullstop means something specific, a decimal point. Alphabetic characters are invalid.
            stage = 5 /* Stage.NUMBER */;
            fullStop = false;
            lastFullStop = false;
            writer.append(character.getString());
        }
        else if (character.getString() === '.') {
            appendToken(character.getRow(), character.getColumn());
            writer = new StringBuffer_1.StringBuffer();
            writer.append(".");
            stage = 2 /* Stage.REFERENCE */;
        }
        else {
            stage = 1 /* Stage.OPERATOR */;
            writer.append(character.getString());
        }
    }
    if (stage === 3 /* Stage.STRING */ || stage === 4 /* Stage.RAW_STRING */) {
        throw new TemplateError_1.TemplateError(row, column, `Unclosed string`);
    }
    appendToken(reader.getRow(), reader.getColumn());
    return results;
}
exports.tokenize = tokenize;


/***/ }),

/***/ "./lib/freemarker/template/LexicalToken.ts":
/*!*************************************************!*\
  !*** ./lib/freemarker/template/LexicalToken.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LexicalToken = void 0;
class LexicalToken {
    constructor(type, column, row, text, params, paramsRow, paramsColumn) {
        this.type = type;
        this.column = column;
        this.row = row;
        this.text = text;
        this.params = params;
        this.paramsRow = paramsRow;
        this.paramsColumn = paramsColumn;
    }
    getType() {
        return this.type;
    }
    getRow() {
        return this.row;
    }
    getColumn() {
        return this.column;
    }
    getText() {
        return this.text;
    }
    getParams() {
        return this.params;
    }
    getParamsRow() {
        return this.paramsRow;
    }
    getParamsColumn() {
        return this.paramsColumn;
    }
}
exports.LexicalToken = LexicalToken;


/***/ }),

/***/ "./lib/freemarker/template/LexicalTokenType.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/template/LexicalTokenType.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LexicalTokenType = void 0;
exports.LexicalTokenType = {
    OPEN_DIRECTIVE: 'OPEN_DIRECTIVE',
    CLOSE_DIRECTIVE: 'CLOSE_DIRECTIVE',
    TEXT: 'TEXT',
    INTERPOLATION: 'INTERPOLATION',
};


/***/ }),

/***/ "./lib/freemarker/template/lexer.ts":
/*!******************************************!*\
  !*** ./lib/freemarker/template/lexer.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.parse = void 0;
const LexicalToken_1 = __webpack_require__(/*! ./LexicalToken */ "./lib/freemarker/template/LexicalToken.ts");
const StringBuffer_1 = __webpack_require__(/*! ../../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const LexicalTokenType_1 = __webpack_require__(/*! ./LexicalTokenType */ "./lib/freemarker/template/LexicalTokenType.ts");
const isWhitespace_1 = __webpack_require__(/*! ../../utilities/isWhitespace */ "./lib/utilities/isWhitespace.ts");
var InterpolationStage;
(function (InterpolationStage) {
    InterpolationStage[InterpolationStage["OPEN"] = 0] = "OPEN";
    InterpolationStage[InterpolationStage["STRING"] = 1] = "STRING";
    InterpolationStage[InterpolationStage["RAW_STRING"] = 2] = "RAW_STRING";
})(InterpolationStage || (InterpolationStage = {}));
function parse(template) {
    const results = [];
    let writer = new StringBuffer_1.StringBuffer();
    let startColumn = 0, startRow = 0;
    const reader = new StringBuffer_1.StringBuffer(template);
    while (reader.hasNext()) {
        let character = reader.next();
        writer.append(character.getString());
        if (writer.endsWith('</#')) {
            const text = writer.toString();
            if (text.length - 3) {
                results.push(new LexicalToken_1.LexicalToken(LexicalTokenType_1.LexicalTokenType.TEXT, startColumn, startRow, text.substring(0, text.length - 3), undefined));
                startColumn = character.getColumn() - 2;
                startRow = character.getRow();
            }
            writer = new StringBuffer_1.StringBuffer();
            while (reader.hasNext()) {
                character = reader.next();
                if ((0, isWhitespace_1.isWhitespace)(character.getString()) || character.getString() === '>') {
                    break;
                }
                writer.append(character.getString());
            }
            const directive = writer.toString();
            writer = new StringBuffer_1.StringBuffer();
            if ((0, isWhitespace_1.isWhitespace)(character.getString())) {
                while (reader.hasNext()) {
                    character = reader.next();
                    if (character.getString() === '>') {
                        break;
                    }
                    writer.append(character.getString());
                }
            }
            results.push(new LexicalToken_1.LexicalToken(LexicalTokenType_1.LexicalTokenType.CLOSE_DIRECTIVE, startColumn, startRow, directive, writer.toString()));
            writer = new StringBuffer_1.StringBuffer();
            startColumn = character.getColumn() + 1;
            startRow = character.getRow();
        }
        else if (writer.endsWith('<#')) {
            const text = writer.toString();
            if (text.length - 2) {
                results.push(new LexicalToken_1.LexicalToken(LexicalTokenType_1.LexicalTokenType.TEXT, startColumn, startRow, text.substring(0, text.length - 2)));
                startColumn = character.getColumn() - 1;
                startRow = character.getRow();
            }
            writer = new StringBuffer_1.StringBuffer();
            while (reader.hasNext()) {
                character = reader.next();
                if ((0, isWhitespace_1.isWhitespace)(character.getString()) || character.getString() === '>') {
                    break;
                }
                writer.append(character.getString());
            }
            const directive = writer.toString();
            writer = new StringBuffer_1.StringBuffer();
            let paramsRow, paramsColumn;
            if ((0, isWhitespace_1.isWhitespace)(character.getString())) {
                let leading = true;
                paramsRow = character.getRow();
                paramsColumn = character.getColumn();
                while (reader.hasNext()) {
                    character = reader.next();
                    if (leading) {
                        if ((0, isWhitespace_1.isWhitespace)(character.getString())) {
                            continue;
                        }
                        paramsRow = character.getRow();
                        paramsColumn = character.getColumn();
                    }
                    leading = false;
                    if (character.getString() === '>') {
                        break;
                    }
                    else if (character.getString() === '"') {
                        writer.append(character.getString());
                        while (reader.hasNext()) {
                            character = reader.next();
                            if (character.getString() === '\\') {
                                writer.append(character.getString());
                                if (reader.hasNext()) {
                                    character = reader.next();
                                }
                            }
                            else if (character.getString() === '"') {
                                break;
                            }
                            writer.append(character.getString());
                        }
                    }
                    writer.append(character.getString());
                }
            }
            results.push(new LexicalToken_1.LexicalToken(LexicalTokenType_1.LexicalTokenType.OPEN_DIRECTIVE, startColumn, startRow, directive, writer.toString(), paramsRow, paramsColumn));
            writer = new StringBuffer_1.StringBuffer();
            startColumn = character.getColumn() + 1;
            startRow = character.getRow();
        }
        else if (writer.endsWith('${')) {
            const text = writer.toString();
            if (text.length - 2) {
                results.push(new LexicalToken_1.LexicalToken(LexicalTokenType_1.LexicalTokenType.TEXT, startColumn, startRow, text.substring(0, text.length - 2), undefined));
                startColumn = character.getColumn() - 1;
                startRow = character.getRow();
            }
            writer = new StringBuffer_1.StringBuffer();
            startColumn = character.getColumn() - 1;
            startRow = character.getRow();
            let paramsRow, paramsColumn, leading = true, isRaw = false;
            let stage = InterpolationStage.OPEN;
            while (reader.hasNext()) {
                character = reader.next();
                if (leading) {
                    if ((0, isWhitespace_1.isWhitespace)(character.getString())) {
                        continue;
                    }
                    leading = false;
                    paramsRow = character.getRow();
                    paramsColumn = character.getColumn();
                }
                if (stage === InterpolationStage.OPEN) {
                    if (character.getString() === '"') {
                        if (isRaw) {
                            stage = InterpolationStage.RAW_STRING;
                        }
                        else {
                            stage = InterpolationStage.STRING;
                        }
                        isRaw = false;
                    }
                    else if (character.getString() === "r") {
                        isRaw = true;
                    }
                    else if (character.getString() === "}") {
                        break;
                    }
                    else {
                        isRaw = false;
                    }
                    writer.append(character.getString());
                }
                else if (stage === InterpolationStage.RAW_STRING) {
                    if (character.getString() === '"') {
                        stage = InterpolationStage.OPEN;
                    }
                    writer.append(character.getString());
                }
                else if (stage === InterpolationStage.STRING) {
                    if (character.getString() === '\\') {
                        if (reader.hasNext()) {
                            character = reader.next();
                            writer.append(character.getString());
                        }
                    }
                    else if (character.getString() === '"') {
                        stage = InterpolationStage.OPEN;
                    }
                    writer.append(character.getString());
                }
            }
            results.push(new LexicalToken_1.LexicalToken(LexicalTokenType_1.LexicalTokenType.INTERPOLATION, startColumn, startRow, '', writer.toString(), paramsRow, paramsColumn));
            writer = new StringBuffer_1.StringBuffer();
            startColumn = character.getColumn() + 1;
            startRow = character.getRow();
        }
    }
    const text = writer.toString();
    if (text.length) {
        results.push(new LexicalToken_1.LexicalToken(LexicalTokenType_1.LexicalTokenType.TEXT, startColumn, startRow, text, undefined));
    }
    return results;
}
exports.parse = parse;


/***/ }),

/***/ "./lib/index.ts":
/*!**********************!*\
  !*** ./lib/index.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
//#! /usr/bin/env node

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ./parser */ "./lib/parser.ts");
const path = __importStar(__webpack_require__(/*! node:path */ "node:path"));
const fs = __importStar(__webpack_require__(/*! fs */ "fs"));
const properties_1 = __importDefault(__webpack_require__(/*! ./properties */ "./lib/properties.ts"));
const freemarker_1 = __webpack_require__(/*! ./freemarker */ "./lib/freemarker.ts");
const Store_1 = __importDefault(__webpack_require__(/*! ./store/Store */ "./lib/store/Store.ts"));
const html_format_1 = __importDefault(__webpack_require__(/*! html-format */ "./node_modules/html-format/index.js"));
const RenderingEngine_1 = __importDefault(__webpack_require__(/*! ./RenderingEngine */ "./lib/RenderingEngine.ts"));
const FreemarkerError_1 = __webpack_require__(/*! ./freemarker/FreemarkerError */ "./lib/freemarker/FreemarkerError.ts");
const commander = __webpack_require__(/*! commander */ "./node_modules/commander/index.js");
const options = commander
    .version('1.0.0', '-v, --version')
    .usage('[OPTIONS]...')
    .option('-d, --dir <value>', 'Specifies location of the materials.', './')
    .option('-o, --output <value>', 'Specifies location of the output.', './html')
    .option('-s, --page <value>', 'Specifies a single page to process.')
    .parse(process.argv)
    .opts();
if (!fs.existsSync(path.join(process.env.INIT_CWD, options.output))) {
    fs.mkdirSync(path.join(process.env.INIT_CWD, options.output));
}
const classMappingsData = fs.readFileSync(path.join(process.env.INIT_CWD, options.dir, 'class-mappings.properties'), 'utf8');
const classMappings = new properties_1.default(classMappingsData);
const plantainSubstitutions = JSON.parse(fs.readFileSync(path.join(process.env.INIT_CWD, options.dir, 'plantain-substitutions.json'), 'utf8'));
function processDirectory(dir, suffix, baseTemplate) {
    fs.readdir(path.join(process.env.INIT_CWD, options.dir, dir), function (err, files) {
        if (err) {
            return console.log('Unable to scan directory: ' + err);
        }
        files.forEach(function (file) {
            if (options.page && file !== options.page) {
                return;
            }
            Store_1.default.clear();
            console.log('processing ' + file);
            const substitutions = plantainSubstitutions[file] || {};
            const dom = (0, parser_1.parse)(fs.readFileSync(path.join(process.env.INIT_CWD, options.dir, dir, file), 'utf8'));
            const renderingEngine = new RenderingEngine_1.default(file, classMappings, substitutions, options.dir);
            const body = renderingEngine.renderElement(dom.root);
            const mainTemplate = fs.readFileSync(path.join(process.env.INIT_CWD, options.dir, baseTemplate), 'utf8');
            try {
                const html = new freemarker_1.TemplateEngine().render(mainTemplate, {
                    body: body,
                    title: dom.root.attributes.title,
                    authenticated: false
                });
                fs.writeFileSync(path.join(process.env.INIT_CWD, options.output, file.replaceAll(suffix, ".html")), (0, html_format_1.default)(html));
            }
            catch (err) {
                throw new FreemarkerError_1.FreemarkerError(`Error processing ftl template 'main.ftl'`, err);
            }
        });
    });
}
processDirectory('pages', ".page.xml", "main.ftl");
processDirectory('emails', ".email.xml", "email.ftl");


/***/ }),

/***/ "./lib/parser.ts":
/*!***********************!*\
  !*** ./lib/parser.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.deepCopyNode = exports.descapeString = exports.escapeString = exports.serializeNodes = exports.serializeNode = exports.serializeDocument = exports.throwError = exports.parse = exports.Text = exports.Element = exports.isEmpty = exports.isText = exports.isElement = exports.Document = void 0;
const StringBuffer_1 = __webpack_require__(/*! ./utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const isWhitespace_1 = __webpack_require__(/*! ./utilities/isWhitespace */ "./lib/utilities/isWhitespace.ts");
const isAlphabetic_1 = __webpack_require__(/*! ./utilities/isAlphabetic */ "./lib/utilities/isAlphabetic.ts");
const isAlphanumeric_1 = __webpack_require__(/*! ./utilities/isAlphanumeric */ "./lib/utilities/isAlphanumeric.ts");
class Document {
    constructor(processing, root) {
        this.processing = processing;
        this.root = root;
    }
}
exports.Document = Document;
function isElement(subject) {
    return subject.name !== undefined;
}
exports.isElement = isElement;
function isText(subject) {
    return subject.text !== undefined;
}
exports.isText = isText;
function isEmpty(nodes) {
    if (nodes.length === 0) {
        return true;
    }
    if (nodes.length === 1) {
        const first = nodes[0];
        if (first instanceof Text) {
            if (first.text.trim().length === 0) {
                return true;
            }
        }
    }
    return false;
}
exports.isEmpty = isEmpty;
class Element {
    constructor(name, attributes, children = []) {
        this.name = '';
        this.attributes = {};
        this.children = [];
        if (name) {
            this.name = name;
        }
        if (attributes) {
            this.attributes = attributes;
        }
        if (children) {
            this.children = children;
        }
    }
}
exports.Element = Element;
class Text {
    constructor(text) {
        this.text = '';
        this.text = text;
    }
}
exports.Text = Text;
const Stage = {
    OPEN: 'OPEN',
    TAG: 'TAG',
    CLOSING_TAG: 'CLOSING_TAG',
    CLOSING_TAG_OPEN: 'CLOSING_TAG_OPEN',
    PROCESSING_TAG: 'PROCESSING_TAG',
    PROCESSING_TAG_NAME: 'PROCESSING_TAG_NAME',
    PROCESSING_TAG_OPEN: 'PROCESSING_TAG_OPEN',
    PROCESSING_TAG_ATTRIBUTE_NAME: 'PROCESSING_TAG_ATTRIBUTE_NAME',
    PROCESSING_TAG_ATTRIBUTE_EQUALS: 'PROCESSING_TAG_ATTRIBUTE_EQUALS',
    PROCESSING_TAG_ATTRIBUTE_VALUE: 'PROCESSING_TAG_ATTRIBUTE_VALUE',
    PROCESSING_TAG_CLOSING: 'PROCESSING_TAG_CLOSING',
    ELEMENT_NAME: 'ELEMENT_NAME',
    ELEMENT_OPEN: 'ELEMENT_OPEN',
    ELEMENT_ATTRIBUTE_NAME: 'ELEMENT_ATTRIBUTE_NAME',
    ELEMENT_ATTRIBUTE_EQUALS: 'ELEMENT_ATTRIBUTE_EQUALS',
    ELEMENT_ATTRIBUTE_VALUE: 'ELEMENT_ATTRIBUTE_VALUE',
    ELEMENT_CONTENT: 'ELEMENT_CONTENT',
    ELEMENT_AUTO_CLOSING: 'ELEMENT_AUTO_CLOSING',
    COMMENT: 'COMMENT',
};
function parse(xml) {
    const reader = new StringBuffer_1.StringBuffer(xml);
    let attributeName = undefined;
    let processing = {};
    let processingTagName = undefined;
    let processingAttributes = {};
    let stack = [];
    let current = undefined;
    let stage = Stage.OPEN;
    let writer = new StringBuffer_1.StringBuffer();
    let escape = false;
    while (reader.hasNext()) {
        let character = reader.next();
        let c = character.getString();
        if (c.charCodeAt(0) === 10) {
            continue;
        }
        if (stage === Stage.OPEN) {
            if (c === '<') {
                stage = Stage.TAG;
            }
            else {
                writer.append(c);
            }
        }
        else if (stage === Stage.COMMENT) {
            if (c === '>') {
                stage = Stage.ELEMENT_CONTENT;
            }
            else {
                //do nothing
            }
        }
        else if (stage === Stage.TAG) {
            if (c === '/') {
                stage = Stage.CLOSING_TAG;
            }
            else if (c === '?') {
                stage = Stage.PROCESSING_TAG;
            }
            else if (c === '!') {
                stage = Stage.COMMENT;
            }
            else if ((0, isWhitespace_1.isWhitespace)(c)) {
            }
            else if ((0, isAlphabetic_1.isAlphabetic)(c)) {
                const child = new Element();
                if (current) {
                    current.children.push(child);
                }
                current = child;
                stack.push(current);
                stage = Stage.ELEMENT_NAME;
                writer.append(c);
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.PROCESSING_TAG) {
            if ((0, isAlphabetic_1.isAlphabetic)(c)) {
                stage = Stage.PROCESSING_TAG_NAME;
                writer.append(c);
            }
            else if ((0, isWhitespace_1.isWhitespace)(c)) {
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.PROCESSING_TAG_NAME) {
            if ((0, isWhitespace_1.isWhitespace)(c)) {
                stage = Stage.PROCESSING_TAG_OPEN;
                processingTagName = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                processingAttributes = {};
            }
            else if ((0, isAlphanumeric_1.isAlphanumeric)(c)) {
                writer.append(c);
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.PROCESSING_TAG_OPEN) {
            if ((0, isWhitespace_1.isWhitespace)(c)) {
            }
            else if ((0, isAlphabetic_1.isAlphabetic)(c)) {
                stage = Stage.PROCESSING_TAG_ATTRIBUTE_NAME;
                writer.append(c);
            }
            else if (c === '?') {
                stage = Stage.PROCESSING_TAG_CLOSING;
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.PROCESSING_TAG_ATTRIBUTE_NAME) {
            if ((0, isWhitespace_1.isWhitespace)(c)) {
                throwError(c, character.getRow(), character.getColumn());
            }
            else if (c === '=') {
                attributeName = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                stage = Stage.PROCESSING_TAG_ATTRIBUTE_EQUALS;
            }
            else if ((0, isAlphanumeric_1.isAlphanumeric)(c)) {
                writer.append(c);
            }
        }
        else if (stage === Stage.PROCESSING_TAG_ATTRIBUTE_EQUALS) {
            if ((0, isWhitespace_1.isWhitespace)(c)) {
            }
            else if (c === '"') {
                stage = Stage.PROCESSING_TAG_ATTRIBUTE_VALUE;
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.PROCESSING_TAG_ATTRIBUTE_VALUE) {
            if (!escape && c === '\\') {
                escape = true;
            }
            else if (!escape && c === '"') {
                processingAttributes[attributeName] = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                stage = Stage.PROCESSING_TAG_OPEN;
            }
            else {
                writer.append(c);
                escape = false;
            }
        }
        else if (stage === Stage.PROCESSING_TAG_CLOSING) {
            if (c === '>') {
                processing[processingTagName] = processingAttributes;
                stage = Stage.OPEN;
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.ELEMENT_NAME) {
            if (c === '/') {
                current.name = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                stage = Stage.ELEMENT_AUTO_CLOSING;
            }
            else if (c === '>') {
                current.name = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                stage = Stage.ELEMENT_CONTENT;
            }
            else if ((0, isWhitespace_1.isWhitespace)(c)) {
                current.name = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                stage = Stage.ELEMENT_OPEN;
            }
            else {
                writer.append(c);
            }
        }
        else if (stage === Stage.ELEMENT_OPEN) {
            if ((0, isWhitespace_1.isWhitespace)(c)) {
            }
            else if (c === '>') {
                stage = Stage.ELEMENT_CONTENT;
            }
            else if (c === '/') {
                stage = Stage.ELEMENT_AUTO_CLOSING;
            }
            else if ((0, isAlphabetic_1.isAlphabetic)(c)) {
                writer.append(c);
                stage = Stage.ELEMENT_ATTRIBUTE_NAME;
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.ELEMENT_ATTRIBUTE_NAME) {
            if ((0, isWhitespace_1.isWhitespace)(c)) {
                throwError(c, character.getRow(), character.getColumn());
            }
            else if (c === '=') {
                attributeName = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                stage = Stage.ELEMENT_ATTRIBUTE_EQUALS;
            }
            else if ((0, isAlphanumeric_1.isAlphanumeric)(c)) {
                writer.append(c);
            }
        }
        else if (stage === Stage.ELEMENT_ATTRIBUTE_EQUALS) {
            if ((0, isWhitespace_1.isWhitespace)(c)) {
            }
            else if (c === '"') {
                stage = Stage.ELEMENT_ATTRIBUTE_VALUE;
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.ELEMENT_ATTRIBUTE_VALUE) {
            if (!escape && c === '\\') {
                escape = true;
            }
            else if (!escape && c === '"') {
                current.attributes[attributeName] = descapeString(writer.toString());
                writer = new StringBuffer_1.StringBuffer();
                stage = Stage.ELEMENT_OPEN;
            }
            else {
                escape = false;
                writer.append(c);
            }
        }
        else if (stage === Stage.ELEMENT_CONTENT) {
            if (c === '<') {
                const text = writer.toString();
                if (text.length !== 0) {
                    if (current.children.length > 0 && isText(current.children[current.children.length - 1])) {
                        //this only happens if we have a comment.  We need to merge the current context into the previous text.
                        const text = current.children[current.children.length - 1];
                        text.text = text.text + descapeString(writer.toString());
                    }
                    else {
                        current.children.push(new Text(descapeString(writer.toString())));
                    }
                }
                writer = new StringBuffer_1.StringBuffer();
                stage = Stage.TAG;
            }
            else {
                writer.append(c);
            }
        }
        else if (stage === Stage.CLOSING_TAG) {
            if (c === '>') {
                const closeTag = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                if (closeTag !== current.name) {
                    throw new Error(`close tag (${closeTag}) doesn't match start tag ${current.name}`);
                }
                stack.pop();
                if (stack.length !== 0) {
                    current = stack[stack.length - 1];
                }
                stage = Stage.ELEMENT_CONTENT;
            }
            else if ((0, isWhitespace_1.isWhitespace)(c)) {
                stage = Stage.CLOSING_TAG_OPEN;
            }
            else {
                writer.append(c);
            }
        }
        else if (stage === Stage.CLOSING_TAG_OPEN) {
            if (c === '>') {
                const closeTag = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                if (closeTag !== current.name) {
                    throw new Error(`close tag (${closeTag}) doesn't match start tag ${current.name}`);
                }
                stack.pop();
                if (stack.length !== 0) {
                    current = stack[stack.length - 1];
                }
                stage = Stage.ELEMENT_CONTENT;
            }
            else if ((0, isWhitespace_1.isWhitespace)(c)) {
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.ELEMENT_AUTO_CLOSING) {
            if (c === '>') {
                stack.pop();
                if (stack.length !== 0) {
                    current = stack[stack.length - 1];
                }
                stage = Stage.ELEMENT_CONTENT;
            }
            else if ((0, isWhitespace_1.isWhitespace)(c)) {
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
    }
    if (current === undefined) {
        current = new Text(writer.toString());
    }
    return new Document(processing, current);
}
exports.parse = parse;
function throwError(c, row, column) {
    throw new Error(`Character (${c}) not allowed at position ${row}:${column}.`);
}
exports.throwError = throwError;
function serializeDocument(document) {
    const processing = Object.entries(document.processing)
        .map(([key, value]) => {
        const writer = new StringBuffer_1.StringBuffer();
        writer.append("<?");
        writer.append(key);
        writer.append(" ");
        writer.append(Object.entries(value)
            .map(([key2, value2]) => `${key2}="${escapeString(value2)}"`).join(' '));
        writer.append(" ");
        writer.append("?>");
        return writer.toString();
    }).join(' ');
    return `${processing}${serializeNode(document.root)}`;
}
exports.serializeDocument = serializeDocument;
function serializeNode(node) {
    if (node instanceof Text) {
        return escapeString(node.text);
    }
    else if (node instanceof Element) {
        const attributes = Object.entries(node.attributes).map(([key, value]) => {
            return `${key}="${escapeString(value)}"`;
        }).join(' ');
        const body = serializeNodes(node.children);
        if (body === '') {
            return `<${node.name} ${attributes}/>`;
        }
        return `<${node.name} ${attributes}>${body}</${node.name}>`;
    }
    else {
        throw new Error("Should never happen");
    }
}
exports.serializeNode = serializeNode;
function serializeNodes(nodes) {
    return nodes.map(node => serializeNode(node)).join('');
}
exports.serializeNodes = serializeNodes;
function escapeString(input) {
    return input
        .replace(/&/g, '&amp;')
        .replace(/"/g, '&quot;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/'/g, '&apos;');
}
exports.escapeString = escapeString;
function descapeString(input) {
    return input
        .replace(/&amp;/g, '&')
        .replace(/&quot;/g, '"')
        .replace(/&lt;/g, '<')
        .replace(/&gt;/g, '>')
        .replace(/&apos;/g, '\'');
}
exports.descapeString = descapeString;
function deepCopyNode(node) {
    function copy(node) {
        if (isElement(node)) {
            const children = node.children.map(copy);
            return new Element(node.name, Object.assign({}, node.attributes), children);
        }
        else if (isText(node)) {
            return new Text(node.text);
        }
        else {
            throw new Error("Never happen");
        }
    }
    return copy(node);
}
exports.deepCopyNode = deepCopyNode;
// export = {
//     deepCopyNode,
//     escapeString,
//     serializeNodes,
//     serializeDocument,
//     parse,
//     Text,
//     Element: Element,
//     Document,
//     isAlphabetic,
//     isAlphanumeric,
//     isWhitespace,
//     isEmpty,
//     StringBuffer
// };
//
// console.log(module)


/***/ }),

/***/ "./lib/properties.ts":
/*!***************************!*\
  !*** ./lib/properties.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class Properties {
    constructor(data) {
        this.data = {};
        data.split("\n").forEach(line => {
            const index = line.indexOf("=");
            if (index > -1) {
                const key = line.substring(0, index);
                this.data[key] = line.substring(index + 1);
            }
        });
    }
    get(key) {
        return this.data[key];
    }
}
exports["default"] = Properties;


/***/ }),

/***/ "./lib/store/Message.ts":
/*!******************************!*\
  !*** ./lib/store/Message.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class Message {
    constructor(id, dateTime, wipId, kaseId, wizardId, workflowId, group, queue, principal, sessionId, timeStamp) {
        this.id = id;
        this.dateTime = dateTime;
        this.wipId = wipId;
        this.kaseId = kaseId;
        this.wizardId = wizardId;
        this.workflowId = workflowId;
        this.group = group;
        this.queue = queue;
        this.principal = principal;
        this.sessionId = sessionId;
        this.timeStamp = timeStamp;
    }
    getId() {
        return this.id;
    }
    getDateTime() {
        return this.dateTime;
    }
    getWipId() {
        return this.wipId;
    }
    getKaseId() {
        return this.kaseId;
    }
    getWizardId() {
        return this.wizardId;
    }
    getWorkflowId() {
        return this.workflowId;
    }
    getGroup() {
        return this.group;
    }
    getQueue() {
        return this.queue;
    }
    getPrincipal() {
        return this.principal;
    }
    getSessionId() {
        return this.sessionId;
    }
    getTimeStamp() {
        return this.timeStamp;
    }
}
exports["default"] = Message;


/***/ }),

/***/ "./lib/store/Page.ts":
/*!***************************!*\
  !*** ./lib/store/Page.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class Page {
    constructor(name, version, group, title, description) {
        this.name = name;
        this.version = version;
        this.group = group;
        this.title = title;
        this.description = description;
    }
    getName() {
        return this.name;
    }
    getVersion() {
        return this.version;
    }
    getGroup() {
        return this.group;
    }
    getTitle() {
        return this.title;
    }
    getDescription() {
        return this.description;
    }
}
exports["default"] = Page;


/***/ }),

/***/ "./lib/store/Queue.ts":
/*!****************************!*\
  !*** ./lib/store/Queue.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class Queue {
    constructor(name, title, description) {
        this.name = name;
        this.title = title;
        this.description = description;
    }
    getName() {
        return this.name;
    }
    getTitle() {
        return this.title;
    }
    getDescription() {
        return this.description;
    }
}
exports["default"] = Queue;


/***/ }),

/***/ "./lib/store/Store.ts":
/*!****************************!*\
  !*** ./lib/store/Store.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class Store {
    constructor(users = [], groups = [], messages = [], wizards = [], workflows = [], pages = [], queues = []) {
        this.users = users;
        this.groups = groups;
        this.messages = messages;
        this.wizards = wizards;
        this.workflows = workflows;
        this.pages = pages;
        this.queues = queues;
        this.testContext = false;
    }
    getUsers() {
        return this.users;
    }
    getGroups() {
        return this.groups;
    }
    getMessages() {
        return this.messages;
    }
    getWizards() {
        return this.wizards;
    }
    getWorkflows() {
        return this.workflows;
    }
    getPages() {
        return this.pages;
    }
    getQueues() {
        return this.queues;
    }
    setTestContext() {
        this.testContext = true;
    }
    isTestContext() {
        return this.testContext;
    }
    clear() {
        this.users = [];
        this.groups = [];
        this.messages = [];
        this.wizards = [];
        this.workflows = [];
        this.pages = [];
        this.testContext = false;
    }
    addUser(user) {
        this.users.push(user);
    }
    addMessage(message) {
        this.messages.push(message);
    }
    addWizard(wizard) {
        this.wizards.push(wizard);
    }
    addWorkflow(workflow) {
        this.workflows.push(workflow);
    }
    addPage(page) {
        this.pages.push(page);
    }
    addQueue(queue) {
        this.queues.push(queue);
    }
}
const INSTANCE = new Store();
exports["default"] = INSTANCE;
/*
 private final HashMap<DocumentGroupId, PageView> pages = new HashMap<>();
    private final HashMap<DocumentId, Wizard> wizards = new HashMap<>();
    private final HashMap<DocumentGroupId, Workflow> workflows = new HashMap<>();
    private final HashMap<MessageId, Message> messages = new HashMap<>();
    private final HashMap<String, Kase> kases = new HashMap<>();
    private final HashMap<UUID, WizardInProgress> wips = new HashMap<>();
 */ 


/***/ }),

/***/ "./lib/store/User.ts":
/*!***************************!*\
  !*** ./lib/store/User.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class User {
    constructor(username, title, firstName, lastName, email, contactNumber, dateOfBirth, timezone, groups, userData) {
        this.username = username;
        this.title = title;
        this.firstName = firstName;
        this.lastName = lastName;
        this.email = email;
        this.contactNumber = contactNumber;
        this.dateOfBirth = dateOfBirth;
        this.timezone = timezone;
        this.groups = groups;
        this.userData = userData;
    }
    getUsername() {
        return this.username;
    }
    getTitle() {
        return this.title;
    }
    getFirstName() {
        return this.firstName;
    }
    getLastName() {
        return this.lastName;
    }
    getEmail() {
        return this.email;
    }
    getContactNumber() {
        return this.contactNumber;
    }
    getDateOfBirth() {
        return this.dateOfBirth;
    }
    getTimezone() {
        return this.timezone;
    }
    getGroups() {
        return this.groups;
    }
    getUserData() {
        return this.username;
    }
}
exports["default"] = User;


/***/ }),

/***/ "./lib/store/Wizard.ts":
/*!*****************************!*\
  !*** ./lib/store/Wizard.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class Wizard {
    constructor(name, version, title, description, active, released) {
        this.name = name;
        this.version = version;
        this.title = title;
        this.description = description;
        this.active = active;
        this.released = released;
    }
    getName() {
        return this.name;
    }
    getVersion() {
        return this.version;
    }
    getTitle() {
        return this.title;
    }
    getDescription() {
        return this.description;
    }
    getActive() {
        return this.active;
    }
    getReleased() {
        return this.released;
    }
}
exports["default"] = Wizard;


/***/ }),

/***/ "./lib/store/Workflow.ts":
/*!*******************************!*\
  !*** ./lib/store/Workflow.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class Workflow {
    constructor(name, version, group, title, description) {
        this.name = name;
        this.version = version;
        this.group = group;
        this.title = title;
        this.description = description;
    }
    getName() {
        return this.name;
    }
    getVersion() {
        return this.version;
    }
    getGroup() {
        return this.group;
    }
    getTitle() {
        return this.title;
    }
    getDescription() {
        return this.description;
    }
}
exports["default"] = Workflow;


/***/ }),

/***/ "./lib/text-style-support.ts":
/*!***********************************!*\
  !*** ./lib/text-style-support.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.textStyleSupport = void 0;
const StringBuffer_1 = __webpack_require__(/*! ./utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
function textStyleSupport(data, classManager, attributes, classMappings) {
    const styles = {};
    if (attributes.textAlign) {
        styles['text-align'] = attributes.textAign.toLowerCase();
    }
    if (attributes.fontSize) {
        styles['font-size'] = attributes.fontSize;
    }
    if (attributes.textDecoration) {
        styles['text-decoration'] = attributes.textDecoration.toLowerCase();
    }
    if (attributes.fontStyle) {
        styles['font-style'] = attributes.fontStyle.toLowerCase();
    }
    if (attributes.fontWeight) {
        styles['font-weight'] = attributes.fontWeight.toLowerCase();
    }
    if (attributes.font) {
        styles['font'] = classMappings.get('font-' + attributes.font.toLowerCase().replaceAll("_", "-"));
    }
    if (attributes.fontFlavour) {
        classManager.append(attributes.fontFlavour, 'text-', '');
    }
    if (attributes.backgroundFlavour) {
        classManager.append(attributes.backgroundFlavour, 'bg-', '');
    }
    const buffer = new StringBuffer_1.StringBuffer();
    for (const [key, value] of Object.entries(styles)) {
        buffer.append(`${key}: ${value};`);
    }
    data.textualStyles = buffer.toString();
}
exports.textStyleSupport = textStyleSupport;


/***/ }),

/***/ "./lib/utilities/StringBuffer.ts":
/*!***************************************!*\
  !*** ./lib/utilities/StringBuffer.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Character = exports.StringBuffer = void 0;
class StringBuffer {
    constructor(input = undefined, row = 0, column = 0) {
        this.buffer = input ? input.split('') : [];
        this.index = 0;
        this.column = column;
        this.row = row;
    }
    append(c) {
        this.buffer.push(c);
    }
    endsWith(c) {
        if (c.length > this.buffer.length) {
            return false;
        }
        return this.buffer.slice(this.buffer.length - c.length).join("") === c;
    }
    next() {
        const result = this.buffer[this.index];
        const column = this.column;
        const row = this.row;
        this.index++;
        if (result === '\n') {
            this.row++;
            this.column = 0;
        }
        else {
            this.column++;
        }
        return new Character(result, column, row);
    }
    hasNext() {
        return this.index < this.buffer.length;
    }
    toString() {
        return this.buffer.join('');
    }
    getColumn() {
        return this.column;
    }
    getRow() {
        return this.row;
    }
}
exports.StringBuffer = StringBuffer;
class Character {
    constructor(c, column, row) {
        this.c = c;
        this.column = column;
        this.row = row;
    }
    getString() {
        return this.c;
    }
    getColumn() {
        return this.column;
    }
    getRow() {
        return this.row;
    }
}
exports.Character = Character;


/***/ }),

/***/ "./lib/utilities/generate-id.ts":
/*!**************************************!*\
  !*** ./lib/utilities/generate-id.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const CHARACTERS = "abcdefghiklmnopqrstuvwxwzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("");
function generateId() {
    const result = [];
    for (let i = 0; i < 10; i++) {
        result.push(CHARACTERS[Math.floor(Math.random() * 100) % CHARACTERS.length]);
    }
    return result.join("");
}
exports["default"] = generateId;


/***/ }),

/***/ "./lib/utilities/isAlphabetic.ts":
/*!***************************************!*\
  !*** ./lib/utilities/isAlphabetic.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isAlphabetic = void 0;
function isAlphabetic(c) {
    return /^[a-zA-Z]+$/i.test(c);
}
exports.isAlphabetic = isAlphabetic;


/***/ }),

/***/ "./lib/utilities/isAlphanumeric.ts":
/*!*****************************************!*\
  !*** ./lib/utilities/isAlphanumeric.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isAlphanumeric = void 0;
function isAlphanumeric(c) {
    return /^[a-zA-Z0-9]+$/i.test(c);
}
exports.isAlphanumeric = isAlphanumeric;


/***/ }),

/***/ "./lib/utilities/isDate.ts":
/*!*********************************!*\
  !*** ./lib/utilities/isDate.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isDate = void 0;
function isDate(obj) {
    if (obj === null)
        return false;
    if (typeof obj !== "object")
        return false;
    return obj.constructor === Date;
}
exports.isDate = isDate;


/***/ }),

/***/ "./lib/utilities/isHash.ts":
/*!*********************************!*\
  !*** ./lib/utilities/isHash.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isHash = void 0;
function isHash(obj) {
    if (obj === null)
        return false;
    if (Array.isArray(obj))
        return false;
    return typeof obj === "object";
}
exports.isHash = isHash;


/***/ }),

/***/ "./lib/utilities/isNumeric.ts":
/*!************************************!*\
  !*** ./lib/utilities/isNumeric.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isNumeric = void 0;
function isNumeric(c) {
    return /^[0-9]+$/i.test(c);
}
exports.isNumeric = isNumeric;


/***/ }),

/***/ "./lib/utilities/isWhitespace.ts":
/*!***************************************!*\
  !*** ./lib/utilities/isWhitespace.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isWhitespace = void 0;
function isWhitespace(c) {
    return /\s/.test(c);
}
exports.isWhitespace = isWhitespace;


/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "./node_modules/commander/index.js":
/*!*****************************************!*\
  !*** ./node_modules/commander/index.js ***!
  \*****************************************/
/***/ ((module, exports, __webpack_require__) => {

/**
 * Module dependencies.
 */

const EventEmitter = (__webpack_require__(/*! events */ "events").EventEmitter);
const childProcess = __webpack_require__(/*! child_process */ "child_process");
const path = __webpack_require__(/*! path */ "path");
const fs = __webpack_require__(/*! fs */ "fs");

// @ts-check

// Although this is a class, methods are static in style to allow override using subclass or just functions.
class Help {
  constructor() {
    this.helpWidth = undefined;
    this.sortSubcommands = false;
    this.sortOptions = false;
  }

  /**
   * Get an array of the visible subcommands. Includes a placeholder for the implicit help command, if there is one.
   *
   * @param {Command} cmd
   * @returns {Command[]}
   */

  visibleCommands(cmd) {
    const visibleCommands = cmd.commands.filter(cmd => !cmd._hidden);
    if (cmd._hasImplicitHelpCommand()) {
      // Create a command matching the implicit help command.
      const args = cmd._helpCommandnameAndArgs.split(/ +/);
      const helpCommand = cmd.createCommand(args.shift())
        .helpOption(false);
      helpCommand.description(cmd._helpCommandDescription);
      helpCommand._parseExpectedArgs(args);
      visibleCommands.push(helpCommand);
    }
    if (this.sortSubcommands) {
      visibleCommands.sort((a, b) => {
        return a.name().localeCompare(b.name());
      });
    }
    return visibleCommands;
  }

  /**
   * Get an array of the visible options. Includes a placeholder for the implicit help option, if there is one.
   *
   * @param {Command} cmd
   * @returns {Option[]}
   */

  visibleOptions(cmd) {
    const visibleOptions = cmd.options.filter((option) => !option.hidden);
    // Implicit help
    const showShortHelpFlag = cmd._hasHelpOption && cmd._helpShortFlag && !cmd._findOption(cmd._helpShortFlag);
    const showLongHelpFlag = cmd._hasHelpOption && !cmd._findOption(cmd._helpLongFlag);
    if (showShortHelpFlag || showLongHelpFlag) {
      let helpOption;
      if (!showShortHelpFlag) {
        helpOption = cmd.createOption(cmd._helpLongFlag, cmd._helpDescription);
      } else if (!showLongHelpFlag) {
        helpOption = cmd.createOption(cmd._helpShortFlag, cmd._helpDescription);
      } else {
        helpOption = cmd.createOption(cmd._helpFlags, cmd._helpDescription);
      }
      visibleOptions.push(helpOption);
    }
    if (this.sortOptions) {
      const getSortKey = (option) => {
        // WYSIWYG for order displayed in help with short before long, no special handling for negated.
        return option.short ? option.short.replace(/^-/, '') : option.long.replace(/^--/, '');
      };
      visibleOptions.sort((a, b) => {
        return getSortKey(a).localeCompare(getSortKey(b));
      });
    }
    return visibleOptions;
  }

  /**
   * Get an array of the arguments which have descriptions.
   *
   * @param {Command} cmd
   * @returns {{ term: string, description:string }[]}
   */

  visibleArguments(cmd) {
    if (cmd._argsDescription && cmd._args.length) {
      return cmd._args.map((argument) => {
        return { term: argument.name, description: cmd._argsDescription[argument.name] || '' };
      }, 0);
    }
    return [];
  }

  /**
   * Get the command term to show in the list of subcommands.
   *
   * @param {Command} cmd
   * @returns {string}
   */

  subcommandTerm(cmd) {
    // Legacy. Ignores custom usage string, and nested commands.
    const args = cmd._args.map(arg => humanReadableArgName(arg)).join(' ');
    return cmd._name +
      (cmd._aliases[0] ? '|' + cmd._aliases[0] : '') +
      (cmd.options.length ? ' [options]' : '') + // simplistic check for non-help option
      (args ? ' ' + args : '');
  }

  /**
   * Get the option term to show in the list of options.
   *
   * @param {Option} option
   * @returns {string}
   */

  optionTerm(option) {
    return option.flags;
  }

  /**
   * Get the longest command term length.
   *
   * @param {Command} cmd
   * @param {Help} helper
   * @returns {number}
   */

  longestSubcommandTermLength(cmd, helper) {
    return helper.visibleCommands(cmd).reduce((max, command) => {
      return Math.max(max, helper.subcommandTerm(command).length);
    }, 0);
  };

  /**
   * Get the longest option term length.
   *
   * @param {Command} cmd
   * @param {Help} helper
   * @returns {number}
   */

  longestOptionTermLength(cmd, helper) {
    return helper.visibleOptions(cmd).reduce((max, option) => {
      return Math.max(max, helper.optionTerm(option).length);
    }, 0);
  };

  /**
   * Get the longest argument term length.
   *
   * @param {Command} cmd
   * @param {Help} helper
   * @returns {number}
   */

  longestArgumentTermLength(cmd, helper) {
    return helper.visibleArguments(cmd).reduce((max, argument) => {
      return Math.max(max, argument.term.length);
    }, 0);
  };

  /**
   * Get the command usage to be displayed at the top of the built-in help.
   *
   * @param {Command} cmd
   * @returns {string}
   */

  commandUsage(cmd) {
    // Usage
    let cmdName = cmd._name;
    if (cmd._aliases[0]) {
      cmdName = cmdName + '|' + cmd._aliases[0];
    }
    let parentCmdNames = '';
    for (let parentCmd = cmd.parent; parentCmd; parentCmd = parentCmd.parent) {
      parentCmdNames = parentCmd.name() + ' ' + parentCmdNames;
    }
    return parentCmdNames + cmdName + ' ' + cmd.usage();
  }

  /**
   * Get the description for the command.
   *
   * @param {Command} cmd
   * @returns {string}
   */

  commandDescription(cmd) {
    // @ts-ignore: overloaded return type
    return cmd.description();
  }

  /**
   * Get the command description to show in the list of subcommands.
   *
   * @param {Command} cmd
   * @returns {string}
   */

  subcommandDescription(cmd) {
    // @ts-ignore: overloaded return type
    return cmd.description();
  }

  /**
   * Get the option description to show in the list of options.
   *
   * @param {Option} option
   * @return {string}
   */

  optionDescription(option) {
    if (option.negate) {
      return option.description;
    }
    const extraInfo = [];
    if (option.argChoices) {
      extraInfo.push(
        // use stringify to match the display of the default value
        `choices: ${option.argChoices.map((choice) => JSON.stringify(choice)).join(', ')}`);
    }
    if (option.defaultValue !== undefined) {
      extraInfo.push(`default: ${option.defaultValueDescription || JSON.stringify(option.defaultValue)}`);
    }
    if (extraInfo.length > 0) {
      return `${option.description} (${extraInfo.join(', ')})`;
    }
    return option.description;
  };

  /**
   * Generate the built-in help text.
   *
   * @param {Command} cmd
   * @param {Help} helper
   * @returns {string}
   */

  formatHelp(cmd, helper) {
    const termWidth = helper.padWidth(cmd, helper);
    const helpWidth = helper.helpWidth || 80;
    const itemIndentWidth = 2;
    const itemSeparatorWidth = 2; // between term and description
    function formatItem(term, description) {
      if (description) {
        const fullText = `${term.padEnd(termWidth + itemSeparatorWidth)}${description}`;
        return helper.wrap(fullText, helpWidth - itemIndentWidth, termWidth + itemSeparatorWidth);
      }
      return term;
    };
    function formatList(textArray) {
      return textArray.join('\n').replace(/^/gm, ' '.repeat(itemIndentWidth));
    }

    // Usage
    let output = [`Usage: ${helper.commandUsage(cmd)}`, ''];

    // Description
    const commandDescription = helper.commandDescription(cmd);
    if (commandDescription.length > 0) {
      output = output.concat([commandDescription, '']);
    }

    // Arguments
    const argumentList = helper.visibleArguments(cmd).map((argument) => {
      return formatItem(argument.term, argument.description);
    });
    if (argumentList.length > 0) {
      output = output.concat(['Arguments:', formatList(argumentList), '']);
    }

    // Options
    const optionList = helper.visibleOptions(cmd).map((option) => {
      return formatItem(helper.optionTerm(option), helper.optionDescription(option));
    });
    if (optionList.length > 0) {
      output = output.concat(['Options:', formatList(optionList), '']);
    }

    // Commands
    const commandList = helper.visibleCommands(cmd).map((cmd) => {
      return formatItem(helper.subcommandTerm(cmd), helper.subcommandDescription(cmd));
    });
    if (commandList.length > 0) {
      output = output.concat(['Commands:', formatList(commandList), '']);
    }

    return output.join('\n');
  }

  /**
   * Calculate the pad width from the maximum term length.
   *
   * @param {Command} cmd
   * @param {Help} helper
   * @returns {number}
   */

  padWidth(cmd, helper) {
    return Math.max(
      helper.longestOptionTermLength(cmd, helper),
      helper.longestSubcommandTermLength(cmd, helper),
      helper.longestArgumentTermLength(cmd, helper)
    );
  };

  /**
   * Wrap the given string to width characters per line, with lines after the first indented.
   * Do not wrap if insufficient room for wrapping (minColumnWidth), or string is manually formatted.
   *
   * @param {string} str
   * @param {number} width
   * @param {number} indent
   * @param {number} [minColumnWidth=40]
   * @return {string}
   *
   */

  wrap(str, width, indent, minColumnWidth = 40) {
    // Detect manually wrapped and indented strings by searching for line breaks
    // followed by multiple spaces/tabs.
    if (str.match(/[\n]\s+/)) return str;
    // Do not wrap if not enough room for a wrapped column of text (as could end up with a word per line).
    const columnWidth = width - indent;
    if (columnWidth < minColumnWidth) return str;

    const leadingStr = str.substr(0, indent);
    const columnText = str.substr(indent);

    const indentString = ' '.repeat(indent);
    const regex = new RegExp('.{1,' + (columnWidth - 1) + '}([\\s\u200B]|$)|[^\\s\u200B]+?([\\s\u200B]|$)', 'g');
    const lines = columnText.match(regex) || [];
    return leadingStr + lines.map((line, i) => {
      if (line.slice(-1) === '\n') {
        line = line.slice(0, line.length - 1);
      }
      return ((i > 0) ? indentString : '') + line.trimRight();
    }).join('\n');
  }
}

class Option {
  /**
   * Initialize a new `Option` with the given `flags` and `description`.
   *
   * @param {string} flags
   * @param {string} [description]
   */

  constructor(flags, description) {
    this.flags = flags;
    this.description = description || '';

    this.required = flags.includes('<'); // A value must be supplied when the option is specified.
    this.optional = flags.includes('['); // A value is optional when the option is specified.
    // variadic test ignores <value,...> et al which might be used to describe custom splitting of single argument
    this.variadic = /\w\.\.\.[>\]]$/.test(flags); // The option can take multiple values.
    this.mandatory = false; // The option must have a value after parsing, which usually means it must be specified on command line.
    const optionFlags = _parseOptionFlags(flags);
    this.short = optionFlags.shortFlag;
    this.long = optionFlags.longFlag;
    this.negate = false;
    if (this.long) {
      this.negate = this.long.startsWith('--no-');
    }
    this.defaultValue = undefined;
    this.defaultValueDescription = undefined;
    this.parseArg = undefined;
    this.hidden = false;
    this.argChoices = undefined;
  }

  /**
   * Set the default value, and optionally supply the description to be displayed in the help.
   *
   * @param {any} value
   * @param {string} [description]
   * @return {Option}
   */

  default(value, description) {
    this.defaultValue = value;
    this.defaultValueDescription = description;
    return this;
  };

  /**
   * Set the custom handler for processing CLI option arguments into option values.
   *
   * @param {Function} [fn]
   * @return {Option}
   */

  argParser(fn) {
    this.parseArg = fn;
    return this;
  };

  /**
   * Whether the option is mandatory and must have a value after parsing.
   *
   * @param {boolean} [mandatory=true]
   * @return {Option}
   */

  makeOptionMandatory(mandatory = true) {
    this.mandatory = !!mandatory;
    return this;
  };

  /**
   * Hide option in help.
   *
   * @param {boolean} [hide=true]
   * @return {Option}
   */

  hideHelp(hide = true) {
    this.hidden = !!hide;
    return this;
  };

  /**
   * @api private
   */

  _concatValue(value, previous) {
    if (previous === this.defaultValue || !Array.isArray(previous)) {
      return [value];
    }

    return previous.concat(value);
  }

  /**
   * Only allow option value to be one of choices.
   *
   * @param {string[]} values
   * @return {Option}
   */

  choices(values) {
    this.argChoices = values;
    this.parseArg = (arg, previous) => {
      if (!values.includes(arg)) {
        throw new InvalidOptionArgumentError(`Allowed choices are ${values.join(', ')}.`);
      }
      if (this.variadic) {
        return this._concatValue(arg, previous);
      }
      return arg;
    };
    return this;
  };

  /**
   * Return option name.
   *
   * @return {string}
   */

  name() {
    if (this.long) {
      return this.long.replace(/^--/, '');
    }
    return this.short.replace(/^-/, '');
  };

  /**
   * Return option name, in a camelcase format that can be used
   * as a object attribute key.
   *
   * @return {string}
   * @api private
   */

  attributeName() {
    return camelcase(this.name().replace(/^no-/, ''));
  };

  /**
   * Check if `arg` matches the short or long flag.
   *
   * @param {string} arg
   * @return {boolean}
   * @api private
   */

  is(arg) {
    return this.short === arg || this.long === arg;
  };
}

/**
 * CommanderError class
 * @class
 */
class CommanderError extends Error {
  /**
   * Constructs the CommanderError class
   * @param {number} exitCode suggested exit code which could be used with process.exit
   * @param {string} code an id string representing the error
   * @param {string} message human-readable description of the error
   * @constructor
   */
  constructor(exitCode, code, message) {
    super(message);
    // properly capture stack trace in Node.js
    Error.captureStackTrace(this, this.constructor);
    this.name = this.constructor.name;
    this.code = code;
    this.exitCode = exitCode;
    this.nestedError = undefined;
  }
}

/**
 * InvalidOptionArgumentError class
 * @class
 */
class InvalidOptionArgumentError extends CommanderError {
  /**
   * Constructs the InvalidOptionArgumentError class
   * @param {string} [message] explanation of why argument is invalid
   * @constructor
   */
  constructor(message) {
    super(1, 'commander.invalidOptionArgument', message);
    // properly capture stack trace in Node.js
    Error.captureStackTrace(this, this.constructor);
    this.name = this.constructor.name;
  }
}

class Command extends EventEmitter {
  /**
   * Initialize a new `Command`.
   *
   * @param {string} [name]
   */

  constructor(name) {
    super();
    this.commands = [];
    this.options = [];
    this.parent = null;
    this._allowUnknownOption = false;
    this._allowExcessArguments = true;
    this._args = [];
    this.rawArgs = null;
    this._scriptPath = null;
    this._name = name || '';
    this._optionValues = {};
    this._storeOptionsAsProperties = false;
    this._actionResults = [];
    this._actionHandler = null;
    this._executableHandler = false;
    this._executableFile = null; // custom name for executable
    this._defaultCommandName = null;
    this._exitCallback = null;
    this._aliases = [];
    this._combineFlagAndOptionalValue = true;
    this._description = '';
    this._argsDescription = undefined;
    this._enablePositionalOptions = false;
    this._passThroughOptions = false;

    // see .configureOutput() for docs
    this._outputConfiguration = {
      writeOut: (str) => process.stdout.write(str),
      writeErr: (str) => process.stderr.write(str),
      getOutHelpWidth: () => process.stdout.isTTY ? process.stdout.columns : undefined,
      getErrHelpWidth: () => process.stderr.isTTY ? process.stderr.columns : undefined,
      outputError: (str, write) => write(str)
    };

    this._hidden = false;
    this._hasHelpOption = true;
    this._helpFlags = '-h, --help';
    this._helpDescription = 'display help for command';
    this._helpShortFlag = '-h';
    this._helpLongFlag = '--help';
    this._addImplicitHelpCommand = undefined; // Deliberately undefined, not decided whether true or false
    this._helpCommandName = 'help';
    this._helpCommandnameAndArgs = 'help [command]';
    this._helpCommandDescription = 'display help for command';
    this._helpConfiguration = {};
  }

  /**
   * Define a command.
   *
   * There are two styles of command: pay attention to where to put the description.
   *
   * Examples:
   *
   *      // Command implemented using action handler (description is supplied separately to `.command`)
   *      program
   *        .command('clone <source> [destination]')
   *        .description('clone a repository into a newly created directory')
   *        .action((source, destination) => {
   *          console.log('clone command called');
   *        });
   *
   *      // Command implemented using separate executable file (description is second parameter to `.command`)
   *      program
   *        .command('start <service>', 'start named service')
   *        .command('stop [service]', 'stop named service, or all if no name supplied');
   *
   * @param {string} nameAndArgs - command name and arguments, args are `<required>` or `[optional]` and last may also be `variadic...`
   * @param {Object|string} [actionOptsOrExecDesc] - configuration options (for action), or description (for executable)
   * @param {Object} [execOpts] - configuration options (for executable)
   * @return {Command} returns new command for action handler, or `this` for executable command
   */

  command(nameAndArgs, actionOptsOrExecDesc, execOpts) {
    let desc = actionOptsOrExecDesc;
    let opts = execOpts;
    if (typeof desc === 'object' && desc !== null) {
      opts = desc;
      desc = null;
    }
    opts = opts || {};
    const args = nameAndArgs.split(/ +/);
    const cmd = this.createCommand(args.shift());

    if (desc) {
      cmd.description(desc);
      cmd._executableHandler = true;
    }
    if (opts.isDefault) this._defaultCommandName = cmd._name;

    cmd._outputConfiguration = this._outputConfiguration;

    cmd._hidden = !!(opts.noHelp || opts.hidden); // noHelp is deprecated old name for hidden
    cmd._hasHelpOption = this._hasHelpOption;
    cmd._helpFlags = this._helpFlags;
    cmd._helpDescription = this._helpDescription;
    cmd._helpShortFlag = this._helpShortFlag;
    cmd._helpLongFlag = this._helpLongFlag;
    cmd._helpCommandName = this._helpCommandName;
    cmd._helpCommandnameAndArgs = this._helpCommandnameAndArgs;
    cmd._helpCommandDescription = this._helpCommandDescription;
    cmd._helpConfiguration = this._helpConfiguration;
    cmd._exitCallback = this._exitCallback;
    cmd._storeOptionsAsProperties = this._storeOptionsAsProperties;
    cmd._combineFlagAndOptionalValue = this._combineFlagAndOptionalValue;
    cmd._allowExcessArguments = this._allowExcessArguments;
    cmd._enablePositionalOptions = this._enablePositionalOptions;

    cmd._executableFile = opts.executableFile || null; // Custom name for executable file, set missing to null to match constructor
    this.commands.push(cmd);
    cmd._parseExpectedArgs(args);
    cmd.parent = this;

    if (desc) return this;
    return cmd;
  };

  /**
   * Factory routine to create a new unattached command.
   *
   * See .command() for creating an attached subcommand, which uses this routine to
   * create the command. You can override createCommand to customise subcommands.
   *
   * @param {string} [name]
   * @return {Command} new command
   */

  createCommand(name) {
    return new Command(name);
  };

  /**
   * You can customise the help with a subclass of Help by overriding createHelp,
   * or by overriding Help properties using configureHelp().
   *
   * @return {Help}
   */

  createHelp() {
    return Object.assign(new Help(), this.configureHelp());
  };

  /**
   * You can customise the help by overriding Help properties using configureHelp(),
   * or with a subclass of Help by overriding createHelp().
   *
   * @param {Object} [configuration] - configuration options
   * @return {Command|Object} `this` command for chaining, or stored configuration
   */

  configureHelp(configuration) {
    if (configuration === undefined) return this._helpConfiguration;

    this._helpConfiguration = configuration;
    return this;
  }

  /**
   * The default output goes to stdout and stderr. You can customise this for special
   * applications. You can also customise the display of errors by overriding outputError.
   *
   * The configuration properties are all functions:
   *
   *    // functions to change where being written, stdout and stderr
   *    writeOut(str)
   *    writeErr(str)
   *    // matching functions to specify width for wrapping help
   *    getOutHelpWidth()
   *    getErrHelpWidth()
   *    // functions based on what is being written out
   *    outputError(str, write) // used for displaying errors, and not used for displaying help
   *
   * @param {Object} [configuration] - configuration options
   * @return {Command|Object} `this` command for chaining, or stored configuration
   */

  configureOutput(configuration) {
    if (configuration === undefined) return this._outputConfiguration;

    Object.assign(this._outputConfiguration, configuration);
    return this;
  }

  /**
   * Add a prepared subcommand.
   *
   * See .command() for creating an attached subcommand which inherits settings from its parent.
   *
   * @param {Command} cmd - new subcommand
   * @param {Object} [opts] - configuration options
   * @return {Command} `this` command for chaining
   */

  addCommand(cmd, opts) {
    if (!cmd._name) throw new Error('Command passed to .addCommand() must have a name');

    // To keep things simple, block automatic name generation for deeply nested executables.
    // Fail fast and detect when adding rather than later when parsing.
    function checkExplicitNames(commandArray) {
      commandArray.forEach((cmd) => {
        if (cmd._executableHandler && !cmd._executableFile) {
          throw new Error(`Must specify executableFile for deeply nested executable: ${cmd.name()}`);
        }
        checkExplicitNames(cmd.commands);
      });
    }
    checkExplicitNames(cmd.commands);

    opts = opts || {};
    if (opts.isDefault) this._defaultCommandName = cmd._name;
    if (opts.noHelp || opts.hidden) cmd._hidden = true; // modifying passed command due to existing implementation

    this.commands.push(cmd);
    cmd.parent = this;
    return this;
  };

  /**
   * Define argument syntax for the command.
   */

  arguments(desc) {
    return this._parseExpectedArgs(desc.split(/ +/));
  };

  /**
   * Override default decision whether to add implicit help command.
   *
   *    addHelpCommand() // force on
   *    addHelpCommand(false); // force off
   *    addHelpCommand('help [cmd]', 'display help for [cmd]'); // force on with custom details
   *
   * @return {Command} `this` command for chaining
   */

  addHelpCommand(enableOrNameAndArgs, description) {
    if (enableOrNameAndArgs === false) {
      this._addImplicitHelpCommand = false;
    } else {
      this._addImplicitHelpCommand = true;
      if (typeof enableOrNameAndArgs === 'string') {
        this._helpCommandName = enableOrNameAndArgs.split(' ')[0];
        this._helpCommandnameAndArgs = enableOrNameAndArgs;
      }
      this._helpCommandDescription = description || this._helpCommandDescription;
    }
    return this;
  };

  /**
   * @return {boolean}
   * @api private
   */

  _hasImplicitHelpCommand() {
    if (this._addImplicitHelpCommand === undefined) {
      return this.commands.length && !this._actionHandler && !this._findCommand('help');
    }
    return this._addImplicitHelpCommand;
  };

  /**
   * Parse expected `args`.
   *
   * For example `["[type]"]` becomes `[{ required: false, name: 'type' }]`.
   *
   * @param {Array} args
   * @return {Command} `this` command for chaining
   * @api private
   */

  _parseExpectedArgs(args) {
    if (!args.length) return;
    args.forEach((arg) => {
      const argDetails = {
        required: false,
        name: '',
        variadic: false
      };

      switch (arg[0]) {
        case '<':
          argDetails.required = true;
          argDetails.name = arg.slice(1, -1);
          break;
        case '[':
          argDetails.name = arg.slice(1, -1);
          break;
      }

      if (argDetails.name.length > 3 && argDetails.name.slice(-3) === '...') {
        argDetails.variadic = true;
        argDetails.name = argDetails.name.slice(0, -3);
      }
      if (argDetails.name) {
        this._args.push(argDetails);
      }
    });
    this._args.forEach((arg, i) => {
      if (arg.variadic && i < this._args.length - 1) {
        throw new Error(`only the last argument can be variadic '${arg.name}'`);
      }
    });
    return this;
  };

  /**
   * Register callback to use as replacement for calling process.exit.
   *
   * @param {Function} [fn] optional callback which will be passed a CommanderError, defaults to throwing
   * @return {Command} `this` command for chaining
   */

  exitOverride(fn) {
    if (fn) {
      this._exitCallback = fn;
    } else {
      this._exitCallback = (err) => {
        if (err.code !== 'commander.executeSubCommandAsync') {
          throw err;
        } else {
          // Async callback from spawn events, not useful to throw.
        }
      };
    }
    return this;
  };

  /**
   * Call process.exit, and _exitCallback if defined.
   *
   * @param {number} exitCode exit code for using with process.exit
   * @param {string} code an id string representing the error
   * @param {string} message human-readable description of the error
   * @return never
   * @api private
   */

  _exit(exitCode, code, message) {
    if (this._exitCallback) {
      this._exitCallback(new CommanderError(exitCode, code, message));
      // Expecting this line is not reached.
    }
    process.exit(exitCode);
  };

  /**
   * Register callback `fn` for the command.
   *
   * Examples:
   *
   *      program
   *        .command('help')
   *        .description('display verbose help')
   *        .action(function() {
   *           // output help here
   *        });
   *
   * @param {Function} fn
   * @return {Command} `this` command for chaining
   */

  action(fn) {
    const listener = (args) => {
      // The .action callback takes an extra parameter which is the command or options.
      const expectedArgsCount = this._args.length;
      const actionArgs = args.slice(0, expectedArgsCount);
      if (this._storeOptionsAsProperties) {
        actionArgs[expectedArgsCount] = this; // backwards compatible "options"
      } else {
        actionArgs[expectedArgsCount] = this.opts();
      }
      actionArgs.push(this);

      const actionResult = fn.apply(this, actionArgs);
      // Remember result in case it is async. Assume parseAsync getting called on root.
      let rootCommand = this;
      while (rootCommand.parent) {
        rootCommand = rootCommand.parent;
      }
      rootCommand._actionResults.push(actionResult);
    };
    this._actionHandler = listener;
    return this;
  };

  /**
   * Factory routine to create a new unattached option.
   *
   * See .option() for creating an attached option, which uses this routine to
   * create the option. You can override createOption to return a custom option.
   *
   * @param {string} flags
   * @param {string} [description]
   * @return {Option} new option
   */

  createOption(flags, description) {
    return new Option(flags, description);
  };

  /**
   * Add an option.
   *
   * @param {Option} option
   * @return {Command} `this` command for chaining
   */
  addOption(option) {
    const oname = option.name();
    const name = option.attributeName();

    let defaultValue = option.defaultValue;

    // preassign default value for --no-*, [optional], <required>, or plain flag if boolean value
    if (option.negate || option.optional || option.required || typeof defaultValue === 'boolean') {
      // when --no-foo we make sure default is true, unless a --foo option is already defined
      if (option.negate) {
        const positiveLongFlag = option.long.replace(/^--no-/, '--');
        defaultValue = this._findOption(positiveLongFlag) ? this._getOptionValue(name) : true;
      }
      // preassign only if we have a default
      if (defaultValue !== undefined) {
        this._setOptionValue(name, defaultValue);
      }
    }

    // register the option
    this.options.push(option);

    // when it's passed assign the value
    // and conditionally invoke the callback
    this.on('option:' + oname, (val) => {
      const oldValue = this._getOptionValue(name);

      // custom processing
      if (val !== null && option.parseArg) {
        try {
          val = option.parseArg(val, oldValue === undefined ? defaultValue : oldValue);
        } catch (err) {
          if (err.code === 'commander.invalidOptionArgument') {
            const message = `error: option '${option.flags}' argument '${val}' is invalid. ${err.message}`;
            this._displayError(err.exitCode, err.code, message);
          }
          throw err;
        }
      } else if (val !== null && option.variadic) {
        val = option._concatValue(val, oldValue);
      }

      // unassigned or boolean value
      if (typeof oldValue === 'boolean' || typeof oldValue === 'undefined') {
        // if no value, negate false, and we have a default, then use it!
        if (val == null) {
          this._setOptionValue(name, option.negate
            ? false
            : defaultValue || true);
        } else {
          this._setOptionValue(name, val);
        }
      } else if (val !== null) {
        // reassign
        this._setOptionValue(name, option.negate ? false : val);
      }
    });

    return this;
  }

  /**
   * Internal implementation shared by .option() and .requiredOption()
   *
   * @api private
   */
  _optionEx(config, flags, description, fn, defaultValue) {
    const option = this.createOption(flags, description);
    option.makeOptionMandatory(!!config.mandatory);
    if (typeof fn === 'function') {
      option.default(defaultValue).argParser(fn);
    } else if (fn instanceof RegExp) {
      // deprecated
      const regex = fn;
      fn = (val, def) => {
        const m = regex.exec(val);
        return m ? m[0] : def;
      };
      option.default(defaultValue).argParser(fn);
    } else {
      option.default(fn);
    }

    return this.addOption(option);
  }

  /**
   * Define option with `flags`, `description` and optional
   * coercion `fn`.
   *
   * The `flags` string contains the short and/or long flags,
   * separated by comma, a pipe or space. The following are all valid
   * all will output this way when `--help` is used.
   *
   *    "-p, --pepper"
   *    "-p|--pepper"
   *    "-p --pepper"
   *
   * Examples:
   *
   *     // simple boolean defaulting to undefined
   *     program.option('-p, --pepper', 'add pepper');
   *
   *     program.pepper
   *     // => undefined
   *
   *     --pepper
   *     program.pepper
   *     // => true
   *
   *     // simple boolean defaulting to true (unless non-negated option is also defined)
   *     program.option('-C, --no-cheese', 'remove cheese');
   *
   *     program.cheese
   *     // => true
   *
   *     --no-cheese
   *     program.cheese
   *     // => false
   *
   *     // required argument
   *     program.option('-C, --chdir <path>', 'change the working directory');
   *
   *     --chdir /tmp
   *     program.chdir
   *     // => "/tmp"
   *
   *     // optional argument
   *     program.option('-c, --cheese [type]', 'add cheese [marble]');
   *
   * @param {string} flags
   * @param {string} [description]
   * @param {Function|*} [fn] - custom option processing function or default value
   * @param {*} [defaultValue]
   * @return {Command} `this` command for chaining
   */

  option(flags, description, fn, defaultValue) {
    return this._optionEx({}, flags, description, fn, defaultValue);
  };

  /**
  * Add a required option which must have a value after parsing. This usually means
  * the option must be specified on the command line. (Otherwise the same as .option().)
  *
  * The `flags` string contains the short and/or long flags, separated by comma, a pipe or space.
  *
  * @param {string} flags
  * @param {string} [description]
  * @param {Function|*} [fn] - custom option processing function or default value
  * @param {*} [defaultValue]
  * @return {Command} `this` command for chaining
  */

  requiredOption(flags, description, fn, defaultValue) {
    return this._optionEx({ mandatory: true }, flags, description, fn, defaultValue);
  };

  /**
   * Alter parsing of short flags with optional values.
   *
   * Examples:
   *
   *    // for `.option('-f,--flag [value]'):
   *    .combineFlagAndOptionalValue(true)  // `-f80` is treated like `--flag=80`, this is the default behaviour
   *    .combineFlagAndOptionalValue(false) // `-fb` is treated like `-f -b`
   *
   * @param {Boolean} [combine=true] - if `true` or omitted, an optional value can be specified directly after the flag.
   */
  combineFlagAndOptionalValue(combine = true) {
    this._combineFlagAndOptionalValue = !!combine;
    return this;
  };

  /**
   * Allow unknown options on the command line.
   *
   * @param {Boolean} [allowUnknown=true] - if `true` or omitted, no error will be thrown
   * for unknown options.
   */
  allowUnknownOption(allowUnknown = true) {
    this._allowUnknownOption = !!allowUnknown;
    return this;
  };

  /**
   * Allow excess command-arguments on the command line. Pass false to make excess arguments an error.
   *
   * @param {Boolean} [allowExcess=true] - if `true` or omitted, no error will be thrown
   * for excess arguments.
   */
  allowExcessArguments(allowExcess = true) {
    this._allowExcessArguments = !!allowExcess;
    return this;
  };

  /**
   * Enable positional options. Positional means global options are specified before subcommands which lets
   * subcommands reuse the same option names, and also enables subcommands to turn on passThroughOptions.
   * The default behaviour is non-positional and global options may appear anywhere on the command line.
   *
   * @param {Boolean} [positional=true]
   */
  enablePositionalOptions(positional = true) {
    this._enablePositionalOptions = !!positional;
    return this;
  };

  /**
   * Pass through options that come after command-arguments rather than treat them as command-options,
   * so actual command-options come before command-arguments. Turning this on for a subcommand requires
   * positional options to have been enabled on the program (parent commands).
   * The default behaviour is non-positional and options may appear before or after command-arguments.
   *
   * @param {Boolean} [passThrough=true]
   * for unknown options.
   */
  passThroughOptions(passThrough = true) {
    this._passThroughOptions = !!passThrough;
    if (!!this.parent && passThrough && !this.parent._enablePositionalOptions) {
      throw new Error('passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)');
    }
    return this;
  };

  /**
    * Whether to store option values as properties on command object,
    * or store separately (specify false). In both cases the option values can be accessed using .opts().
    *
    * @param {boolean} [storeAsProperties=true]
    * @return {Command} `this` command for chaining
    */

  storeOptionsAsProperties(storeAsProperties = true) {
    this._storeOptionsAsProperties = !!storeAsProperties;
    if (this.options.length) {
      throw new Error('call .storeOptionsAsProperties() before adding options');
    }
    return this;
  };

  /**
   * Store option value
   *
   * @param {string} key
   * @param {Object} value
   * @api private
   */

  _setOptionValue(key, value) {
    if (this._storeOptionsAsProperties) {
      this[key] = value;
    } else {
      this._optionValues[key] = value;
    }
  };

  /**
   * Retrieve option value
   *
   * @param {string} key
   * @return {Object} value
   * @api private
   */

  _getOptionValue(key) {
    if (this._storeOptionsAsProperties) {
      return this[key];
    }
    return this._optionValues[key];
  };

  /**
   * Parse `argv`, setting options and invoking commands when defined.
   *
   * The default expectation is that the arguments are from node and have the application as argv[0]
   * and the script being run in argv[1], with user parameters after that.
   *
   * Examples:
   *
   *      program.parse(process.argv);
   *      program.parse(); // implicitly use process.argv and auto-detect node vs electron conventions
   *      program.parse(my-args, { from: 'user' }); // just user supplied arguments, nothing special about argv[0]
   *
   * @param {string[]} [argv] - optional, defaults to process.argv
   * @param {Object} [parseOptions] - optionally specify style of options with from: node/user/electron
   * @param {string} [parseOptions.from] - where the args are from: 'node', 'user', 'electron'
   * @return {Command} `this` command for chaining
   */

  parse(argv, parseOptions) {
    if (argv !== undefined && !Array.isArray(argv)) {
      throw new Error('first parameter to parse must be array or undefined');
    }
    parseOptions = parseOptions || {};

    // Default to using process.argv
    if (argv === undefined) {
      argv = process.argv;
      // @ts-ignore: unknown property
      if (process.versions && process.versions.electron) {
        parseOptions.from = 'electron';
      }
    }
    this.rawArgs = argv.slice();

    // make it a little easier for callers by supporting various argv conventions
    let userArgs;
    switch (parseOptions.from) {
      case undefined:
      case 'node':
        this._scriptPath = argv[1];
        userArgs = argv.slice(2);
        break;
      case 'electron':
        // @ts-ignore: unknown property
        if (process.defaultApp) {
          this._scriptPath = argv[1];
          userArgs = argv.slice(2);
        } else {
          userArgs = argv.slice(1);
        }
        break;
      case 'user':
        userArgs = argv.slice(0);
        break;
      default:
        throw new Error(`unexpected parse option { from: '${parseOptions.from}' }`);
    }
    if (!this._scriptPath && __webpack_require__.c[__webpack_require__.s]) {
      this._scriptPath = __webpack_require__.c[__webpack_require__.s].filename;
    }

    // Guess name, used in usage in help.
    this._name = this._name || (this._scriptPath && path.basename(this._scriptPath, path.extname(this._scriptPath)));

    // Let's go!
    this._parseCommand([], userArgs);

    return this;
  };

  /**
   * Parse `argv`, setting options and invoking commands when defined.
   *
   * Use parseAsync instead of parse if any of your action handlers are async. Returns a Promise.
   *
   * The default expectation is that the arguments are from node and have the application as argv[0]
   * and the script being run in argv[1], with user parameters after that.
   *
   * Examples:
   *
   *      program.parseAsync(process.argv);
   *      program.parseAsync(); // implicitly use process.argv and auto-detect node vs electron conventions
   *      program.parseAsync(my-args, { from: 'user' }); // just user supplied arguments, nothing special about argv[0]
   *
   * @param {string[]} [argv]
   * @param {Object} [parseOptions]
   * @param {string} parseOptions.from - where the args are from: 'node', 'user', 'electron'
   * @return {Promise}
   */

  parseAsync(argv, parseOptions) {
    this.parse(argv, parseOptions);
    return Promise.all(this._actionResults).then(() => this);
  };

  /**
   * Execute a sub-command executable.
   *
   * @api private
   */

  _executeSubCommand(subcommand, args) {
    args = args.slice();
    let launchWithNode = false; // Use node for source targets so do not need to get permissions correct, and on Windows.
    const sourceExt = ['.js', '.ts', '.tsx', '.mjs', '.cjs'];

    // Not checking for help first. Unlikely to have mandatory and executable, and can't robustly test for help flags in external command.
    this._checkForMissingMandatoryOptions();

    // Want the entry script as the reference for command name and directory for searching for other files.
    let scriptPath = this._scriptPath;
    // Fallback in case not set, due to how Command created or called.
    if (!scriptPath && __webpack_require__.c[__webpack_require__.s]) {
      scriptPath = __webpack_require__.c[__webpack_require__.s].filename;
    }

    let baseDir;
    try {
      const resolvedLink = fs.realpathSync(scriptPath);
      baseDir = path.dirname(resolvedLink);
    } catch (e) {
      baseDir = '.'; // dummy, probably not going to find executable!
    }

    // name of the subcommand, like `pm-install`
    let bin = path.basename(scriptPath, path.extname(scriptPath)) + '-' + subcommand._name;
    if (subcommand._executableFile) {
      bin = subcommand._executableFile;
    }

    const localBin = path.join(baseDir, bin);
    if (fs.existsSync(localBin)) {
      // prefer local `./<bin>` to bin in the $PATH
      bin = localBin;
    } else {
      // Look for source files.
      sourceExt.forEach((ext) => {
        if (fs.existsSync(`${localBin}${ext}`)) {
          bin = `${localBin}${ext}`;
        }
      });
    }
    launchWithNode = sourceExt.includes(path.extname(bin));

    let proc;
    if (process.platform !== 'win32') {
      if (launchWithNode) {
        args.unshift(bin);
        // add executable arguments to spawn
        args = incrementNodeInspectorPort(process.execArgv).concat(args);

        proc = childProcess.spawn(process.argv[0], args, { stdio: 'inherit' });
      } else {
        proc = childProcess.spawn(bin, args, { stdio: 'inherit' });
      }
    } else {
      args.unshift(bin);
      // add executable arguments to spawn
      args = incrementNodeInspectorPort(process.execArgv).concat(args);
      proc = childProcess.spawn(process.execPath, args, { stdio: 'inherit' });
    }

    const signals = ['SIGUSR1', 'SIGUSR2', 'SIGTERM', 'SIGINT', 'SIGHUP'];
    signals.forEach((signal) => {
      // @ts-ignore
      process.on(signal, () => {
        if (proc.killed === false && proc.exitCode === null) {
          proc.kill(signal);
        }
      });
    });

    // By default terminate process when spawned process terminates.
    // Suppressing the exit if exitCallback defined is a bit messy and of limited use, but does allow process to stay running!
    const exitCallback = this._exitCallback;
    if (!exitCallback) {
      proc.on('close', process.exit.bind(process));
    } else {
      proc.on('close', () => {
        exitCallback(new CommanderError(process.exitCode || 0, 'commander.executeSubCommandAsync', '(close)'));
      });
    }
    proc.on('error', (err) => {
      // @ts-ignore
      if (err.code === 'ENOENT') {
        const executableMissing = `'${bin}' does not exist
 - if '${subcommand._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name`;
        throw new Error(executableMissing);
      // @ts-ignore
      } else if (err.code === 'EACCES') {
        throw new Error(`'${bin}' not executable`);
      }
      if (!exitCallback) {
        process.exit(1);
      } else {
        const wrappedError = new CommanderError(1, 'commander.executeSubCommandAsync', '(error)');
        wrappedError.nestedError = err;
        exitCallback(wrappedError);
      }
    });

    // Store the reference to the child process
    this.runningCommand = proc;
  };

  /**
   * @api private
   */
  _dispatchSubcommand(commandName, operands, unknown) {
    const subCommand = this._findCommand(commandName);
    if (!subCommand) this.help({ error: true });

    if (subCommand._executableHandler) {
      this._executeSubCommand(subCommand, operands.concat(unknown));
    } else {
      subCommand._parseCommand(operands, unknown);
    }
  };

  /**
   * Process arguments in context of this command.
   *
   * @api private
   */

  _parseCommand(operands, unknown) {
    const parsed = this.parseOptions(unknown);
    operands = operands.concat(parsed.operands);
    unknown = parsed.unknown;
    this.args = operands.concat(unknown);

    if (operands && this._findCommand(operands[0])) {
      this._dispatchSubcommand(operands[0], operands.slice(1), unknown);
    } else if (this._hasImplicitHelpCommand() && operands[0] === this._helpCommandName) {
      if (operands.length === 1) {
        this.help();
      } else {
        this._dispatchSubcommand(operands[1], [], [this._helpLongFlag]);
      }
    } else if (this._defaultCommandName) {
      outputHelpIfRequested(this, unknown); // Run the help for default command from parent rather than passing to default command
      this._dispatchSubcommand(this._defaultCommandName, operands, unknown);
    } else {
      if (this.commands.length && this.args.length === 0 && !this._actionHandler && !this._defaultCommandName) {
        // probably missing subcommand and no handler, user needs help
        this.help({ error: true });
      }

      outputHelpIfRequested(this, parsed.unknown);
      this._checkForMissingMandatoryOptions();

      // We do not always call this check to avoid masking a "better" error, like unknown command.
      const checkForUnknownOptions = () => {
        if (parsed.unknown.length > 0) {
          this.unknownOption(parsed.unknown[0]);
        }
      };

      const commandEvent = `command:${this.name()}`;
      if (this._actionHandler) {
        checkForUnknownOptions();
        // Check expected arguments and collect variadic together.
        const args = this.args.slice();
        this._args.forEach((arg, i) => {
          if (arg.required && args[i] == null) {
            this.missingArgument(arg.name);
          } else if (arg.variadic) {
            args[i] = args.splice(i);
            args.length = Math.min(i + 1, args.length);
          }
        });
        if (args.length > this._args.length) {
          this._excessArguments(args);
        }

        this._actionHandler(args);
        if (this.parent) this.parent.emit(commandEvent, operands, unknown); // legacy
      } else if (this.parent && this.parent.listenerCount(commandEvent)) {
        checkForUnknownOptions();
        this.parent.emit(commandEvent, operands, unknown); // legacy
      } else if (operands.length) {
        if (this._findCommand('*')) { // legacy default command
          this._dispatchSubcommand('*', operands, unknown);
        } else if (this.listenerCount('command:*')) {
          // skip option check, emit event for possible misspelling suggestion
          this.emit('command:*', operands, unknown);
        } else if (this.commands.length) {
          this.unknownCommand();
        } else {
          checkForUnknownOptions();
        }
      } else if (this.commands.length) {
        // This command has subcommands and nothing hooked up at this level, so display help.
        this.help({ error: true });
      } else {
        checkForUnknownOptions();
        // fall through for caller to handle after calling .parse()
      }
    }
  };

  /**
   * Find matching command.
   *
   * @api private
   */
  _findCommand(name) {
    if (!name) return undefined;
    return this.commands.find(cmd => cmd._name === name || cmd._aliases.includes(name));
  };

  /**
   * Return an option matching `arg` if any.
   *
   * @param {string} arg
   * @return {Option}
   * @api private
   */

  _findOption(arg) {
    return this.options.find(option => option.is(arg));
  };

  /**
   * Display an error message if a mandatory option does not have a value.
   * Lazy calling after checking for help flags from leaf subcommand.
   *
   * @api private
   */

  _checkForMissingMandatoryOptions() {
    // Walk up hierarchy so can call in subcommand after checking for displaying help.
    for (let cmd = this; cmd; cmd = cmd.parent) {
      cmd.options.forEach((anOption) => {
        if (anOption.mandatory && (cmd._getOptionValue(anOption.attributeName()) === undefined)) {
          cmd.missingMandatoryOptionValue(anOption);
        }
      });
    }
  };

  /**
   * Parse options from `argv` removing known options,
   * and return argv split into operands and unknown arguments.
   *
   * Examples:
   *
   *    argv => operands, unknown
   *    --known kkk op => [op], []
   *    op --known kkk => [op], []
   *    sub --unknown uuu op => [sub], [--unknown uuu op]
   *    sub -- --unknown uuu op => [sub --unknown uuu op], []
   *
   * @param {String[]} argv
   * @return {{operands: String[], unknown: String[]}}
   */

  parseOptions(argv) {
    const operands = []; // operands, not options or values
    const unknown = []; // first unknown option and remaining unknown args
    let dest = operands;
    const args = argv.slice();

    function maybeOption(arg) {
      return arg.length > 1 && arg[0] === '-';
    }

    // parse options
    let activeVariadicOption = null;
    while (args.length) {
      const arg = args.shift();

      // literal
      if (arg === '--') {
        if (dest === unknown) dest.push(arg);
        dest.push(...args);
        break;
      }

      if (activeVariadicOption && !maybeOption(arg)) {
        this.emit(`option:${activeVariadicOption.name()}`, arg);
        continue;
      }
      activeVariadicOption = null;

      if (maybeOption(arg)) {
        const option = this._findOption(arg);
        // recognised option, call listener to assign value with possible custom processing
        if (option) {
          if (option.required) {
            const value = args.shift();
            if (value === undefined) this.optionMissingArgument(option);
            this.emit(`option:${option.name()}`, value);
          } else if (option.optional) {
            let value = null;
            // historical behaviour is optional value is following arg unless an option
            if (args.length > 0 && !maybeOption(args[0])) {
              value = args.shift();
            }
            this.emit(`option:${option.name()}`, value);
          } else { // boolean flag
            this.emit(`option:${option.name()}`);
          }
          activeVariadicOption = option.variadic ? option : null;
          continue;
        }
      }

      // Look for combo options following single dash, eat first one if known.
      if (arg.length > 2 && arg[0] === '-' && arg[1] !== '-') {
        const option = this._findOption(`-${arg[1]}`);
        if (option) {
          if (option.required || (option.optional && this._combineFlagAndOptionalValue)) {
            // option with value following in same argument
            this.emit(`option:${option.name()}`, arg.slice(2));
          } else {
            // boolean option, emit and put back remainder of arg for further processing
            this.emit(`option:${option.name()}`);
            args.unshift(`-${arg.slice(2)}`);
          }
          continue;
        }
      }

      // Look for known long flag with value, like --foo=bar
      if (/^--[^=]+=/.test(arg)) {
        const index = arg.indexOf('=');
        const option = this._findOption(arg.slice(0, index));
        if (option && (option.required || option.optional)) {
          this.emit(`option:${option.name()}`, arg.slice(index + 1));
          continue;
        }
      }

      // Not a recognised option by this command.
      // Might be a command-argument, or subcommand option, or unknown option, or help command or option.

      // An unknown option means further arguments also classified as unknown so can be reprocessed by subcommands.
      if (maybeOption(arg)) {
        dest = unknown;
      }

      // If using positionalOptions, stop processing our options at subcommand.
      if ((this._enablePositionalOptions || this._passThroughOptions) && operands.length === 0 && unknown.length === 0) {
        if (this._findCommand(arg)) {
          operands.push(arg);
          if (args.length > 0) unknown.push(...args);
          break;
        } else if (arg === this._helpCommandName && this._hasImplicitHelpCommand()) {
          operands.push(arg);
          if (args.length > 0) operands.push(...args);
          break;
        } else if (this._defaultCommandName) {
          unknown.push(arg);
          if (args.length > 0) unknown.push(...args);
          break;
        }
      }

      // If using passThroughOptions, stop processing options at first command-argument.
      if (this._passThroughOptions) {
        dest.push(arg);
        if (args.length > 0) dest.push(...args);
        break;
      }

      // add arg
      dest.push(arg);
    }

    return { operands, unknown };
  };

  /**
   * Return an object containing options as key-value pairs
   *
   * @return {Object}
   */
  opts() {
    if (this._storeOptionsAsProperties) {
      // Preserve original behaviour so backwards compatible when still using properties
      const result = {};
      const len = this.options.length;

      for (let i = 0; i < len; i++) {
        const key = this.options[i].attributeName();
        result[key] = key === this._versionOptionName ? this._version : this[key];
      }
      return result;
    }

    return this._optionValues;
  };

  /**
   * Internal bottleneck for handling of parsing errors.
   *
   * @api private
   */
  _displayError(exitCode, code, message) {
    this._outputConfiguration.outputError(`${message}\n`, this._outputConfiguration.writeErr);
    this._exit(exitCode, code, message);
  }

  /**
   * Argument `name` is missing.
   *
   * @param {string} name
   * @api private
   */

  missingArgument(name) {
    const message = `error: missing required argument '${name}'`;
    this._displayError(1, 'commander.missingArgument', message);
  };

  /**
   * `Option` is missing an argument.
   *
   * @param {Option} option
   * @api private
   */

  optionMissingArgument(option) {
    const message = `error: option '${option.flags}' argument missing`;
    this._displayError(1, 'commander.optionMissingArgument', message);
  };

  /**
   * `Option` does not have a value, and is a mandatory option.
   *
   * @param {Option} option
   * @api private
   */

  missingMandatoryOptionValue(option) {
    const message = `error: required option '${option.flags}' not specified`;
    this._displayError(1, 'commander.missingMandatoryOptionValue', message);
  };

  /**
   * Unknown option `flag`.
   *
   * @param {string} flag
   * @api private
   */

  unknownOption(flag) {
    if (this._allowUnknownOption) return;
    const message = `error: unknown option '${flag}'`;
    this._displayError(1, 'commander.unknownOption', message);
  };

  /**
   * Excess arguments, more than expected.
   *
   * @param {string[]} receivedArgs
   * @api private
   */

  _excessArguments(receivedArgs) {
    if (this._allowExcessArguments) return;

    const expected = this._args.length;
    const s = (expected === 1) ? '' : 's';
    const forSubcommand = this.parent ? ` for '${this.name()}'` : '';
    const message = `error: too many arguments${forSubcommand}. Expected ${expected} argument${s} but got ${receivedArgs.length}.`;
    this._displayError(1, 'commander.excessArguments', message);
  };

  /**
   * Unknown command.
   *
   * @api private
   */

  unknownCommand() {
    const partCommands = [this.name()];
    for (let parentCmd = this.parent; parentCmd; parentCmd = parentCmd.parent) {
      partCommands.unshift(parentCmd.name());
    }
    const fullCommand = partCommands.join(' ');
    const message = `error: unknown command '${this.args[0]}'.` +
      (this._hasHelpOption ? ` See '${fullCommand} ${this._helpLongFlag}'.` : '');
    this._displayError(1, 'commander.unknownCommand', message);
  };

  /**
   * Set the program version to `str`.
   *
   * This method auto-registers the "-V, --version" flag
   * which will print the version number when passed.
   *
   * You can optionally supply the  flags and description to override the defaults.
   *
   * @param {string} str
   * @param {string} [flags]
   * @param {string} [description]
   * @return {this | string} `this` command for chaining, or version string if no arguments
   */

  version(str, flags, description) {
    if (str === undefined) return this._version;
    this._version = str;
    flags = flags || '-V, --version';
    description = description || 'output the version number';
    const versionOption = this.createOption(flags, description);
    this._versionOptionName = versionOption.attributeName();
    this.options.push(versionOption);
    this.on('option:' + versionOption.name(), () => {
      this._outputConfiguration.writeOut(`${str}\n`);
      this._exit(0, 'commander.version', str);
    });
    return this;
  };

  /**
   * Set the description to `str`.
   *
   * @param {string} [str]
   * @param {Object} [argsDescription]
   * @return {string|Command}
   */
  description(str, argsDescription) {
    if (str === undefined && argsDescription === undefined) return this._description;
    this._description = str;
    this._argsDescription = argsDescription;
    return this;
  };

  /**
   * Set an alias for the command.
   *
   * You may call more than once to add multiple aliases. Only the first alias is shown in the auto-generated help.
   *
   * @param {string} [alias]
   * @return {string|Command}
   */

  alias(alias) {
    if (alias === undefined) return this._aliases[0]; // just return first, for backwards compatibility

    let command = this;
    if (this.commands.length !== 0 && this.commands[this.commands.length - 1]._executableHandler) {
      // assume adding alias for last added executable subcommand, rather than this
      command = this.commands[this.commands.length - 1];
    }

    if (alias === command._name) throw new Error('Command alias can\'t be the same as its name');

    command._aliases.push(alias);
    return this;
  };

  /**
   * Set aliases for the command.
   *
   * Only the first alias is shown in the auto-generated help.
   *
   * @param {string[]} [aliases]
   * @return {string[]|Command}
   */

  aliases(aliases) {
    // Getter for the array of aliases is the main reason for having aliases() in addition to alias().
    if (aliases === undefined) return this._aliases;

    aliases.forEach((alias) => this.alias(alias));
    return this;
  };

  /**
   * Set / get the command usage `str`.
   *
   * @param {string} [str]
   * @return {String|Command}
   */

  usage(str) {
    if (str === undefined) {
      if (this._usage) return this._usage;

      const args = this._args.map((arg) => {
        return humanReadableArgName(arg);
      });
      return [].concat(
        (this.options.length || this._hasHelpOption ? '[options]' : []),
        (this.commands.length ? '[command]' : []),
        (this._args.length ? args : [])
      ).join(' ');
    }

    this._usage = str;
    return this;
  };

  /**
   * Get or set the name of the command
   *
   * @param {string} [str]
   * @return {string|Command}
   */

  name(str) {
    if (str === undefined) return this._name;
    this._name = str;
    return this;
  };

  /**
   * Return program help documentation.
   *
   * @param {{ error: boolean }} [contextOptions] - pass {error:true} to wrap for stderr instead of stdout
   * @return {string}
   */

  helpInformation(contextOptions) {
    const helper = this.createHelp();
    if (helper.helpWidth === undefined) {
      helper.helpWidth = (contextOptions && contextOptions.error) ? this._outputConfiguration.getErrHelpWidth() : this._outputConfiguration.getOutHelpWidth();
    }
    return helper.formatHelp(this, helper);
  };

  /**
   * @api private
   */

  _getHelpContext(contextOptions) {
    contextOptions = contextOptions || {};
    const context = { error: !!contextOptions.error };
    let write;
    if (context.error) {
      write = (arg) => this._outputConfiguration.writeErr(arg);
    } else {
      write = (arg) => this._outputConfiguration.writeOut(arg);
    }
    context.write = contextOptions.write || write;
    context.command = this;
    return context;
  }

  /**
   * Output help information for this command.
   *
   * Outputs built-in help, and custom text added using `.addHelpText()`.
   *
   * @param {{ error: boolean } | Function} [contextOptions] - pass {error:true} to write to stderr instead of stdout
   */

  outputHelp(contextOptions) {
    let deprecatedCallback;
    if (typeof contextOptions === 'function') {
      deprecatedCallback = contextOptions;
      contextOptions = undefined;
    }
    const context = this._getHelpContext(contextOptions);

    const groupListeners = [];
    let command = this;
    while (command) {
      groupListeners.push(command); // ordered from current command to root
      command = command.parent;
    }

    groupListeners.slice().reverse().forEach(command => command.emit('beforeAllHelp', context));
    this.emit('beforeHelp', context);

    let helpInformation = this.helpInformation(context);
    if (deprecatedCallback) {
      helpInformation = deprecatedCallback(helpInformation);
      if (typeof helpInformation !== 'string' && !Buffer.isBuffer(helpInformation)) {
        throw new Error('outputHelp callback must return a string or a Buffer');
      }
    }
    context.write(helpInformation);

    this.emit(this._helpLongFlag); // deprecated
    this.emit('afterHelp', context);
    groupListeners.forEach(command => command.emit('afterAllHelp', context));
  };

  /**
   * You can pass in flags and a description to override the help
   * flags and help description for your command. Pass in false to
   * disable the built-in help option.
   *
   * @param {string | boolean} [flags]
   * @param {string} [description]
   * @return {Command} `this` command for chaining
   */

  helpOption(flags, description) {
    if (typeof flags === 'boolean') {
      this._hasHelpOption = flags;
      return this;
    }
    this._helpFlags = flags || this._helpFlags;
    this._helpDescription = description || this._helpDescription;

    const helpFlags = _parseOptionFlags(this._helpFlags);
    this._helpShortFlag = helpFlags.shortFlag;
    this._helpLongFlag = helpFlags.longFlag;

    return this;
  };

  /**
   * Output help information and exit.
   *
   * Outputs built-in help, and custom text added using `.addHelpText()`.
   *
   * @param {{ error: boolean }} [contextOptions] - pass {error:true} to write to stderr instead of stdout
   */

  help(contextOptions) {
    this.outputHelp(contextOptions);
    let exitCode = process.exitCode || 0;
    if (exitCode === 0 && contextOptions && typeof contextOptions !== 'function' && contextOptions.error) {
      exitCode = 1;
    }
    // message: do not have all displayed text available so only passing placeholder.
    this._exit(exitCode, 'commander.help', '(outputHelp)');
  };

  /**
   * Add additional text to be displayed with the built-in help.
   *
   * Position is 'before' or 'after' to affect just this command,
   * and 'beforeAll' or 'afterAll' to affect this command and all its subcommands.
   *
   * @param {string} position - before or after built-in help
   * @param {string | Function} text - string to add, or a function returning a string
   * @return {Command} `this` command for chaining
   */
  addHelpText(position, text) {
    const allowedValues = ['beforeAll', 'before', 'after', 'afterAll'];
    if (!allowedValues.includes(position)) {
      throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${allowedValues.join("', '")}'`);
    }
    const helpEvent = `${position}Help`;
    this.on(helpEvent, (context) => {
      let helpStr;
      if (typeof text === 'function') {
        helpStr = text({ error: context.error, command: context.command });
      } else {
        helpStr = text;
      }
      // Ignore falsy value when nothing to output.
      if (helpStr) {
        context.write(`${helpStr}\n`);
      }
    });
    return this;
  }
};

/**
 * Expose the root command.
 */

exports = module.exports = new Command();
exports.program = exports; // More explicit access to global command.

/**
 * Expose classes
 */

exports.Command = Command;
exports.Option = Option;
exports.CommanderError = CommanderError;
exports.InvalidOptionArgumentError = InvalidOptionArgumentError;
exports.Help = Help;

/**
 * Camel-case the given `flag`
 *
 * @param {string} flag
 * @return {string}
 * @api private
 */

function camelcase(flag) {
  return flag.split('-').reduce((str, word) => {
    return str + word[0].toUpperCase() + word.slice(1);
  });
}

/**
 * Output help information if help flags specified
 *
 * @param {Command} cmd - command to output help for
 * @param {Array} args - array of options to search for help flags
 * @api private
 */

function outputHelpIfRequested(cmd, args) {
  const helpOption = cmd._hasHelpOption && args.find(arg => arg === cmd._helpLongFlag || arg === cmd._helpShortFlag);
  if (helpOption) {
    cmd.outputHelp();
    // (Do not have all displayed text available so only passing placeholder.)
    cmd._exit(0, 'commander.helpDisplayed', '(outputHelp)');
  }
}

/**
 * Takes an argument and returns its human readable equivalent for help usage.
 *
 * @param {Object} arg
 * @return {string}
 * @api private
 */

function humanReadableArgName(arg) {
  const nameOutput = arg.name + (arg.variadic === true ? '...' : '');

  return arg.required
    ? '<' + nameOutput + '>'
    : '[' + nameOutput + ']';
}

/**
 * Parse the short and long flag out of something like '-m,--mixed <value>'
 *
 * @api private
 */

function _parseOptionFlags(flags) {
  let shortFlag;
  let longFlag;
  // Use original very loose parsing to maintain backwards compatibility for now,
  // which allowed for example unintended `-sw, --short-word` [sic].
  const flagParts = flags.split(/[ |,]+/);
  if (flagParts.length > 1 && !/^[[<]/.test(flagParts[1])) shortFlag = flagParts.shift();
  longFlag = flagParts.shift();
  // Add support for lone short flag without significantly changing parsing!
  if (!shortFlag && /^-[^-]$/.test(longFlag)) {
    shortFlag = longFlag;
    longFlag = undefined;
  }
  return { shortFlag, longFlag };
}

/**
 * Scan arguments and increment port number for inspect calls (to avoid conflicts when spawning new command).
 *
 * @param {string[]} args - array of arguments from node.execArgv
 * @returns {string[]}
 * @api private
 */

function incrementNodeInspectorPort(args) {
  // Testing for these options:
  //  --inspect[=[host:]port]
  //  --inspect-brk[=[host:]port]
  //  --inspect-port=[host:]port
  return args.map((arg) => {
    if (!arg.startsWith('--inspect')) {
      return arg;
    }
    let debugOption;
    let debugHost = '127.0.0.1';
    let debugPort = '9229';
    let match;
    if ((match = arg.match(/^(--inspect(-brk)?)$/)) !== null) {
      // e.g. --inspect
      debugOption = match[1];
    } else if ((match = arg.match(/^(--inspect(-brk|-port)?)=([^:]+)$/)) !== null) {
      debugOption = match[1];
      if (/^\d+$/.test(match[3])) {
        // e.g. --inspect=1234
        debugPort = match[3];
      } else {
        // e.g. --inspect=localhost
        debugHost = match[3];
      }
    } else if ((match = arg.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/)) !== null) {
      // e.g. --inspect=localhost:1234
      debugOption = match[1];
      debugHost = match[3];
      debugPort = match[4];
    }

    if (debugOption && debugPort !== '0') {
      return `${debugOption}=${debugHost}:${parseInt(debugPort) + 1}`;
    }
    return arg;
  });
}


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = __webpack_module_cache__;
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// module cache are used so entry inlining is disabled
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	var __webpack_exports__ = __webpack_require__(__webpack_require__.s = "./lib/index.ts");
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxLQUFLLElBQUksRUFBRSxDQUFDO29CQUN4QyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN4QixDQUFDO3FCQUFNLElBQUksU0FBUyxDQUFDLFNBQVMsRUFBRSxLQUFLLEdBQUcsRUFBRSxDQUFDO29CQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN4QixDQUFDO3FCQUFNLElBQUksU0FBUyxDQUFDLFNBQVMsRUFBRSxLQUFLLEdBQUcsRUFBRSxDQUFDO29CQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN4QixDQUFDO3FCQUFNLElBQUksU0FBUyxDQUFDLFNBQVMsRUFBRSxLQUFLLEdBQUcsRUFBRSxDQUFDO29CQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN4QixDQUFDO3FCQUFNLElBQUksU0FBUyxDQUFDLFNBQVMsRUFBRSxLQUFLLEdBQUcsRUFBRSxDQUFDO29CQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN4QixDQUFDO3FCQUFNLElBQUksU0FBUyxDQUFDLFNBQVMsRUFBRSxLQUFLLEdBQUcsRUFBRSxDQUFDO29CQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN4QixDQUFDO3FCQUFNLElBQUksU0FBUyxDQUFDLFNBQVMsRUFBRSxLQUFLLEdBQUcsRUFBRSxDQUFDO29CQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUN2QixDQUFDO3FCQUFNLElBQUksU0FBUyxDQUFDLFNBQVMsRUFBRSxLQUFLLEdBQUcsRUFBRSxDQUFDO29CQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUN2QixDQUFDO3FCQUFNLElBQUksU0FBUyxDQUFDLFNBQVMsRUFBRSxLQUFLLEdBQUcsRUFBRSxDQUFDO29CQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxD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O0FBQ0E7QUFDQSxHQUFHO0FBQ0g7Ozs7Ozs7VUN4cUVBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7O1VBRUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7O1VBRUE7VUFDQTs7OztVRXpCQTtVQUNBO1VBQ0E7VUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbm9kZV9tb2R1bGVzL2h0bWwtZm9ybWF0L2luZGV4LmpzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL0NsYXNzTWFuYWdlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9FcnJvcnMudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvUmVuZGVyaW5nRW5naW5lLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0FjY29yZGlvbkJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9BY2NvcmRpb25JdGVtQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0FjY29yZGlvbkl0ZW1IZWFkZXJCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvQmFja0xpbmtCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvQmFkZ2VCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvQnJCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvQnV0dG9uQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0NhcmRCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvQ2FyZEJvZHlCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvQ2FyZEZvb3RlckJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9DYXJkSGVhZGVyQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0Nhcm91c2VsQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0Nhcm91c2VsUGFuZWxCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvQ2VsbEJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9DbG9zZVdvcmtmbG93RXhlY3V0ZWRQYW5lbEJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9Db2x1bW5CaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvQ29uZmlybVdvcmtmbG93UGFuZWxCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvQ29uZmlybWF0aW9uUGFuZWxCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvQ29va2llQ29uc2VudEJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9EaXZCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvRW1haWxCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvRW1haWxDb25maXJtYXRpb25MaW5rQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0VudW1lcmF0aW9uSW5wdXRCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvRXJyb3JTdW1tYXJ5QmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0Zha2VNZXNzYWdlQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0Zha2VQYWdlQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0Zha2VRdWV1ZS50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9GYWtlU3RvcmVCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvRmFrZVVzZXJCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvRmFrZVdpemFyZEJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9GYWtlV29ya2Zsb3dCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvRm9ybUJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9Ib3Jpem9udGFsUnVsZUJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9JY29uQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0ltYWdlQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0luaXRpYXRlV29ya2Zsb3dCdXR0b25CaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvSW5wdXRCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvSW5zZXRUZXh0QmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0p1bWJvdHJvbkJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9MaW5rQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0xpc3RCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvTGlzdEl0ZW1CaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvTG9naW5QYW5lbEJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9Mb29wQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL01lbnVCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvTWVudUJyYW5kQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL01lbnVJdGVtQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL01lc3NhZ2VFeHBsb3JlckJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9NaWxlU3RvbmVCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvTm90aWZpY2F0aW9uQmFubmVyQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1BhZ2VCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvUGFyYWdyYXBoQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1Bhc3N3b3JkUmVzZXRMaW5rQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1Byb2dyZXNzQmFyQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1JlZ2lzdGVyUGFuZWxCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvUmVzZXRQYXNzd29yZFBhbmVsQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1Jlc2V0UGFzc3dvcmRSZXF1ZXN0UGFuZWxCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvUm93QmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1NjYWxlQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1NjcmlwdEJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9TcGFuQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1N1Yk1lbnVCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvU3ViTWVudUxhYmVsQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1N3aXRjaEJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9UYWJsZUJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9UaXRsZUJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9Ub29sVGlwQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1RyYXlCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvVHJheUhlYWRlckJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9Vc2VyRXhwbG9yZXJCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvVXVpZEJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9WYWx1ZUJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9XYXJuaW5nQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1dlbGxCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvV2l6YXJkVGVzdFJlc3VsdHNCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZmxleC1jb250YWluZXItc3VwcG9ydC50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mbGV4LWl0ZW0tc3VwcG9ydC50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvRnJlZW1hcmtlckVycm9yLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvUHJvaGliaXRlZEVycm9yLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvUmVmZXJlbmNlTm90Rm91bmRFcnJvci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL1RlbXBsYXRlRXJyb3IudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0Jvb2xlYW5CdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9DYXBGaXJzdEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0NhcGl0YWxpemVCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9DZWlsQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vQ2hvcExpbmVicmVha0J1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0NodW5rQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vQ29udGFpbnNCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9EYXRlQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vRGF0ZXRpbWVCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9Ecm9wV2hpbGVCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9FbmRzV2l0aEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0Vuc3VyZUVuZHNXaXRoQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vRW5zdXJlU3RhcnRzV2l0aEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0ZpbHRlckJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0ZpcnN0QnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vRmxvb3JCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9IYXNDb250ZW50QnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vSW5kZXhPZkJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0lzSW5maW5pdGVCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9Jc05hbkJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0pvaW5CdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9LZWVwQWZ0ZXJCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9LZWVwQWZ0ZXJMYXN0QnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vS2VlcEJlZm9yZUJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0tlZXBCZWZvcmVMYXN0QnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vTGFzdEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0xhc3RJbmRleE9mQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vTGVmdFBhZEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0xlbmd0aEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0xvd2VyQWJjQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vTG93ZXJDYXNlQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vTWFwQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vTWF0Y2hlc0J1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL01heEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL01pbkJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL05vQXJnQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vTnVtYmVyRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vT25lQXJnQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vUmVtb3ZlQmVnaW5uaW5nQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vUmVtb3ZlRW5kaW5nQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vUmVwbGFjZUJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1JldmVyc2VCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9SaWdodFBhZEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1JvdW5kQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vU2VxQ29udGFpbnNCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9TZXFJbmRleE9mQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vU2VxTGFzdEluZGV4T2ZCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9TaXplQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vU29ydEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1NvcnRCeUJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1NwbGl0QnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vU3RhcnRzV2l0aEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1N0cmluZ0J1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1Rha2VXaGlsZUJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1RoZW5CdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9UaW1lQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vVHJpbUJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1RydW5jYXRlQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vVHdvQXJnQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vVW5jYXBGaXJzdEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1VwcGVyQWJjQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vVXBwZXJDYXNlQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vVXJsQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vV29yZExpc3RCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9pbmRleC50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24tZW5naW5lLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9BZGRBbmRBc3NpZ25FeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9BZGRpdGlvbkV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0FuY2lsbGFyeUV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0FuZEV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0Fzc2lnbkV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0JpbmFyeUV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0NhbGxCdWlsdGluRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vQ2FsbE1ldGhvZEV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0NvbXBvc2luZ0V4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0RlY3JlbWVudEV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0RlZmF1bHRFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9EZXJlZmVyZW5jZUV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0RpdmlkZUFuZEFzc2lnbkV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0RpdmlzaW9uRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vRXF1YWxFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9GYWxzZUV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0dyZWF0ZXJUaGFuRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vR3JlYXRlclRoYW5PckVxdWFsRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vSGFzaEV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0luY3JlbWVudEV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0lzRGVmaW5lZEV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0xhbWJkYUV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0xlc3NUaGFuRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vTGVzc1RoYW5PckVxdWFsRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vTW9kdWx1c0FuZEFzc2lnbkV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL01vZHVsdXNFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9NdWx0aXBsaWNhdGlvbkV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL011bHRpcGx5QW5kQXNzaWduRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vTmVnYXRpdmVFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9Ob3RFcXVhbEV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL05vdEV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL051bWJlckV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL09yRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vUGFyZW50aGVzaXNFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9Qb3NpdGl2ZUV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL1JhbmdlRXhjbHVzaXZlRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vUmFuZ2VJbmNsdXNpdmVFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9SYW5nZUxlbmd0aERlY3JlbWVudEV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL1JhbmdlTGVuZ3RoSW5jcmVtZW50RXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vUmFuZ2VTdGFydGluZ0V4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL1JlZmVyZW5jZUV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL1NlcXVlbmNlRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vU2xpY2VFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9TdHJpbmdFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9TdWJzdHJhY3RBbmRBc3NpZ25FeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9TdWJzdHJhY3Rpb25FeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9UcnVlRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vVmFsdWUudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL3Rva2VuaXplLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvdGVtcGxhdGUvTGV4aWNhbFRva2VuLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvdGVtcGxhdGUvTGV4aWNhbFRva2VuVHlwZS50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL3RlbXBsYXRlL2xleGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2luZGV4LnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL3BhcnNlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9wcm9wZXJ0aWVzLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL3N0b3JlL01lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvc3RvcmUvUGFnZS50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9zdG9yZS9RdWV1ZS50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9zdG9yZS9TdG9yZS50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9zdG9yZS9Vc2VyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL3N0b3JlL1dpemFyZC50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9zdG9yZS9Xb3JrZmxvdy50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi90ZXh0LXN0eWxlLXN1cHBvcnQudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvdXRpbGl0aWVzL1N0cmluZ0J1ZmZlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi91dGlsaXRpZXMvZ2VuZXJhdGUtaWQudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvdXRpbGl0aWVzL2lzQWxwaGFiZXRpYy50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi91dGlsaXRpZXMvaXNBbHBoYW51bWVyaWMudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvdXRpbGl0aWVzL2lzRGF0ZS50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi91dGlsaXRpZXMvaXNIYXNoLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL3V0aWxpdGllcy9pc051bWVyaWMudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvdXRpbGl0aWVzL2lzV2hpdGVzcGFjZS50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiY2hpbGRfcHJvY2Vzc1wiIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0L2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJldmVudHNcIiIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiZnNcIiIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwibm9kZTpwYXRoXCIiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcInBhdGhcIiIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL25vZGVfbW9kdWxlcy9jb21tYW5kZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvd2VicGFjay9iZWZvcmUtc3RhcnR1cCIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvd2VicGFjay9hZnRlci1zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHRhZ05hbWUgPSBTdHJpbmcucmF3YFtBLVphLXpdW14vXFxzPl0qYDtcblxuLy8gUHJlc2VydmUgc3RyaW5ncyBpbiB0ZW1wbGF0ZXMgYW5kIHN1Y2hcbi8vIEF2b2lkIGFwb3N0cm9waGVzIGFuZCB1bmludGVudGlvbmFsIGNhcHR1cmVzXG5jb25zdCBkb3VibGVRdW90ZWRTdHJpbmcgPSBTdHJpbmcucmF3YCg/PCFcXHcpXCIoPzpcXFxcW148Plxcbl18W15cXFxcXCI8Plxcbl0pKlwiKD8hXFx3KWA7XG5jb25zdCBzaW5nbGVRdW90ZWRTdHJpbmcgPSBTdHJpbmcucmF3YCg/PCFcXHcpJyg/OlxcXFxbXjw+XFxuXXxbXlxcXFwnPD5cXG5dKSonKD8hXFx3KWA7XG5jb25zdCBxdW90ZWRTdHJpbmcgPSBTdHJpbmcucmF3YCR7ZG91YmxlUXVvdGVkU3RyaW5nfXwke3NpbmdsZVF1b3RlZFN0cmluZ31gO1xuXG5jb25zdCBxdW90ZWRBdHRyVmFsdWUgPSBTdHJpbmcucmF3YFwiKD88cXVvdGVkQXR0clZhbHVlPlteXCJdKilcImA7XG5jb25zdCBzaW5nbGVRdW90ZWRBdHRyVmFsdWUgPSBTdHJpbmcucmF3YCcoPzxzaW5nbGVRdW90ZWRBdHRyVmFsdWU+W14nXSopJ2A7XG4vLyBodHRwczovL21vdGhlcmVmZi5pbi91bnF1b3RlZC1hdHRyaWJ1dGVzXG5jb25zdCB1bnF1b3RlZEF0dHJWYWx1ZSA9IFN0cmluZy5yYXdgKD88dW5xdW90ZWRBdHRyVmFsdWU+W15cXHNcIidcXGA9PD5dKylgO1xuXG5jb25zdCBhdHRyTmFtZSA9IFN0cmluZy5yYXdgW149XFxzPi9cIiddKyg/PVs9Plxcc118JClgO1xuY29uc3QgYXR0clZhbHVlID0gU3RyaW5nLnJhd2Ake3F1b3RlZEF0dHJWYWx1ZX18JHtzaW5nbGVRdW90ZWRBdHRyVmFsdWV9fCR7dW5xdW90ZWRBdHRyVmFsdWV9YDtcbmNvbnN0IGF0dHJOYW1lVmFsdWUgPSBTdHJpbmcucmF3YCg/PGF0dHJOYW1lPiR7YXR0ck5hbWV9KSg/Olxccyo9XFxzKig/OiR7YXR0clZhbHVlfSkpP2A7XG5cbi8vIE1ha2Ugc3VyZSBub3QgdG8gc3dhbGxvdyB0aGUgY2xvc2luZyBzbGFzaCBpZiBvbmUgZXhpc3RzXG5jb25zdCBhdHRyVGV4dCA9IFN0cmluZy5yYXdgJHtxdW90ZWRTdHJpbmd9fFteXFxzPl0qW15cXHM+L118W15cXHM+XSovKD8hXFxzKj4pYDtcblxuY29uc3QgYXR0ciA9IFN0cmluZy5yYXdgKD88YXR0clNwYWNlPlxccyopKD86JHthdHRyTmFtZVZhbHVlfXwoPzxhdHRyVGV4dD4ke2F0dHJUZXh0fSkpYDtcblxuY29uc3QgdG9rZW5zID0ge1xuICBjb21tZW50OiBTdHJpbmcucmF3YDwhLS0uKj8tLT5gLFxuICBkdGQ6IFN0cmluZy5yYXdgPCFbXj5dKz5gLFxuICBzdGFydFRhZzogU3RyaW5nLnJhd2A8KD88c3RhcnRUYWdOYW1lPiR7dGFnTmFtZX0pKD88YXR0cnM+KD86JHthdHRyfSkqKVxccyooPzxjbG9zaW5nU2xhc2g+Lz8pXFxzKj5gLFxuICBlbmRUYWc6IFN0cmluZy5yYXdgPC8oPzxlbmRUYWdOYW1lPiR7dGFnTmFtZX0pXFxzKj5gLFxuICBzcGFjZTogU3RyaW5nLnJhd2BcXHMrYCxcbiAgdGV4dDogU3RyaW5nLnJhd2BbXjxcXHNcIiddK3wke3F1b3RlZFN0cmluZ318WydcIl1gLFxuICB3aWxkY2FyZDogU3RyaW5nLnJhd2AuYCxcbn07XG5cbmNvbnN0IGdyYW1tYXIgPSBPYmplY3QuZW50cmllcyh0b2tlbnMpXG4gIC5tYXAoKFtrLCB2XSkgPT4gYCg/PCR7a30+JHt2fSlgKVxuICAuam9pbihcInxcIik7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7UmVnRXhwfSBsZXhlclxuICogQHBhcmFtIHtzdHJpbmd9IHNcbiAqL1xuZnVuY3Rpb24qIGdldFRva2VucyhsZXhlciwgcykge1xuICBsZXQgcmVzO1xuICBsZXQgeyBsYXN0SW5kZXggfSA9IGxleGVyO1xuICB3aGlsZSAoKHJlcyA9IGxleGVyLmV4ZWMocykpKSB7XG4gICAgeWllbGQgLyoqIEB0eXBlIHtSZWdFeHBFeGVjQXJyYXkgJiB7IGdyb3VwczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB9fSAqLyAoXG4gICAgICByZXNcbiAgICApO1xuICAgICh7IGxhc3RJbmRleCB9ID0gbGV4ZXIpO1xuICB9XG4gIGlmIChsYXN0SW5kZXggIT0gcy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBwYXJzZSBzdHJpbmdcIik7XG59XG5cbmNvbnN0IHZvaWRUYWdzID0gbmV3IFNldChbXG4gIFwiYXJlYVwiLFxuICBcImJhc2VcIixcbiAgXCJiYXNlZm9udFwiLFxuICBcImJnc291bmRcIixcbiAgXCJiclwiLFxuICBcImNvbFwiLFxuICBcImNvbW1hbmRcIixcbiAgXCJlbWJlZFwiLFxuICBcImZyYW1lXCIsXG4gIFwiaHJcIixcbiAgXCJpbWFnZVwiLFxuICBcImltZ1wiLFxuICBcImlucHV0XCIsXG4gIFwia2V5Z2VuXCIsXG4gIFwibGlua1wiLFxuICBcIm1ldGFcIixcbiAgXCJwYXJhbVwiLFxuICBcInNvdXJjZVwiLFxuICBcInRyYWNrXCIsXG4gIFwid2JyXCIsXG5dKTtcblxuZnVuY3Rpb24gZm9ybWF0KC8qKiBAdHlwZSB7c3RyaW5nfSAqLyBodG1sLCBpbmRlbnQgPSBcIiAgXCIsIHdpZHRoID0gODApIHtcbiAgY29uc3QgbGV4ZXIgPSBuZXcgUmVnRXhwKGdyYW1tYXIsIFwiZ3lzXCIpO1xuICBjb25zdCBhdHRyTGV4ZXIgPSBuZXcgUmVnRXhwKGF0dHIsIFwiZ3lcIik7XG5cbiAgLyoqIEB0eXBlIHtzdHJpbmdbXX0gKi9cbiAgY29uc3Qgb3V0cHV0ID0gW107XG5cbiAgLyoqIEB0eXBlIHtzdHJpbmcgfCBudWxsfSAqL1xuICBsZXQgc3BlY2lhbEVsZW1lbnQgPSBudWxsO1xuICBsZXQgbGV2ZWwgPSAwO1xuXG4gIGxldCBsaW5lTGVuZ3RoID0gMDtcbiAgbGV0IHNwYW4gPSBcIlwiO1xuICBsZXQgc3BhbkxldmVsID0gMDtcbiAgbGV0IGxhc3RTcGFjZSA9IFwiXCI7XG5cbiAgY29uc3QgZmx1c2hPdXRwdXQgPSAoKSA9PiB7XG4gICAgaWYgKGxhc3RTcGFjZSAmJiBsYXN0U3BhY2UgIT0gXCJcXG5cIikge1xuICAgICAgY29uc3QgbmV3bGluZSA9IHNwYW4uaW5kZXhPZihcIlxcblwiKTtcbiAgICAgIGNvbnN0IGxlbiA9IG5ld2xpbmUgPT0gLTEgPyBzcGFuLmxlbmd0aCA6IG5ld2xpbmU7XG4gICAgICBpZiAobGluZUxlbmd0aCArIGxhc3RTcGFjZS5sZW5ndGggKyBsZW4gPiB3aWR0aCkgbGFzdFNwYWNlID0gXCJcXG5cIjtcbiAgICB9XG5cbiAgICBjb25zdCBpbmQgPSBsYXN0U3BhY2UgPT0gXCJcXG5cIiAmJiBzcGFuID8gaW5kZW50LnJlcGVhdChzcGFuTGV2ZWwpIDogXCJcIjtcbiAgICBjb25zdCBvdXQgPSBgJHtsYXN0U3BhY2V9JHtpbmR9JHtzcGFufWA7XG5cbiAgICBpZiAob3V0KSB7XG4gICAgICBjb25zdCBwb3MgPSBvdXQubGFzdEluZGV4T2YoXCJcXG5cIik7XG4gICAgICBpZiAocG9zID09IC0xKSBsaW5lTGVuZ3RoICs9IG91dC5sZW5ndGg7XG4gICAgICBlbHNlIGxpbmVMZW5ndGggPSBvdXQubGVuZ3RoIC0gcG9zIC0gMTtcbiAgICAgIG91dHB1dC5wdXNoKG91dCk7XG4gICAgfVxuXG4gICAgc3BhbiA9IGxhc3RTcGFjZSA9IFwiXCI7XG4gIH07XG5cbiAgY29uc3QgYWRkT3V0cHV0ID0gKC8qKiBAdHlwZSB7c3RyaW5nW119ICovIC4uLmFyZ3MpID0+IHtcbiAgICBmb3IgKGNvbnN0IHMgb2YgYXJncykge1xuICAgICAgaWYgKCFzcGVjaWFsRWxlbWVudCAmJiAvXlxccyskLy50ZXN0KHMpKSB7XG4gICAgICAgIGZsdXNoT3V0cHV0KCk7XG4gICAgICAgIGxhc3RTcGFjZSA9IHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXNwYW4pIHNwYW5MZXZlbCA9IGxldmVsO1xuICAgICAgICBzcGFuICs9IHM7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGZvciAoY29uc3QgdG9rZW4gb2YgZ2V0VG9rZW5zKGxleGVyLCBodG1sKSkge1xuICAgIC8vIEZvciB0ZXN0aW5nXG4gICAgaWYgKC8qKiBAdHlwZSB7YW55fSAqLyAoZm9ybWF0KS5fX3N0cmljdCAmJiB0b2tlbi5ncm91cHMud2lsZGNhcmQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIHdpbGRjYXJkXCIpO1xuXG4gICAgaWYgKHRva2VuLmdyb3Vwcy5lbmRUYWcpIHtcbiAgICAgIGNvbnN0IHRhZ05hbWUgPSB0b2tlbi5ncm91cHMuZW5kVGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHRhZ05hbWUgPT0gc3BlY2lhbEVsZW1lbnQpIHNwZWNpYWxFbGVtZW50ID0gbnVsbDtcbiAgICAgIGlmICghc3BlY2lhbEVsZW1lbnQpIHtcbiAgICAgICAgLS1sZXZlbDtcbiAgICAgICAgYWRkT3V0cHV0KGA8LyR7dGFnTmFtZX0+YCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFzcGVjaWFsRWxlbWVudCkge1xuICAgICAgaWYgKHRva2VuLmdyb3Vwcy5zcGFjZSkge1xuICAgICAgICBhZGRPdXRwdXQoLi4uKHRva2VuWzBdLm1hdGNoKC9cXG4vZyk/LnNsaWNlKDAsIDIpID8/IFtcIiBcIl0pKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHRva2VuLmdyb3Vwcy5jb21tZW50IHx8XG4gICAgICAgIHRva2VuLmdyb3Vwcy5kdGQgfHxcbiAgICAgICAgdG9rZW4uZ3JvdXBzLnRleHQgfHxcbiAgICAgICAgdG9rZW4uZ3JvdXBzLndpbGRjYXJkXG4gICAgICApIHtcbiAgICAgICAgYWRkT3V0cHV0KHRva2VuWzBdKTtcbiAgICAgIH0gZWxzZSBpZiAodG9rZW4uZ3JvdXBzLnN0YXJ0VGFnKSB7XG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSB0b2tlbi5ncm91cHMuc3RhcnRUYWdOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgYWRkT3V0cHV0KGA8JHt0YWdOYW1lfWApO1xuXG4gICAgICAgICsrbGV2ZWw7XG5cbiAgICAgICAgaWYgKHRva2VuLmdyb3Vwcy5hdHRycykge1xuICAgICAgICAgIGxldCB7IGxhc3RJbmRleCB9ID0gYXR0ckxleGVyO1xuICAgICAgICAgIGxldCBhdHRyVG9rZW47XG4gICAgICAgICAgbGV0IGxhc3RUb2tlbjtcbiAgICAgICAgICB3aGlsZSAoXG4gICAgICAgICAgICAoYXR0clRva2VuID1cbiAgICAgICAgICAgICAgLyoqIEB0eXBlIHtSZWdFeHBFeGVjQXJyYXkgJiB7IGdyb3VwczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB9fSAqLyAoXG4gICAgICAgICAgICAgICAgYXR0ckxleGVyLmV4ZWModG9rZW4uZ3JvdXBzLmF0dHJzKVxuICAgICAgICAgICAgICApKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgKHsgbGFzdEluZGV4IH0gPSBhdHRyTGV4ZXIpO1xuXG4gICAgICAgICAgICAvLyBGb3IgdGVzdGluZ1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAvKiogQHR5cGUge2FueX0gKi8gKGZvcm1hdCkuX19zdHJpY3QgJiZcbiAgICAgICAgICAgICAgYXR0clRva2VuLmdyb3Vwcy5hdHRyVGV4dFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIGF0dHIgdGV4dFwiKTtcblxuICAgICAgICAgICAgaWYgKGF0dHJUb2tlbi5ncm91cHMuYXR0clRleHQpIHtcbiAgICAgICAgICAgICAgaWYgKGF0dHJUb2tlbi5ncm91cHMuYXR0clNwYWNlKVxuICAgICAgICAgICAgICAgIGFkZE91dHB1dCgvXFxuLy50ZXN0KGF0dHJUb2tlbi5ncm91cHMuYXR0clNwYWNlKSA/IFwiXFxuXCIgOiBcIiBcIik7XG4gICAgICAgICAgICAgIGFkZE91dHB1dChhdHRyVG9rZW4uZ3JvdXBzLmF0dHJUZXh0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChhdHRyVG9rZW4uZ3JvdXBzLmF0dHJTcGFjZSB8fCAhbGFzdFRva2VuPy5ncm91cHMuYXR0clRleHQpXG4gICAgICAgICAgICAgICAgYWRkT3V0cHV0KC9cXG4vLnRlc3QoYXR0clRva2VuLmdyb3Vwcy5hdHRyU3BhY2UpID8gXCJcXG5cIiA6IFwiIFwiKTtcbiAgICAgICAgICAgICAgYWRkT3V0cHV0KFxuICAgICAgICAgICAgICAgIGAke2F0dHJUb2tlbi5ncm91cHMuYXR0ck5hbWV9JHtcbiAgICAgICAgICAgICAgICAgIGF0dHJUb2tlbi5ncm91cHMucXVvdGVkQXR0clZhbHVlXG4gICAgICAgICAgICAgICAgICAgID8gYD1cIiR7YXR0clRva2VuLmdyb3Vwcy5xdW90ZWRBdHRyVmFsdWV9XCJgXG4gICAgICAgICAgICAgICAgICAgIDogYXR0clRva2VuLmdyb3Vwcy5zaW5nbGVRdW90ZWRBdHRyVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgPyBgPScke2F0dHJUb2tlbi5ncm91cHMuc2luZ2xlUXVvdGVkQXR0clZhbHVlfSdgXG4gICAgICAgICAgICAgICAgICAgIDogYXR0clRva2VuLmdyb3Vwcy51bnF1b3RlZEF0dHJWYWx1ZVxuICAgICAgICAgICAgICAgICAgICA/IGA9JHthdHRyVG9rZW4uZ3JvdXBzLnVucXVvdGVkQXR0clZhbHVlfWBcbiAgICAgICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICAgICAgfWBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGFzdFRva2VuID0gYXR0clRva2VuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobGFzdEluZGV4ICE9IHRva2VuLmdyb3Vwcy5hdHRycy5sZW5ndGgpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgYXR0cmlidXRlc1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhhc0Nsb3NpbmdTbGFzaCA9IEJvb2xlYW4odG9rZW4uZ3JvdXBzLmNsb3NpbmdTbGFzaCk7XG5cbiAgICAgICAgYWRkT3V0cHV0KGhhc0Nsb3NpbmdTbGFzaCA/IFwiIC8+XCIgOiBcIj5cIik7XG5cbiAgICAgICAgaWYgKGhhc0Nsb3NpbmdTbGFzaCB8fCB2b2lkVGFncy5oYXModGFnTmFtZSkpIC0tbGV2ZWw7XG4gICAgICAgIGVsc2UgaWYgKFtcInByZVwiLCBcInRleHRhcmVhXCIsIFwic2NyaXB0XCIsIFwic3R5bGVcIl0uaW5jbHVkZXModGFnTmFtZSkpXG4gICAgICAgICAgc3BlY2lhbEVsZW1lbnQgPSB0YWdOYW1lO1xuICAgICAgfVxuICAgIH0gZWxzZSBhZGRPdXRwdXQodG9rZW5bMF0pO1xuICB9XG5cbiAgLy8gRmx1c2ggcmVtYWluaW5nIG91dHB1dFxuICBmbHVzaE91dHB1dCgpO1xuXG4gIGxldCBuZXdsaW5lID0gZmFsc2U7XG4gIHdoaWxlICgvXlxccyskLy50ZXN0KG91dHB1dFtvdXRwdXQubGVuZ3RoIC0gMV0pKSB7XG4gICAgY29uc3QgbGFzdCA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAob3V0cHV0LnBvcCgpKTtcbiAgICBpZiAoL1xcbi8udGVzdChsYXN0KSkgbmV3bGluZSA9IHRydWU7XG4gIH1cblxuICBpZiAobmV3bGluZSkgb3V0cHV0LnB1c2goXCJcXG5cIik7XG5cbiAgcmV0dXJuIG91dHB1dC5qb2luKFwiXCIpO1xufVxuXG5mb3JtYXQuZGVmYXVsdCA9IGZvcm1hdDtcbm1vZHVsZS5leHBvcnRzID0gZm9ybWF0O1xuIiwiaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi9wcm9wZXJ0aWVzJztcbmltcG9ydCB7IFN0cmluZ0J1ZmZlciB9IGZyb20gJy4vdXRpbGl0aWVzL1N0cmluZ0J1ZmZlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsYXNzTWFuYWdlciB7XG5cbiAgICBwcml2YXRlIGNsYXNzZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMpIHtcbiAgICB9XG5cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgICAgIGxldCBsYXRjaCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGNvbnN0IHN0ciBvZiB0aGlzLmNsYXNzZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdHVhbCA9IHN0ci50cmltKCk7XG4gICAgICAgICAgICBpZiAoYWN0dWFsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAobGF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChcIiBcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHN1YnN0aXR1dGUgPSB0aGlzLmNsYXNzTWFwcGluZ3MuZ2V0KGFjdHVhbCk7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnN0aXR1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChzdWJzdGl0dXRlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKGFjdHVhbClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWZmZXIudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBhcHBlbmQodmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCwgcHJlZml4OiBzdHJpbmcsIGRlZjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY2xhc3Nlcy5wdXNoKHZhbHVlID8gcHJlZml4ICsgdmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCkgOiBkZWYpO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgRXJyb3JzIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZXJyb3JzOiBPYmplY3RFcnJvcltdID0gW10pIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFzRXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnMubGVuZ3RoICE9PSAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRBbGxFcnJvcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9ycztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RXJyb3JDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0R2xvYmFsRXJyb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9ycy5maW5kKGVyciA9PiAhKGVyciBpbnN0YW5jZW9mIEZpZWxkRXJyb3IpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0R2xvYmFsRXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnMuZmlsdGVyKGVyciA9PiAhKGVyciBpbnN0YW5jZW9mIEZpZWxkRXJyb3IpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFzR2xvYmFsRXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnMuZmlsdGVyKGVyciA9PiAhKGVyciBpbnN0YW5jZW9mIEZpZWxkRXJyb3IpKS5sZW5ndGggIT09IDA7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEdsb2JhbEVycm9yc0NvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnMuZmlsdGVyKGVyciA9PiAhKGVyciBpbnN0YW5jZW9mIEZpZWxkRXJyb3IpKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEZpZWxkRXJyb3IobmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkKTogRmllbGRFcnJvciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9ycy5maW5kKGVyciA9PiBlcnIgaW5zdGFuY2VvZiBGaWVsZEVycm9yICYmIChuYW1lID09PSB1bmRlZmluZWQgfHwgZXJyLmdldEZpZWxkKCkgPT09IG5hbWUpKSBhcyBGaWVsZEVycm9yIHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRGaWVsZEVycm9ycyhuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JzLmZpbHRlcihlcnIgPT4gZXJyIGluc3RhbmNlb2YgRmllbGRFcnJvciAmJiAobmFtZSA9PT0gdW5kZWZpbmVkIHx8IGVyci5nZXRGaWVsZCgpID09PSBuYW1lKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGhhc0ZpZWxkRXJyb3JzKG5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnMuZmlsdGVyKGVyciA9PiBlcnIgaW5zdGFuY2VvZiBGaWVsZEVycm9yICYmIChuYW1lID09PSB1bmRlZmluZWQgfHwgZXJyLmdldEZpZWxkKCkgPT09IG5hbWUpKS5sZW5ndGggIT09IDA7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEZpZWxkRXJyb3JDb3VudChuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JzLmZpbHRlcihlcnIgPT4gZXJyIGluc3RhbmNlb2YgRmllbGRFcnJvciAmJiAobmFtZSA9PT0gdW5kZWZpbmVkIHx8IGVyci5nZXRGaWVsZCgpID09PSBuYW1lKSkubGVuZ3RoO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9iamVjdEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG9iamVjdE5hbWU6IHN0cmluZywgcHJpdmF0ZSBkZWZhdWx0TWVzc2FnZTogc3RyaW5nKSB7XG4gICAgfVxuXG4gICAgcHVibGljIGdldE9iamVjdE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9iamVjdE5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldERlZmF1bHRNZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0TWVzc2FnZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWVsZEVycm9yIGV4dGVuZHMgT2JqZWN0RXJyb3Ige1xuXG4gICAgY29uc3RydWN0b3Iob2JqZWN0TmFtZTogc3RyaW5nLCBwcml2YXRlIGZpZWxkOiBzdHJpbmcsIHByaXZhdGUgcmVqZWN0ZWRWYWx1ZTogYW55LCBkZWZhdWx0TWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG9iamVjdE5hbWUsIGRlZmF1bHRNZXNzYWdlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RmllbGQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpZWxkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRSZWplY3RlZFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWplY3RlZFZhbHVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFN1YnN0aXR1dGlvbnMgfSBmcm9tICcuL1N1YnN0aXR1dGlvbnMnO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi9wcm9wZXJ0aWVzJztcbmltcG9ydCB7IEVsZW1lbnQsIGlzRWxlbWVudCwgaXNUZXh0IH0gZnJvbSAnLi9wYXJzZXInO1xuaW1wb3J0IGdlbmVyYXRlSWQgZnJvbSAnLi91dGlsaXRpZXMvZ2VuZXJhdGUtaWQnO1xuaW1wb3J0IHsgZmluZEJpbmRlciB9IGZyb20gJy4vYmluZGluZ3MnO1xuaW1wb3J0IHsgRnJlZW1hcmtlckVycm9yIH0gZnJvbSAnLi9mcmVlbWFya2VyL0ZyZWVtYXJrZXJFcnJvcic7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAnbm9kZTpwYXRoJztcbmltcG9ydCB7IFRlbXBsYXRlRW5naW5lIH0gZnJvbSAnLi9mcmVlbWFya2VyJztcblxuaW1wb3J0IHsgU3RyaW5nQnVmZmVyIH0gZnJvbSAnLi91dGlsaXRpZXMvU3RyaW5nQnVmZmVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVuZGVyaW5nRW5naW5lIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGZpbGU6IHN0cmluZywgcHJpdmF0ZSBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCBwcml2YXRlIHN1YnN0aXR1dGlvbnM6IFN1YnN0aXR1dGlvbnMsIHByaXZhdGUgZGlyOiBzdHJpbmcpIHtcblxuICAgIH1cblxuICAgIHJlbmRlckVsZW1lbnQoZWxlbWVudDogRWxlbWVudCwgcGFyZW50PzogRWxlbWVudCkge1xuXG4gICAgICAgIGlmICghZWxlbWVudC5hdHRyaWJ1dGVzLmlkKXtcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5pZCA9IGdlbmVyYXRlSWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJpbmRlciA9IGZpbmRCaW5kZXIoZWxlbWVudC5uYW1lKTtcbiAgICAgICAgaWYgKGJpbmRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRnJlZW1hcmtlckVycm9yKFwiTm8gYmluZGluZyBmb3VuZCBmb3IgXCIgKyBlbGVtZW50Lm5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJpbmRlci5yZW5kZXIoZWxlbWVudCwgdGhpcy5jbGFzc01hcHBpbmdzLCB0aGlzLCB0aGlzLnN1YnN0aXR1dGlvbnMsIHBhcmVudCk7XG4gICAgfVxuXG4gICAgcmVuZGVyQ2hpbGRyZW4oZWxlbWVudDogRWxlbWVudCkge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICBlbGVtZW50LmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICAgICAgaWYgKGlzVGV4dChjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50LmFwcGVuZChjaGlsZC50ZXh0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kKHRoaXMucmVuZGVyRWxlbWVudChjaGlsZCwgZWxlbWVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICByZW5kZXIodGVtcGxhdGVOYW1lOiBzdHJpbmcsIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcblxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4ocHJvY2Vzcy5lbnYuSU5JVF9DV0QhLCB0aGlzLmRpciwgJ3BhcnRpYWxzJywgdGVtcGxhdGVOYW1lKSwgJ3V0ZjgnKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUZW1wbGF0ZUVuZ2luZSgpLnJlbmRlcih0ZW1wbGF0ZSwgZGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZyZWVtYXJrZXJFcnJvcihgRXJyb3IgcHJvY2Vzc2luZyBmdGwgdGVtcGxhdGUgJyR7dGVtcGxhdGVOYW1lfSdgLCBlcnIgYXMgRXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IHsgU3Vic3RpdHV0aW9ucyB9IGZyb20gJy4uL1N1YnN0aXR1dGlvbnMnO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY2NvcmRpb25CaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2FjY29yZGlvbic7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuZmx1c2ggPSBlbGVtZW50LmF0dHJpYnV0ZXMuZmx1c2ggPT09IFwidHJ1ZVwiO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2FjY29yZGlvbi5mdGwnLCBkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQsIGlzRWxlbWVudCwgaXNUZXh0IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IHsgZmxleENvbnRhaW5lclN1cHBvcnQgfSBmcm9tICcuLi9mbGV4LWNvbnRhaW5lci1zdXBwb3J0JztcbmltcG9ydCB7IFN0cmluZ0J1ZmZlciB9IGZyb20gJy4uL3V0aWxpdGllcy9TdHJpbmdCdWZmZXInO1xuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IHsgU3Vic3RpdHV0aW9ucyB9IGZyb20gJy4uL1N1YnN0aXR1dGlvbnMnO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY2NvcmRpb25JdGVtQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdhY2NvcmRpb24taXRlbSc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lLCBzdWJzdGl0dXRpb25zOiBTdWJzdGl0dXRpb25zLCBwYXJlbnQ6IEVsZW1lbnQgfCB1bmRlZmluZWQpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcblxuICAgICAgICBkYXRhLmFjdGl2ZSA9IGVsZW1lbnQuYXR0cmlidXRlcy5hY3RpdmUgPT09IFwidHJ1ZVwiO1xuICAgICAgICBkYXRhLnNpbmdsZUFjdGl2ZSA9IHBhcmVudD8uYXR0cmlidXRlcy5zaW5nbGVBY3RpdmUgPT09IFwidHJ1ZVwiO1xuICAgICAgICBkYXRhLmFjY29yZGlvbklkID0gcGFyZW50Py5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLnNpemUgPSBlbGVtZW50LmF0dHJpYnV0ZXMuc2l6ZTtcblxuXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgZWxlbWVudC5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgIGlmIChpc1RleHQoY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0LmFwcGVuZChjaGlsZC50ZXh0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5uYW1lID09PSAnYWNjb3JkaW9uLWl0ZW0taGVhZGVyJykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmhlYWRlciA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJFbGVtZW50KGNoaWxkLCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQuYXBwZW5kKHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJFbGVtZW50KGNoaWxkLCBlbGVtZW50KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBkYXRhLmNvbnRlbnQgPSBvdXRwdXQudG9TdHJpbmcoKTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBjbGFzc01hbmFnZXIuYXBwZW5kKGVsZW1lbnQuYXR0cmlidXRlcy5iYWNrZ3JvdW5kRmxhdm91ciwgJ2JnLScsICcnKTtcbiAgICAgICAgZmxleENvbnRhaW5lclN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignYWNjb3JkaW9uLWl0ZW0uZnRsJywgZGF0YSk7XG4gICAgfVxufVxuXG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IHsgdGV4dFN0eWxlU3VwcG9ydCB9IGZyb20gJy4uL3RleHQtc3R5bGUtc3VwcG9ydCc7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IHsgU3Vic3RpdHV0aW9ucyB9IGZyb20gJy4uL1N1YnN0aXR1dGlvbnMnO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY2NvcmRpb25JdGVtSGVhZGVyQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdhY2NvcmRpb24taXRlbS1oZWFkZXInO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSwgc3Vic3RpdHV0aW9uczogU3Vic3RpdHV0aW9ucywgcGFyZW50OiBFbGVtZW50IHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBwYXJlbnQhLmF0dHJpYnV0ZXMuaWQ7XG5cbiAgICAgICAgZGF0YS5hY3RpdmUgPSBwYXJlbnQ/LmF0dHJpYnV0ZXMuYWN0aXZlID09PSBcInRydWVcIjtcblxuICAgICAgICBkYXRhLnNpemUgPSBlbGVtZW50LmF0dHJpYnV0ZXMuc2l6ZTtcbiAgICAgICAgZGF0YS5jb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIHRleHRTdHlsZVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMsIGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignYWNjb3JkaW9uLWl0ZW0taGVhZGVyLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYWNrTGlua0JpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnYmFjay1saW5rJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG5cbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5iYWNrTGlua09uY2xpY2sgPSBcImFsZXJ0KCdjbGlja2VkJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCI7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2JhY2stbGluay5mdGwnLCBkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IHsgdGV4dFN0eWxlU3VwcG9ydCB9IGZyb20gJy4uL3RleHQtc3R5bGUtc3VwcG9ydCc7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFkZ2VCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2JhZGdlJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5zaXplID0gZWxlbWVudC5hdHRyaWJ1dGVzLnNpemU7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBjbGFzc01hbmFnZXIuYXBwZW5kKGVsZW1lbnQuYXR0cmlidXRlcy5mbGF2b3VyLCAnYmFkZ2UtJywgJ2JhZGdlLWRlZmF1bHQnKTtcbiAgICAgICAgdGV4dFN0eWxlU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcywgY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdiYWRnZS5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCckJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnYnInO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdici5mdGwnLCB7fSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgeyB0ZXh0U3R5bGVTdXBwb3J0IH0gZnJvbSAnLi4vdGV4dC1zdHlsZS1zdXBwb3J0JztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5cbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCB7IFN1YnN0aXR1dGlvbnMgfSBmcm9tICcuLi9TdWJzdGl0dXRpb25zJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV0dG9uQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdidXR0b24nO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLnNpemUgPSBlbGVtZW50LmF0dHJpYnV0ZXMuc2l6ZTtcbiAgICAgICAgZGF0YS5kaXNhYmxlZCA9IG51bGw7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcbiAgICAgICAgZGF0YS5vbmNsaWNrID0gXCJhbGVydCgnY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuICAgICAgICBkYXRhLm5hbWUgPSBcIl9OQU1FX1wiO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGNsYXNzTWFuYWdlci5hcHBlbmQoZWxlbWVudC5hdHRyaWJ1dGVzLnNpemUsICdidG4tJywgJycpO1xuICAgICAgICBjbGFzc01hbmFnZXIuYXBwZW5kKGVsZW1lbnQuYXR0cmlidXRlcy5idXR0b25GbGF2b3VyLCAnYnRuLScsICdidG4tZGVmYXVsdCcpO1xuICAgICAgICB0ZXh0U3R5bGVTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzLCBjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2J1dHRvbi5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50LCBpc0VsZW1lbnQsIGlzVGV4dCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgU3RyaW5nQnVmZmVyIH0gZnJvbSAnLi4vdXRpbGl0aWVzL1N0cmluZ0J1ZmZlcic7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgeyBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi4vU3Vic3RpdHV0aW9ucyc7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmRCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2NhcmQnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG5cbiAgICAgICAgZGF0YS5pc0xpbmsgPSAhIWVsZW1lbnQuYXR0cmlidXRlcy5saW5rO1xuICAgICAgICBjb25zdCBwcmVzZXJ2ZUxpbmsgPSBlbGVtZW50LmF0dHJpYnV0ZXMucHJlc2VydmVMaW5rID09PSBcInRydWVcIjtcbiAgICAgICAgZGF0YS5saW5rID0gcHJlc2VydmVMaW5rID8gJy8nICsgZWxlbWVudC5hdHRyaWJ1dGVzLnZpZXcgOiAnamF2YXNjcmlwdDphbGVydCgmcXVvdDtsaW5rIHdhcyBjbGlja2VkJnF1b3Q7KTsgZXZlbnQucHJldmVudERlZmF1bHQoKTsnO1xuICAgICAgICBkYXRhLnJlbCA9ICcnO1xuICAgICAgICBkYXRhLnRhcmdldCA9ICcnO1xuXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgZWxlbWVudC5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgIGlmIChpc1RleHQoY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0LmFwcGVuZChjaGlsZC50ZXh0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5uYW1lID09PSAnY2FyZC1oZWFkZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuaGVhZGVyQ29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJFbGVtZW50KGNoaWxkLCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkLm5hbWUgPT09ICdpbWFnZScpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5pbWFnZUNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyRWxlbWVudChjaGlsZCwgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZC5uYW1lID09PSAnY2FyZC1ib2R5Jykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmJvZHlDb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckVsZW1lbnQoY2hpbGQsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGQubmFtZSA9PT0gJ2NhcmQtZm9vdGVyJykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmZvb3RlckNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyRWxlbWVudChjaGlsZCwgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBjbGFzc01hbmFnZXIuYXBwZW5kKGVsZW1lbnQuYXR0cmlidXRlcy5mbGF2b3VyLCAnY2FyZC0nLCAnY2FyZC1kZWZhdWx0Jyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdjYXJkLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgeyBmbGV4Q29udGFpbmVyU3VwcG9ydCB9IGZyb20gJy4uL2ZsZXgtY29udGFpbmVyLXN1cHBvcnQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgeyBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi4vU3Vic3RpdHV0aW9ucyc7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmRCb2R5QmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdjYXJkLWJvZHknO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleENvbnRhaW5lclN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignY2FyZC1ib2R5LmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCB7IGZsZXhDb250YWluZXJTdXBwb3J0IH0gZnJvbSAnLi4vZmxleC1jb250YWluZXItc3VwcG9ydCc7XG5cbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZEZvb3RlckJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnY2FyZC1mb290ZXInO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleENvbnRhaW5lclN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignY2FyZC1mb290ZXIuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IHsgZmxleENvbnRhaW5lclN1cHBvcnQgfSBmcm9tICcuLi9mbGV4LWNvbnRhaW5lci1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkSGVhZGVyQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdjYXJkLWhlYWRlcic7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdjYXJkLWhlYWRlci5mdGwnLCBkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQsIGlzRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2Fyb3VzZWxCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2Nhcm91c2VsJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IHBhbmVscyA9IGVsZW1lbnQuY2hpbGRyZW4uZmlsdGVyKGVsID0+IGlzRWxlbWVudChlbCkpXG4gICAgICAgICAgICAubWFwKGVsID0+IGVsIGFzIEVsZW1lbnQpXG4gICAgICAgICAgICAuZmlsdGVyKGVsID0+IGVsLm5hbWUgPT09ICdjYXJvdXNlbC1wYW5lbCcpO1xuXG4gICAgICAgIGxldCBhY3RpdmVJbmRleCA9IHBhbmVscy5maW5kSW5kZXgoZWwgPT4gZWwuYXR0cmlidXRlcy5hY3RpdmUgPT09IFwidHJ1ZVwiKTtcblxuICAgICAgICBpZiAoYWN0aXZlSW5kZXggPT09IC0xICYmIHBhbmVscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHBhbmVsc1swXS5hdHRyaWJ1dGVzLmFjdGl2ZSA9IFwidHJ1ZVwiO1xuICAgICAgICAgICAgYWN0aXZlSW5kZXggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG4gICAgICAgIGRhdGEuYXV0b1NsaWRlID0gZWxlbWVudC5hdHRyaWJ1dGVzLmF1dG9TbGlkZSA9PT0gXCJ0cnVlXCI7XG4gICAgICAgIGRhdGEuY29udHJvbHMgPSBlbGVtZW50LmF0dHJpYnV0ZXMuY29udHJvbHMgPT09IFwidHJ1ZVwiO1xuICAgICAgICBkYXRhLmluZGljYXRvcnMgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaW5kaWNhdG9ycyA9PT0gXCJ0cnVlXCI7XG4gICAgICAgIGRhdGEubnVtYmVyT2ZJbmRpY2F0b3JzID0gcGFuZWxzLmxlbmd0aDtcbiAgICAgICAgZGF0YS5hY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4IHx8IDA7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2Nhcm91c2VsLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5cbmltcG9ydCB7IGZsZXhDb250YWluZXJTdXBwb3J0IH0gZnJvbSAnLi4vZmxleC1jb250YWluZXItc3VwcG9ydCc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgeyBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi4vU3Vic3RpdHV0aW9ucyc7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2Fyb3VzZWxQYW5lbEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnY2Fyb3VzZWwtcGFuZWwnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSwgc3Vic3RpdHV0aW9uczogU3Vic3RpdHV0aW9ucywgcGFyZW50OiBFbGVtZW50IHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcbiAgICAgICAgZGF0YS5hY3RpdmUgPSBlbGVtZW50LmF0dHJpYnV0ZXMuYWN0aXZlID09PSBcInRydWVcIjtcbiAgICAgICAgZGF0YS5pbnRlcnZhbCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pbnRlcnZhbDtcbiAgICAgICAgZGF0YS5zcmMgPSBcIi9wdWJsaWMvaW1nL1wiICsgZWxlbWVudC5hdHRyaWJ1dGVzLnNyYztcbiAgICAgICAgZGF0YS5jYXJvdXNlbElkID0gcGFyZW50Py5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmltYWdlQ2xhc3NlcyA9IGNsYXNzTWFwcGluZ3MuZ2V0KFwiY2Fyb3VzZWwtaW1hZ2VcIik7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleENvbnRhaW5lclN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignY2Fyb3VzZWwtcGFuZWwuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IHsgZmxleENvbnRhaW5lclN1cHBvcnQgfSBmcm9tICcuLi9mbGV4LWNvbnRhaW5lci1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDZWxsQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdjZWxsJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5jb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhDb250YWluZXJTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2NlbGwuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgeyBFcnJvcnMsIEZpZWxkRXJyb3IgfSBmcm9tICcuLi9FcnJvcnMnO1xuaW1wb3J0IGdlbmVyYXRlSWQgZnJvbSAnLi4vdXRpbGl0aWVzL2dlbmVyYXRlLWlkJztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2xvc2VXb3JrZmxvd0V4ZWN1dGVkUGFuZWxCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2Nsb3NlLXdvcmtmbG93LWV4ZWN1dGVkLXBhbmVsJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblxuICAgICAgICBkYXRhLmVycm9ycyA9IG5ldyBFcnJvcnMoW1xuICAgICAgICAgICAgbmV3IEZpZWxkRXJyb3IoXCJ0aGlzXCIsIFwidXNlcm5hbWVcIiwgXCJcIiwgXCJJbnZhbGlkIHVzZXJuYW1lIHN1cHBsaWVkXCIpXG4gICAgICAgIF0pO1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLl9jc3JmID0gZ2VuZXJhdGVJZCgpO1xuICAgICAgICBkYXRhLndvcmtmbG93ID0gXCJ3b3JrZmxvdzoxXCI7XG4gICAgICAgIGRhdGEucHJpbmNpcGFsID0gXCJtcl91c2VybmFtZVwiO1xuXG4gICAgICAgIGRhdGEuY2xvc2VPbmNsaWNrID0gXCJhbGVydCgnY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdjbG9zZS13b3JrZmxvdy1leGVjdXRlZC1wYW5lbC5mdGwnLCBkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IHsgdGV4dFN0eWxlU3VwcG9ydCB9IGZyb20gJy4uL3RleHQtc3R5bGUtc3VwcG9ydCc7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2x1bW5CaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2NvbHVtbic7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICB0ZXh0U3R5bGVTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzLCBjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2NvbHVtbi5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgeyBFcnJvcnMsIEZpZWxkRXJyb3IgfSBmcm9tICcuLi9FcnJvcnMnO1xuaW1wb3J0IGdlbmVyYXRlSWQgZnJvbSAnLi4vdXRpbGl0aWVzL2dlbmVyYXRlLWlkJztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29uZmlybVdvcmtmbG93UGFuZWxCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2NvbmZpcm0td29ya2Zsb3ctcGFuZWwnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGRhdGEuZXJyb3JzID0gbmV3IEVycm9ycyhbXG4gICAgICAgICAgICBuZXcgRmllbGRFcnJvcihcInRoaXNcIiwgXCJ1c2VybmFtZVwiLCBcIlwiLCBcIkludmFsaWQgdXNlcm5hbWUgc3VwcGxpZWRcIilcbiAgICAgICAgXSk7XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuX2NzcmYgPSBnZW5lcmF0ZUlkKCk7XG4gICAgICAgIGRhdGEud29ya2Zsb3cgPSBcIndvcmtmbG93OjFcIjtcbiAgICAgICAgZGF0YS5wcmluY2lwYWwgPSBcIm1yX3VzZXJuYW1lXCI7XG5cbiAgICAgICAgZGF0YS5jb25maXJtT25jbGljayA9IFwiYWxlcnQoJ2NsaWNrZWQnKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTtcIjtcbiAgICAgICAgZGF0YS5jYW5jZWxPbmNsaWNrID0gXCJhbGVydCgnY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdjb25maXJtLXdvcmtmbG93LXBhbmVsLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5pbXBvcnQgeyB0ZXh0U3R5bGVTdXBwb3J0IH0gZnJvbSAnLi4vdGV4dC1zdHlsZS1zdXBwb3J0JztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29uZmlybWF0aW9uUGFuZWxCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2NvbmZpcm1hdGlvbi1wYW5lbCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuX2NzcmYgPSBnZW5lcmF0ZUlkKCk7XG5cbiAgICAgICAgZGF0YS5zdWJtaXRPbmNsaWNrID0gXCJhbGVydCgnY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuICAgICAgICBkYXRhLmNhbmNlbE9uY2xpY2sgPSBcImFsZXJ0KCdjbGlja2VkJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCI7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgdGV4dFN0eWxlU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcywgY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdjb25maXJtYXRpb24tcGFuZWwuZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IGdlbmVyYXRlSWQgZnJvbSAnLi4vdXRpbGl0aWVzL2dlbmVyYXRlLWlkJztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29va2llQ29uc2VudEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnY29va2llLWNvbnNlbnQnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLl9jc3JmID0gZ2VuZXJhdGVJZCgpO1xuICAgICAgICBkYXRhLmFsbG93Q29va2llc09uY2xpY2sgPSBcImFsZXJ0KCdjbGlja2VkJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCI7XG4gICAgICAgIGRhdGEucHJpdmFjeVBvbGljeU9uY2xpY2sgPSBcImFsZXJ0KCdjbGlja2VkJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCI7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2Nvb2tpZS1jb25zZW50LmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCB7IGZsZXhDb250YWluZXJTdXBwb3J0IH0gZnJvbSAnLi4vZmxleC1jb250YWluZXItc3VwcG9ydCc7XG5cbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaXZCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2Rpdic7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdkaXYuZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCB7IGZsZXhDb250YWluZXJTdXBwb3J0IH0gZnJvbSAnLi4vZmxleC1jb250YWluZXItc3VwcG9ydCc7XG5cbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW1haWxCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2VtYWlsJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblxuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleENvbnRhaW5lclN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignZW1haWwuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgeyB0ZXh0U3R5bGVTdXBwb3J0IH0gZnJvbSAnLi4vdGV4dC1zdHlsZS1zdXBwb3J0JztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW1haWxDb25maXJtYXRpb25MaW5rQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdlbWFpbC1jb25maXJtYXRpb24tbGluayc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuY29udGVudCA9IGVsZW1lbnQuYXR0cmlidXRlcy5sYWJlbDtcbiAgICAgICAgZGF0YS5saW5rID0gJ2phdmFzY3JpcHQ6YWxlcnQoJnF1b3Q7bGluayB3YXMgY2xpY2tlZCZxdW90Oyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7JztcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICB0ZXh0U3R5bGVTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzLCBjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2VtYWlsLWNvbmZpcm1hdGlvbi1saW5rLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQsIGlzRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IHsgU3Vic3RpdHV0aW9ucyB9IGZyb20gJy4uL1N1YnN0aXR1dGlvbnMnO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudW1lcmF0aW9uSW5wdXRCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2VudW1lcmF0aW9uLWlucHV0JztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUsIHN1YnN0aXR1dGlvbnM6IFN1YnN0aXR1dGlvbnMsIHBhcmVudDogRWxlbWVudCB8IHVuZGVmaW5lZCk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLnZhbHVlID0gXCJcIjtcbiAgICAgICAgZGF0YS5kaXNhYmxlZCA9IG51bGw7XG4gICAgICAgIGRhdGEubGFiZWwgPSBlbGVtZW50LmF0dHJpYnV0ZXMubGFiZWw7XG4gICAgICAgIGRhdGEudHlwZSA9IGVsZW1lbnQuYXR0cmlidXRlcy50eXBlO1xuICAgICAgICBkYXRhLnJlZmVyZW5jZSA9IGVsZW1lbnQuYXR0cmlidXRlcy5yZWZlcmVuY2U7XG4gICAgICAgIGRhdGEuc2l6ZSA9IGVsZW1lbnQuYXR0cmlidXRlcy5zaXplO1xuICAgICAgICBkYXRhLnN0eWxlID0gZWxlbWVudC5hdHRyaWJ1dGVzLnN0eWxlO1xuICAgICAgICBkYXRhLmNhcmRpbmFsaXR5ID0gZWxlbWVudC5hdHRyaWJ1dGVzLmNhcmRpbmFsaXR5O1xuXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IGVsZW1lbnQuY2hpbGRyZW5cbiAgICAgICAgICAgIC5maWx0ZXIobiA9PiBpc0VsZW1lbnQobikpXG4gICAgICAgICAgICAubWFwKG4gPT4gKG4gYXMgRWxlbWVudCkpXG4gICAgICAgICAgICAuZmlsdGVyKG4gPT4gbi5uYW1lID09PSAndmFsdWUnKTtcblxuICAgICAgICBpZiAoZWxlbWVudC5hdHRyaWJ1dGVzLmNhcmRpbmFsaXR5ID09PSAnTVVMVElQTEVfU0VMRUNUJykge1xuICAgICAgICAgICAgZGF0YS52YWx1ZSA9IHZhbHVlc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIobiA9PiBuLmF0dHJpYnV0ZXMuZGVmYXVsdCA9PT0gJ3RydWUnKVxuICAgICAgICAgICAgICAgIC5tYXAobiA9PiBuLmF0dHJpYnV0ZXMua2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGEudmFsdWUgPSB2YWx1ZXNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKG4gPT4gbi5hdHRyaWJ1dGVzLmRlZmF1bHQgPT09ICd0cnVlJylcbiAgICAgICAgICAgICAgICAubWFwKG4gPT4gbi5hdHRyaWJ1dGVzLmtleSlcbiAgICAgICAgICAgICAgICAuZmluZChuID0+IHRydWUpIHx8IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLnBhbmVscyA9IHZhbHVlcy5maW5kKG4gPT4gbi5hdHRyaWJ1dGVzLnBhbmVsID09PSAndHJ1ZScpO1xuXG4gICAgICAgIGRhdGEudmFsdWVzID0gdmFsdWVzLm1hcCh2YWx1ZSA9PiAoe1xuICAgICAgICAgICAga2V5OiB2YWx1ZS5hdHRyaWJ1dGVzLmtleSxcbiAgICAgICAgICAgIGxhYmVsOiB2YWx1ZS5hdHRyaWJ1dGVzLmxhYmVsLFxuICAgICAgICAgICAgcGFuZWw6IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJFbGVtZW50KHZhbHVlLCBlbGVtZW50KVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgZGF0YS5lcnJvciA9IG5ldyBFcnJvcihcInNvbWUgZXJyb3IgbWVzc2FnZVwiKTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignZW51bWVyYXRpb24taW5wdXQuZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgRXJyb3JzIH0gZnJvbSAnLi4vRXJyb3JzJztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXJyb3JTdW1tYXJ5QmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdlcnJvci1zdW1tYXJ5JztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5lcnJvcnMgPSBuZXcgRXJyb3JzKCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2Vycm9yLXN1bW1hcnkuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBTdG9yZSBmcm9tICcuLi9zdG9yZS9TdG9yZSc7XG5pbXBvcnQgTWVzc2FnZSBmcm9tICcuLi9zdG9yZS9NZXNzYWdlJztcbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFrZU1lc3NhZ2VCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2Zha2UtbWVzc2FnZSc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBTdG9yZS5hZGRNZXNzYWdlKG5ldyBNZXNzYWdlKFxuICAgICAgICAgICAgZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmRhdGVUaW1lLFxuICAgICAgICAgICAgZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmthc2VJZCxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy53aXphcmRJZCxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy53b3JrZmxvd0lkLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmdyb3VwLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLnF1ZXVlLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLnByaW5jaXBhbCxcbiAgICAgICAgICAgIGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICAgIG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gICAgICAgICkpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IFN0b3JlIGZyb20gJy4uL3N0b3JlL1N0b3JlJztcbmltcG9ydCBQYWdlIGZyb20gJy4uL3N0b3JlL1BhZ2UnO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGYWtlUGFnZUJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnZmFrZS1wYWdlJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIFN0b3JlLmFkZFBhZ2UobmV3IFBhZ2UoXG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMubmFtZSxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy52ZXJzaW9uLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmdyb3VwLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLnRpdGxlLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmRlc2NyaXB0aW9uLFxuICAgICAgICApKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgU3RvcmUgZnJvbSAnLi4vc3RvcmUvU3RvcmUnO1xuaW1wb3J0IFF1ZXVlIGZyb20gJy4uL3N0b3JlL1F1ZXVlJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGYWtlUXVldWVCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2Zha2UtcXVldWUnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgU3RvcmUuYWRkUXVldWUobmV3IFF1ZXVlKFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLm5hbWUsXG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMudGl0bGUsXG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMuZGVzY3JpcHRpb25cbiAgICAgICAgKSk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCBTdG9yZSBmcm9tICcuLi9zdG9yZS9TdG9yZSc7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGYWtlU3RvcmVCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2Zha2Utc3RvcmUnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgU3RvcmUuY2xlYXIoKTtcbiAgICAgICAgU3RvcmUuc2V0VGVzdENvbnRleHQoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgU3RvcmUgZnJvbSAnLi4vc3RvcmUvU3RvcmUnO1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vc3RvcmUvVXNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFrZVVzZXJCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2Zha2UtdXNlcic7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBTdG9yZS5hZGRVc2VyKG5ldyBVc2VyKFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLnVzZXJuYW1lLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLnRpdGxlLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmZpcnN0TmFtZSxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5sYXN0TmFtZSxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5lbWFpbCxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5jb250YWN0TnVtYmVyLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmRhdGVPZkJpcnRoLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLnRpbWV6b25lLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmdyb3Vwcy5zcGxpdChcIjpcIikuZmlsdGVyKGdycCA9PiBncnAudHJpbSgpLmxlbmd0aCksXG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMudXNlckRhdGEsXG4gICAgICAgICkpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBTdG9yZSBmcm9tICcuLi9zdG9yZS9TdG9yZSc7XG5pbXBvcnQgV2l6YXJkIGZyb20gJy4uL3N0b3JlL1dpemFyZCc7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFrZVdpemFyZEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnZmFrZS13aXphcmQnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgU3RvcmUuYWRkV2l6YXJkKG5ldyBXaXphcmQoXG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMubmFtZSxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy52ZXJzaW9uLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLnRpdGxlLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmFjdGl2ZSA9PT0gXCJ0cnVlXCIsXG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMucmVsZWFzZWQgPT09IFwidHJ1ZVwiLFxuICAgICAgICApKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgU3RvcmUgZnJvbSAnLi4vc3RvcmUvU3RvcmUnO1xuaW1wb3J0IFdvcmtmbG93IGZyb20gJy4uL3N0b3JlL1dvcmtmbG93JztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGYWtlV29ya2Zsb3dCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2Zha2Utd29ya2Zsb3cnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgU3RvcmUuYWRkV29ya2Zsb3cobmV3IFdvcmtmbG93KFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLm5hbWUsXG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMudmVyc2lvbixcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5ncm91cCxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy50aXRsZSxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5kZXNjcmlwdGlvbixcbiAgICAgICAgKSk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgeyBmbGV4Q29udGFpbmVyU3VwcG9ydCB9IGZyb20gJy4uL2ZsZXgtY29udGFpbmVyLXN1cHBvcnQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1CaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2Zvcm0nO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdmb3JtLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9yaXpvbnRhbFJ1bGVCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2hvcml6b250YWwtcnVsZSc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2hvcml6b250YWwtcnVsZS5mdGwnLCB7fSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEljb25CaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2ljb24nO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLm5hbWUgPSBlbGVtZW50LmF0dHJpYnV0ZXMubmFtZTtcbiAgICAgICAgZGF0YS5zaXplID0gZWxlbWVudC5hdHRyaWJ1dGVzLnNpemU7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgY2xhc3NNYW5hZ2VyLmFwcGVuZChlbGVtZW50LmF0dHJpYnV0ZXMuZmxhdm91ciwgJ2ljb24tJywgJ2ljb24tZGVmYXVsdCcpO1xuICAgICAgICBjbGFzc01hbmFnZXIuYXBwZW5kKGVsZW1lbnQuYXR0cmlidXRlcy5zaXplLCAnaWNvbi1zaXplLScsICdpY29uLXNpemUtbWVkaXVtJyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdpY29uLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZUJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnaW1hZ2UnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblxuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLnNyYyA9IFwiL3B1YmxpYy9pbWcvXCIgKyBlbGVtZW50LmF0dHJpYnV0ZXMuc3JjO1xuICAgICAgICBkYXRhLmFsdCA9IGVsZW1lbnQuYXR0cmlidXRlc1snYWx0J10gfHwgJyc7XG5cblxuICAgICAgICBsZXQgaW1hZ2VTdHlsZXMgPSAnJztcbiAgICAgICAgaWYgKCdpbWFnZUhlaWdodCcgaW4gZWxlbWVudC5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpbWFnZVN0eWxlcyArPSAnaGVpZ2h0OiAnICsgZWxlbWVudC5hdHRyaWJ1dGVzWydpbWFnZUhlaWdodCddICsgJzsgJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgnaW1hZ2VXaWR0aCcgaW4gZWxlbWVudC5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpbWFnZVN0eWxlcyArPSAnd2lkdGg6ICcgKyBlbGVtZW50LmF0dHJpYnV0ZXNbJ2ltYWdlV2lkdGgnXSArICc7ICc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ3BhZGRpbmcnIGluIGVsZW1lbnQuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgaW1hZ2VTdHlsZXMgKz0gJ3BhZGRpbmc6ICcgKyBlbGVtZW50LmF0dHJpYnV0ZXNbJ3BhZGRpbmcnXSArICc7ICc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ21hcmdpbicgaW4gZWxlbWVudC5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpbWFnZVN0eWxlcyArPSAnbWFyZ2luOiAnICsgZWxlbWVudC5hdHRyaWJ1dGVzWydtYXJnaW4nXSArICc7ICc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ2JvcmRlcicgaW4gZWxlbWVudC5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpbWFnZVN0eWxlcyArPSAnYm9yZGVyOiAnICsgZWxlbWVudC5hdHRyaWJ1dGVzWydib3JkZXInXSArICc7ICc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ2JvcmRlclJhZGl1cycgaW4gZWxlbWVudC5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpbWFnZVN0eWxlcyArPSAnYm9yZGVyLXJhZGl1czogJyArIGVsZW1lbnQuYXR0cmlidXRlcy5ib3JkZXJSYWRpdXMgKyAnOyAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCdvYmplY3RGaXQnIGluIGVsZW1lbnQuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgaW1hZ2VTdHlsZXMgKz0gJ29iamVjdC1maXQ6ICcgKyBlbGVtZW50LmF0dHJpYnV0ZXMub2JqZWN0Rml0ICsgJzsgJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgnb2JqZWN0LXBvc2l0aW9uJyBpbiBlbGVtZW50LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGltYWdlU3R5bGVzICs9ICdvYmplY3QtcG9zaXRpb246ICcgKyBlbGVtZW50LmF0dHJpYnV0ZXMub2JqZWN0UG9zaXRpb24gKyAnOyAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCdvcGFjaXR5JyBpbiBlbGVtZW50LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGltYWdlU3R5bGVzICs9ICdvcGFjaXR5OiAnICsgZWxlbWVudC5hdHRyaWJ1dGVzWydvcGFjaXR5J10gKyAnOyAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCdiYWNrZ3JvdW5kJyBpbiBlbGVtZW50LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGltYWdlU3R5bGVzICs9ICdiYWNrZ3JvdW5kOiAnICsgZWxlbWVudC5hdHRyaWJ1dGVzWydiYWNrZ3JvdW5kJ10gKyAnOyAnO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEuaW1hZ2VTdHlsZXMgPSBpbWFnZVN0eWxlcztcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignaW1hZ2UuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCB7IHRleHRTdHlsZVN1cHBvcnQgfSBmcm9tICcuLi90ZXh0LXN0eWxlLXN1cHBvcnQnO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcblxuaW1wb3J0IGdlbmVyYXRlSWQgZnJvbSAnLi4vdXRpbGl0aWVzL2dlbmVyYXRlLWlkJztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCB7IFN1YnN0aXR1dGlvbnMgfSBmcm9tICcuLi9TdWJzdGl0dXRpb25zJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5pdGlhdGVXb3JrZmxvd0J1dHRvbkJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnaW5pdGlhdGUtd29ya2Zsb3ctYnV0dG9uJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUsIHN1YnN0aXR1dGlvbnM6IFN1YnN0aXR1dGlvbnMsIHBhcmVudDogRWxlbWVudCB8IHVuZGVmaW5lZCk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLl9jc3JmID0gZ2VuZXJhdGVJZCgpO1xuICAgICAgICBkYXRhLnNpemUgPSBlbGVtZW50LmF0dHJpYnV0ZXMuc2l6ZTtcbiAgICAgICAgZGF0YS5kaXNhYmxlZCA9IG51bGw7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcbiAgICAgICAgZGF0YS5vbmNsaWNrID0gXCJhbGVydCgnY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuICAgICAgICBkYXRhLnNob3dDYXNlUHJpbmNpcGFsUGlja2VyID0gZWxlbWVudC5hdHRyaWJ1dGVzLnNob3dDYXNlUHJpbmNpcGFsUGlja2VyID09PSBcInRydWVcIjtcbiAgICAgICAgZGF0YS53b3JrZmxvdyA9IGVsZW1lbnQuYXR0cmlidXRlcy53b3JrZmxvdztcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBjbGFzc01hbmFnZXIuYXBwZW5kKGVsZW1lbnQuYXR0cmlidXRlcy5idXR0b25GbGF2b3VyLCAnYnRuLScsICdidG4tZGVmYXVsdCcpO1xuICAgICAgICBjbGFzc01hbmFnZXIuYXBwZW5kKGVsZW1lbnQuYXR0cmlidXRlcy5zaXplLCAnYnRuLScsICcnKTtcbiAgICAgICAgdGV4dFN0eWxlU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcywgY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdpbml0aWF0ZS13b3JrZmxvdy1idXR0b24uZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCB7IHRleHRTdHlsZVN1cHBvcnQgfSBmcm9tICcuLi90ZXh0LXN0eWxlLXN1cHBvcnQnO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnB1dEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnaW5wdXQnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLnZhbHVlID0gXCJcIjtcbiAgICAgICAgZGF0YS5kaXNhYmxlZCA9IG51bGw7XG4gICAgICAgIGRhdGEubGFiZWwgPSBlbGVtZW50LmF0dHJpYnV0ZXMubGFiZWw7XG4gICAgICAgIGRhdGEudHlwZSA9IGVsZW1lbnQuYXR0cmlidXRlcy50eXBlO1xuICAgICAgICBkYXRhLnJlZmVyZW5jZSA9IGVsZW1lbnQuYXR0cmlidXRlcy5yZWZlcmVuY2U7XG4gICAgICAgIGRhdGEubWluID0gZWxlbWVudC5hdHRyaWJ1dGVzLm1pbjtcbiAgICAgICAgZGF0YS5tYXggPSBlbGVtZW50LmF0dHJpYnV0ZXMubWF4O1xuICAgICAgICBkYXRhLmNvbHMgPSBlbGVtZW50LmF0dHJpYnV0ZXMuY29scztcbiAgICAgICAgZGF0YS5yb3dzID0gZWxlbWVudC5hdHRyaWJ1dGVzLnJvd3M7XG4gICAgICAgIGRhdGEuc2l6ZSA9IGVsZW1lbnQuYXR0cmlidXRlcy5zaXplO1xuICAgICAgICBkYXRhLm1heExlbmd0aCA9IGVsZW1lbnQuYXR0cmlidXRlcy5tYXhMZW5ndGg7XG4gICAgICAgIGRhdGEuY3VycmVuY3lTeW1ib2wgPSBlbGVtZW50LmF0dHJpYnV0ZXMudHlwZSA9PT0gJ0NVUlJFTkNZJyA/ICfCoycgOiBudWxsO1xuICAgICAgICBkYXRhLmVycm9yID0gbmV3IEVycm9yKFwic29tZSBlcnJvciBtZXNzYWdlXCIpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIHRleHRTdHlsZVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMsIGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignaW5wdXQuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgeyBmbGV4Q29udGFpbmVyU3VwcG9ydCB9IGZyb20gJy4uL2ZsZXgtY29udGFpbmVyLXN1cHBvcnQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluc2V0VGV4dEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnaW5zZXQtdGV4dCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgY2xhc3NNYW5hZ2VyLmFwcGVuZChlbGVtZW50LmF0dHJpYnV0ZXMuZmxhdm91ciwgJ2luc2V0LXRleHQtJywgJ2luc2V0LXRleHQtZGVmYXVsdCcpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdpbnNldC10ZXh0LmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgZmxleENvbnRhaW5lclN1cHBvcnQgfSBmcm9tICcuLi9mbGV4LWNvbnRhaW5lci1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBKdW1ib3Ryb25CaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2p1bWJvdHJvbic7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdqdW1ib3Ryb24uZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgdGV4dFN0eWxlU3VwcG9ydCB9IGZyb20gJy4uL3RleHQtc3R5bGUtc3VwcG9ydCc7XG5cbmltcG9ydCBTdG9yZSBmcm9tICcuLi9zdG9yZS9TdG9yZSc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpbmtCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2xpbmsnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5jb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIHRleHRTdHlsZVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMsIGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICBpZiAoU3RvcmUuaXNUZXN0Q29udGV4dCgpKSB7XG4gICAgICAgICAgICBkYXRhLmxpbmsgPSAnamF2YXNjcmlwdDphbGVydCgmcXVvdDtsaW5rIHdhcyBjbGlja2VkJnF1b3Q7KTsgZXZlbnQucHJldmVudERlZmF1bHQoKTsnO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5hdHRyaWJ1dGVzLnZpZXcpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmxpbmsgPSBcIi9cIiArIGVsZW1lbnQuYXR0cmlidXRlcy52aWV3O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhLmxpbmsgPSBlbGVtZW50LmF0dHJpYnV0ZXMudXJsO1xuICAgICAgICAgICAgICAgIGRhdGEucmVsID0gXCJub3JlZmVycmVyIG5vb3BlbmVyXCI7XG4gICAgICAgICAgICAgICAgZGF0YS50YXJnZXQgPSBlbGVtZW50LmF0dHJpYnV0ZXMub3Blbk5ld1dpbmRvdyA/IFwiX2JsYW5rXCIgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdsaW5rLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaXN0QmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdsaXN0JztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEubGlzdFN0eWxlID0gZWxlbWVudC5hdHRyaWJ1dGVzLmxpc3RTdHlsZSB8fCBcIkJVTExFVFwiO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2xpc3QuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IHsgZmxleENvbnRhaW5lclN1cHBvcnQgfSBmcm9tICcuLi9mbGV4LWNvbnRhaW5lci1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaXN0SXRlbUJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnbGlzdC1pdGVtJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5saXN0U3R5bGUgPSBlbGVtZW50LmF0dHJpYnV0ZXMubGlzdFN0eWxlIHx8IFwiQlVMTEVUXCI7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdsaXN0LWl0ZW0uZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgRXJyb3JzLCBGaWVsZEVycm9yIH0gZnJvbSAnLi4vRXJyb3JzJztcbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9naW5QYW5lbEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnbG9naW4tcGFuZWwnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGRhdGEuZXJyb3JzID0gbmV3IEVycm9ycyhbXG4gICAgICAgICAgICBuZXcgRmllbGRFcnJvcihcInRoaXNcIiwgXCJ1c2VybmFtZVwiLCBcIlwiLCBcIkludmFsaWQgdXNlcm5hbWUgc3VwcGxpZWRcIilcbiAgICAgICAgXSk7XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuX2NzcmYgPSBnZW5lcmF0ZUlkKCk7XG4gICAgICAgIGRhdGEuZW5hYmxlUmVnaXN0cmF0aW9uID0gdHJ1ZTtcbiAgICAgICAgZGF0YS5lbmFibGVQcml2YWN5UG9saWN5QWdyZWVtZW50T25Mb2dpbiA9IHRydWU7XG4gICAgICAgIGRhdGEucmVnaXN0ZXJPbmNsaWNrID0gXCJhbGVydCgnY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuICAgICAgICBkYXRhLmxvZ2luT25jbGljayA9IFwiYWxlcnQoJ2NsaWNrZWQnKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTtcIjtcbiAgICAgICAgZGF0YS5mb3Jnb3RQYXNzd29yZE9uY2xpY2sgPSBcImFsZXJ0KCdjbGlja2VkJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCI7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2xvZ2luLXBhbmVsLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgeyBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi4vU3Vic3RpdHV0aW9ucyc7XG5pbXBvcnQgeyBGcmVlbWFya2VyRXJyb3IgfSBmcm9tICcuLi9mcmVlbWFya2VyL0ZyZWVtYXJrZXJFcnJvcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5pbXBvcnQgeyBTdHJpbmdCdWZmZXIgfSBmcm9tICcuLi91dGlsaXRpZXMvU3RyaW5nQnVmZmVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9vcEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnbG9vcCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lLCBzdWJzdGl0dXRpb25zOiBTdWJzdGl0dXRpb25zKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBvdXRwdXQgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG5cblxuICAgICAgICBpZiAoZWxlbWVudC5hdHRyaWJ1dGVzLnJlZmVyZW5jZSBpbiBzdWJzdGl0dXRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCB2YWwgPSBzdWJzdGl0dXRpb25zW2VsZW1lbnQuYXR0cmlidXRlcy5yZWZlcmVuY2VdLnZhbHVlO1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRnJlZW1hcmtlckVycm9yKGBFeHBlY3RlZCBhcnJheSBmb3Igc3Vic3RpdHV0aW9uICR7ZWxlbWVudC5hdHRyaWJ1dGVzLnJlZmVyZW5jZX1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChjb25zdCB2IG9mIHZhbCkge1xuXG4gICAgICAgICAgICAgICAgc3Vic3RpdHV0aW9uc1snLiddID0geyB2YWx1ZTogdiB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgb3V0cHV0LmFwcGVuZChyZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdsb29wLmZ0bCcsIGRhdGEpKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRnJlZW1hcmtlckVycm9yKGBObyBzdWJzdGl0dXRpb24gZm91bmQgZm9yIHBsYW50YWluIGV4cHJlc3Npb24gJHtlbGVtZW50LmF0dHJpYnV0ZXMucmVmZXJlbmNlfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG91dHB1dC50b1N0cmluZygpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQsIGlzRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgZmxleENvbnRhaW5lclN1cHBvcnQgfSBmcm9tICcuLi9mbGV4LWNvbnRhaW5lci1zdXBwb3J0JztcbmltcG9ydCB7IFN0cmluZ0J1ZmZlciB9IGZyb20gJy4uL3V0aWxpdGllcy9TdHJpbmdCdWZmZXInO1xuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbnVCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ21lbnUnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBlbGVtZW50LmNoaWxkcmVuLmZpbHRlcihlbCA9PiBpc0VsZW1lbnQoZWwpKS5tYXAoZWwgPT4gZWwgYXMgRWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgbWVudUJyYW5kID0gY2hpbGRyZW4uZmluZChlbCA9PiBlbC5uYW1lID09PSAnbWVudS1icmFuZCcpO1xuICAgICAgICBsZXQgbWVudUJyYW5kQ29udGVudCA9IG1lbnVCcmFuZCA/IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJFbGVtZW50KG1lbnVCcmFuZCwgZWxlbWVudCkgOiBcIlwiO1xuXG4gICAgICAgIGNvbnN0IG1lbnVJdGVtcyA9IGNoaWxkcmVuLmZpbHRlcihlbCA9PiBlbC5uYW1lID09PSAnbWVudS1pdGVtJyB8fCBlbC5uYW1lID09PSAnc3ViLW1lbnUnKTtcblxuICAgICAgICBjb25zdCBjb250ZW50ID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG1lbnVJdGVtcykge1xuICAgICAgICAgICAgY29udGVudC5hcHBlbmQocmVuZGVyaW5nRW5naW5lLnJlbmRlckVsZW1lbnQoY2hpbGQsIGVsZW1lbnQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBleHBhbmQgPSBcIlwiO1xuXG4gICAgICAgIGlmIChlbGVtZW50LmF0dHJpYnV0ZXMuYXhpcyA9PT0gJ0hPUklaT05UQUwnKSB7XG4gICAgICAgICAgICBpZiAobWVudUl0ZW1zLmxlbmd0aCA+IDUpIHtcbiAgICAgICAgICAgICAgICBleHBhbmQgPSBcIm5hdmJhci1leHBhbmQtbGdcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWVudUl0ZW1zLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgICAgICAgICBleHBhbmQgPSBcIm5hdmJhci1leHBhbmQtbWRcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZXhwYW5kID0gXCJuYXZiYXItZXhwYW5kLXNtXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEubWVudUJyYW5kID0gbWVudUJyYW5kQ29udGVudDtcbiAgICAgICAgZGF0YS5heGlzID0gZWxlbWVudC5hdHRyaWJ1dGVzLmF4aXMgfHwgJ1ZFUlRJQ0FMJztcbiAgICAgICAgZGF0YS5jb250ZW50ID0gY29udGVudC50b1N0cmluZygpO1xuICAgICAgICBkYXRhLmV4cGFuZCA9IGV4cGFuZDtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdtZW51LmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IHsgdGV4dFN0eWxlU3VwcG9ydCB9IGZyb20gJy4uL3RleHQtc3R5bGUtc3VwcG9ydCc7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgeyBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi4vU3Vic3RpdHV0aW9ucyc7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbnVCcmFuZEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnbWVudS1icmFuZCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICB0ZXh0U3R5bGVTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzLCBjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ21lbnUtYnJhbmQuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCB7IHRleHRTdHlsZVN1cHBvcnQgfSBmcm9tICcuLi90ZXh0LXN0eWxlLXN1cHBvcnQnO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5cbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgeyBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi4vU3Vic3RpdHV0aW9ucyc7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbnVJdGVtQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdtZW51LWl0ZW0nO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSwgc3Vic3RpdHV0aW9uczogU3Vic3RpdHV0aW9ucywgcGFyZW50OiBFbGVtZW50IHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBpc0luU3ViTWVudSA9IHBhcmVudCEubmFtZSA9PT0gXCJzdWItbWVudVwiO1xuICAgICAgICBpZiAoaXNJblN1Yk1lbnUpIHtcbiAgICAgICAgICAgIHBhcmVudCEuYXR0cmlidXRlcy5oYXNDb250ZW50ID0gXCJ0cnVlXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5fY3NyZiA9IGdlbmVyYXRlSWQoKTtcbiAgICAgICAgZGF0YS50eXBlID0gZWxlbWVudC5hdHRyaWJ1dGVzLnR5cGU7XG4gICAgICAgIGRhdGEub25jbGljayA9IFwiYWxlcnQoJ2NsaWNrZWQnKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTtcIjtcbiAgICAgICAgZGF0YS5kaXNhYmxlZCA9IG51bGw7XG4gICAgICAgIGRhdGEud29ya2Zsb3cgPSBlbGVtZW50LmF0dHJpYnV0ZXMud29ya2Zsb3c7XG4gICAgICAgIGRhdGEubGluayA9IFwiI1wiO1xuICAgICAgICBkYXRhLmlzSW5TdWJNZW51ID0gaXNJblN1Yk1lbnU7XG4gICAgICAgIGRhdGEuc2hvd0Nhc2VQcmluY2lwYWxQaWNrZXIgPSBlbGVtZW50LmF0dHJpYnV0ZXMuc2hvd0Nhc2VQcmluY2lwYWxQaWNrZXIgPT09IFwidHJ1ZVwiO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGNsYXNzTWFuYWdlci5hcHBlbmQoZWxlbWVudC5hdHRyaWJ1dGVzLmZsYXZvdXIsICd0ZXh0LScsICd0ZXh0LWRlZmF1bHQnKTtcbiAgICAgICAgdGV4dFN0eWxlU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcywgY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdtZW51LWl0ZW0uZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCBTdG9yZSBmcm9tICcuLi9zdG9yZS9TdG9yZSc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc3NhZ2VFeHBsb3JlckJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnbWVzc2FnZS1leHBsb3Jlcic7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBTdG9yZS5nZXRNZXNzYWdlcygpLm1hcChtID0+IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IFt3aXphcmROYW1lLCB3aXphcmRWZXJzaW9uXSA9IG0uZ2V0V2l6YXJkSWQoKS5zcGxpdChcIjpcIik7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2l6YXJkID0gU3RvcmUuZ2V0V2l6YXJkcygpLmZpbmQodyA9PiB3LmdldE5hbWUoKSA9PT0gd2l6YXJkTmFtZSAmJiB3LmdldFZlcnNpb24oKSA9PT0gd2l6YXJkVmVyc2lvbik7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBbd29ya2Zsb3dHcm91cCwgd29ya2Zsb3dOYW1lLCB3b3JrZmxvd1ZlcnNpb25dID0gbS5nZXRXb3JrZmxvd0lkKCkuc3BsaXQoXCI6XCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmtmbG93ID0gU3RvcmUuZ2V0V29ya2Zsb3dzKCkuZmluZCh3ID0+IHcuZ2V0R3JvdXAoKSA9PT0gd29ya2Zsb3dHcm91cCAmJiB3LmdldE5hbWUoKSA9PT0gd29ya2Zsb3dOYW1lICYmIHcuZ2V0VmVyc2lvbigpID09PSB3b3JrZmxvd1ZlcnNpb24pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgd2lwSWQ6IG0uZ2V0V2lwSWQoKSxcbiAgICAgICAgICAgICAgICAgICAgd2l6YXJkSWQ6IG0uZ2V0V2l6YXJkSWQoKSxcbiAgICAgICAgICAgICAgICAgICAgd2l6YXJkVGl0bGU6IHdpemFyZD8uZ2V0VGl0bGUoKSxcbiAgICAgICAgICAgICAgICAgICAgd2l6YXJkRGVzY3JpcHRpb246IHdpemFyZD8uZ2V0RGVzY3JpcHRpb24oKSxcbiAgICAgICAgICAgICAgICAgICAgd29ya2Zsb3dJZDogbS5nZXRXb3JrZmxvd0lkKCksXG4gICAgICAgICAgICAgICAgICAgIHdvcmtmbG93VGl0bGU6IHdvcmtmbG93Py5nZXRUaXRsZSgpLFxuICAgICAgICAgICAgICAgICAgICB3b3JrZmxvd0Rlc2NyaXB0aW9uOiB3b3JrZmxvdz8uZ2V0RGVzY3JpcHRpb24oKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogbS5nZXREYXRlVGltZSgpLnN1YnN0cmluZygwLCAxMCksXG4gICAgICAgICAgICAgICAgICAgIGRhdGVUaW1lOiBtLmdldERhdGVUaW1lKCksXG4gICAgICAgICAgICAgICAgICAgIHByaW5jaXBhbDogbS5nZXRQcmluY2lwYWwoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5fY3NyZiA9IGdlbmVyYXRlSWQoKTtcbiAgICAgICAgZGF0YS5idXN0ID0gZ2VuZXJhdGVJZCgpO1xuICAgICAgICBkYXRhLm9uY2xpY2sgPSBcImFsZXJ0KCdjbGlja2VkJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCI7XG4gICAgICAgIGRhdGEudmFsdWVzID0gdmFsdWVzO1xuICAgICAgICBkYXRhLndpemFyZCA9IFwiXCI7XG4gICAgICAgIGRhdGEucXVldWUgPSBcIlwiO1xuICAgICAgICBkYXRhLndvcmtmbG93ID0gXCJcIjtcbiAgICAgICAgZGF0YS5wcmluY2lwYWwgPSBcIlwiO1xuICAgICAgICBkYXRhLmdyb3VwcyA9IFtcInB1YmxpYywgYXV0aGVudGljYXRlZFwiXTtcbiAgICAgICAgZGF0YS5zdGFydEluZGV4ID0gXCIwXCI7XG4gICAgICAgIGRhdGEuZW5kSW5kZXggPSBTdHJpbmcoTnVtYmVyLk1BWF9WQUxVRSk7XG5cbiAgICAgICAgZGF0YS53b3JrZmxvd3MgPSBTdG9yZS5nZXRXb3JrZmxvd3MoKS5tYXAodyA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlkOiB3LmdldEdyb3VwKCkgKyBcIjpcIiArIHcuZ2V0TmFtZSgpICsgXCI6XCIgKyB3LmdldFZlcnNpb24oKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogdy5nZXRUaXRsZSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgICBkYXRhLndpemFyZHMgPSBTdG9yZS5nZXRXaXphcmRzKCkubWFwKHcgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogdy5nZXROYW1lKCkgKyBcIjpcIiArIHcuZ2V0VmVyc2lvbigpLFxuICAgICAgICAgICAgICAgIHRpdGxlOiB3LmdldFRpdGxlKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRhdGEucXVldWVzID0gU3RvcmUuZ2V0UXVldWVzKCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ21lc3NhZ2UtZXhwbG9yZXIuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50LCBpc0VsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5cbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCB7IFN1YnN0aXR1dGlvbnMgfSBmcm9tICcuLi9TdWJzdGl0dXRpb25zJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaWxlU3RvbmVCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ21pbGUtc3RvbmUnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSwgc3Vic3RpdHV0aW9uczogU3Vic3RpdHV0aW9ucywgcGFyZW50OiBFbGVtZW50IHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBzdG9uZXMgPSBwYXJlbnQhLmNoaWxkcmVuXG4gICAgICAgICAgICAuZmlsdGVyKGVsID0+IGlzRWxlbWVudChlbCkpXG4gICAgICAgICAgICAubWFwKGVsID0+IGVsIGFzIEVsZW1lbnQpXG4gICAgICAgICAgICAuZmlsdGVyKGVsID0+IGVsLm5hbWUgPSBcIm1pbGUtc3RvbmVcIik7XG5cbiAgICAgICAgY29uc3QgdG90YWwgPSBzdG9uZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBpbmRleCA9IHN0b25lcy5maW5kSW5kZXgoZWwgPT4gZWwgPT09IGVsZW1lbnQpO1xuXG4gICAgICAgIGxldCB0YWcgPSBcIlwiO1xuICAgICAgICBpZiAocGFyZW50IS5hdHRyaWJ1dGVzLm1pbGVTdG9uZVN0eWxlID09PSBcIk5VTUJFUkVEXCIpIHtcbiAgICAgICAgICAgIHRhZyA9IFwiXCIgKyAoaW5kZXggKyAxKTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXJlbnQhLmF0dHJpYnV0ZXMubWlsZVN0b25lU3R5bGUgPT09IFwiUEVSQ0VOVFwiKSB7XG4gICAgICAgICAgICB0YWcgPSBcIlwiICsgTWF0aC5mbG9vcihpbmRleCAvIHRvdGFsICogMTAwKSArIFwiJVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmxhYmVsID0gZWxlbWVudC5hdHRyaWJ1dGVzLmxhYmVsO1xuICAgICAgICBkYXRhLmFjdGl2ZSA9IGVsZW1lbnQuYXR0cmlidXRlcy5hY3RpdmUgPT09IFwidHJ1ZVwiO1xuICAgICAgICBkYXRhLm1pbGVTdG9uZVN0eWxlID0gcGFyZW50IS5hdHRyaWJ1dGVzLm1pbGVTdG9uZVN0eWxlO1xuICAgICAgICBkYXRhLmxhYmVsU2lkZSA9IHBhcmVudCEuYXR0cmlidXRlcy5sYWJlbFNpZGU7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcbiAgICAgICAgZGF0YS50YWcgPSB0YWc7XG5cblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBjbGFzc01hbmFnZXIuYXBwZW5kKGVsZW1lbnQuYXR0cmlidXRlcy5taWxlU3RvbmVTdHlsZSwgJ21pbGVzdG9uZS1zdHlsZS0nLCAnJyk7XG4gICAgICAgIGNsYXNzTWFuYWdlci5hcHBlbmQoZWxlbWVudC5hdHRyaWJ1dGVzLmxhYmVsU2lkZSwgJ2xhYmVsLXNpZGUtJywgJycpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignbWlsZS1zdG9uZS5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgeyBmbGV4Q29udGFpbmVyU3VwcG9ydCB9IGZyb20gJy4uL2ZsZXgtY29udGFpbmVyLXN1cHBvcnQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGlmaWNhdGlvbkJhbm5lckJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnbm90aWZpY2F0aW9uLWJhbm5lcic7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEudGl0bGUgPSBlbGVtZW50LmF0dHJpYnV0ZXMudGl0bGU7XG4gICAgICAgIGRhdGEuZmxhdm91ciA9IGVsZW1lbnQuYXR0cmlidXRlcy5mbGF2b3VyO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgY2xhc3NNYW5hZ2VyLmFwcGVuZChlbGVtZW50LmF0dHJpYnV0ZXMuZmxhdm91ciwgJ25vdGlmaWNhdGlvbi1iYW5uZXItJywgJ25vdGlmaWNhdGlvbi1iYW5uZXItZGVmYXVsdCcpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdub3RpZmljYXRpb24tYmFubmVyLmZ0bCcsIGRhdGEpO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IHsgZmxleENvbnRhaW5lclN1cHBvcnQgfSBmcm9tICcuLi9mbGV4LWNvbnRhaW5lci1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdwYWdlJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblxuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleENvbnRhaW5lclN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcigncGFnZS5mdGwnLCBkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFyYWdyYXBoQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdwYXJhZ3JhcGgnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGRhdGEucGFyYWdyYXBoU3R5bGUgPSBlbGVtZW50LmF0dHJpYnV0ZXMucGFyYWdyYXBoU3R5bGUgfHwgJ1BMQUlOJztcbiAgICAgICAgZGF0YS5jb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdwYXJhZ3JhcGguZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgdGV4dFN0eWxlU3VwcG9ydCB9IGZyb20gJy4uL3RleHQtc3R5bGUtc3VwcG9ydCc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhc3N3b3JkUmVzZXRMaW5rQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdwYXNzd29yZC1yZXNldC1saW5rJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5jb250ZW50ID0gZWxlbWVudC5hdHRyaWJ1dGVzLmxhYmVsO1xuICAgICAgICBkYXRhLmxpbmsgPSAnamF2YXNjcmlwdDphbGVydCgmcXVvdDtsaW5rIHdhcyBjbGlja2VkJnF1b3Q7KTsgZXZlbnQucHJldmVudERlZmF1bHQoKTsnO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIHRleHRTdHlsZVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMsIGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcigncGFzc3dvcmQtcmVzZXQtbGluay5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50LCBpc0VsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9ncmVzc0JhckJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAncHJvZ3Jlc3MtYmFyJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IG1pbGVzdG9uZXMgPSBlbGVtZW50LmNoaWxkcmVuLmZpbHRlcihlbCA9PiBpc0VsZW1lbnQoZWwpKVxuICAgICAgICAgICAgLm1hcChlbCA9PiBlbCBhcyBFbGVtZW50KVxuICAgICAgICAgICAgLmZpbHRlcihlbCA9PiBlbC5uYW1lID09PSAnbWlsZS1zdG9uZScpO1xuXG4gICAgICAgIGlmIChtaWxlc3RvbmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgbWlsZXN0b25lc1swXS5hdHRyaWJ1dGVzLmFjdGl2ZSA9IFwidHJ1ZVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmF4aXMgPSBlbGVtZW50LmF0dHJpYnV0ZXMuYXhpcztcbiAgICAgICAgZGF0YS5zaXplID0gZWxlbWVudC5hdHRyaWJ1dGVzLnNpemU7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGNsYXNzTWFuYWdlci5hcHBlbmQoZWxlbWVudC5hdHRyaWJ1dGVzLmZsYXZvdXIsICdwcm9ncmVzcy1iYXItJywgJ3Byb2dyZXNzLWJhci1kZWZhdWx0Jyk7XG4gICAgICAgIGNsYXNzTWFuYWdlci5hcHBlbmQoZWxlbWVudC5hdHRyaWJ1dGVzLmF4aXMsICdwcm9ncmVzcy1iYXItYXhpcy0nLCAnJyk7XG4gICAgICAgIGNsYXNzTWFuYWdlci5hcHBlbmQoZWxlbWVudC5hdHRyaWJ1dGVzLmxhYmVsU2lkZSwgJ3Byb2dyZXNzLWJhci1sYWJlbC1zaWRlLScsICcnKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3Byb2dyZXNzLWJhci5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IHsgRXJyb3JzIH0gZnJvbSAnLi4vRXJyb3JzJztcbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVnaXN0ZXJQYW5lbEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAncmVnaXN0ZXItcGFuZWwnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGRhdGEuZXJyb3JzID0gbmV3IEVycm9ycyhbXSk7XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuX2NzcmYgPSBnZW5lcmF0ZUlkKCk7XG4gICAgICAgIGRhdGEudGltZXpvbmVzID0gW107XG4gICAgICAgIGRhdGEubmV4dE9uY2xpY2sgPSBcImFsZXJ0KCdjbGlja2VkJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCI7XG4gICAgICAgIGRhdGEubG9naW5PbmNsaWNrID0gXCJhbGVydCgnY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuICAgICAgICBkYXRhLmNhbmNlbE9uY2xpY2sgPSBcImFsZXJ0KCdjbGlja2VkJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCI7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3JlZ2lzdGVyLXBhbmVsLmZ0bCcsIGRhdGEpO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgZ2VuZXJhdGVJZCBmcm9tICcuLi91dGlsaXRpZXMvZ2VuZXJhdGUtaWQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc2V0UGFzc3dvcmRQYW5lbEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAncmVzZXQtcGFzc3dvcmQtcGFuZWwnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuX2NzcmYgPSBnZW5lcmF0ZUlkKCk7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcbiAgICAgICAgZGF0YS5uZXh0T25jbGljayA9IFwiYWxlcnQoJ2NsaWNrZWQnKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTtcIjtcbiAgICAgICAgZGF0YS5jYW5jZWxPbmNsaWNrID0gXCJhbGVydCgnY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdyZXNldC1wYXNzd29yZC1wYW5lbC5mdGwnLCBkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5cbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNldFBhc3N3b3JkUmVxdWVzdFBhbmVsQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdyZXNldC1wYXNzd29yZC1yZXF1ZXN0LXBhbmVsJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblxuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLl9jc3JmID0gZ2VuZXJhdGVJZCgpO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG4gICAgICAgIGRhdGEubmV4dE9uY2xpY2sgPSBcImFsZXJ0KCdOZXh0IGJ1dHRvbiBjbGlja2VkJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCI7XG4gICAgICAgIGRhdGEuY2FuY2VsT25jbGljayA9IFwiYWxlcnQoJ0NhbmNlbCBidXR0b24gY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdyZXNldC1wYXNzd29yZC1yZXF1ZXN0LXBhbmVsLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm93QmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdyb3cnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3Jvdy5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NhbGVCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ3NjYWxlJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG5cbiAgICAgICAgbGV0IHZhbHVlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGVsZW1lbnQuYXR0cmlidXRlcy5zY2FsZVR5cGUgPT09ICdOVU1FUklDQUwnKSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSBbXG4gICAgICAgICAgICAgICAgeyBrZXk6IFwiMVwiLCBsYWJlbDogXCIxXCIgfSxcbiAgICAgICAgICAgICAgICB7IGtleTogXCIyXCIsIGxhYmVsOiBcIjJcIiB9LFxuICAgICAgICAgICAgICAgIHsga2V5OiBcIjNcIiwgbGFiZWw6IFwiM1wiIH0sXG4gICAgICAgICAgICAgICAgeyBrZXk6IFwiNFwiLCBsYWJlbDogXCI0XCIgfSxcbiAgICAgICAgICAgICAgICB7IGtleTogXCI1XCIsIGxhYmVsOiBcIjVcIiB9LFxuICAgICAgICAgICAgICAgIHsga2V5OiBcIjZcIiwgbGFiZWw6IFwiNlwiIH0sXG4gICAgICAgICAgICAgICAgeyBrZXk6IFwiN1wiLCBsYWJlbDogXCI3XCIgfSxcbiAgICAgICAgICAgICAgICB7IGtleTogXCI4XCIsIGxhYmVsOiBcIjhcIiB9LFxuICAgICAgICAgICAgICAgIHsga2V5OiBcIjlcIiwgbGFiZWw6IFwiOVwiIH0sXG4gICAgICAgICAgICAgICAgeyBrZXk6IFwiMTBcIiwgbGFiZWw6IFwiMTBcIiB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmF0dHJpYnV0ZXMuc2NhbGVUeXBlID09PSAnTElLRVJUJykge1xuICAgICAgICAgICAgdmFsdWVzID0gW1xuICAgICAgICAgICAgICAgIHsga2V5OiBcInN0cm9uZ2x5LWRpc2FncmVlXCIsIGxhYmVsOiBcIlN0cm9uZ2x5IERpc2FncmVlXCIgfSxcbiAgICAgICAgICAgICAgICB7IGtleTogXCJkaXNhZ3JlZVwiLCBsYWJlbDogXCJEaXNhZ3JlZVwiIH0sXG4gICAgICAgICAgICAgICAgeyBrZXk6IFwibmV1dHJhbFwiLCBsYWJlbDogXCJOZXV0cmFsXCIgfSxcbiAgICAgICAgICAgICAgICB7IGtleTogXCJhZ3JlZVwiLCBsYWJlbDogXCJBZ3JlZVwiIH0sXG4gICAgICAgICAgICAgICAgeyBrZXk6IFwic3Ryb25nbHktYWdyZWVcIiwgbGFiZWw6IFwiU3Ryb25nbHkgQWdyZWVcIiB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmF0dHJpYnV0ZXMuc2NhbGVUeXBlID09PSAnRlJFUVVFTkNZJykge1xuICAgICAgICAgICAgdmFsdWVzID0gW1xuICAgICAgICAgICAgICAgIHsga2V5OiBcIm5ldmVyXCIsIGxhYmVsOiBcIk5ldmVyXCIgfSxcbiAgICAgICAgICAgICAgICB7IGtleTogXCJyYXJlbHlcIiwgbGFiZWw6IFwiUmFyZWx5XCIgfSxcbiAgICAgICAgICAgICAgICB7IGtleTogXCJzb21ldGltZXNcIiwgbGFiZWw6IFwiU29tZXRpbWVzXCIgfSxcbiAgICAgICAgICAgICAgICB7IGtleTogXCJvZnRlblwiLCBsYWJlbDogXCJPZnRlblwiIH0sXG4gICAgICAgICAgICAgICAgeyBrZXk6IFwidmVyeS1vZnRlblwiLCBsYWJlbDogXCJWZXJ5IE9mdGVuXCIgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5hdHRyaWJ1dGVzLnNjYWxlVHlwZSA9PT0gJ0RJQ0hPVE9NT1VTJykge1xuICAgICAgICAgICAgdmFsdWVzID0gW1xuICAgICAgICAgICAgICAgIHsga2V5OiBcInllc1wiLCBsYWJlbDogXCJZZXNcIiB9LFxuICAgICAgICAgICAgICAgIHsga2V5OiBcIm5vXCIsIGxhYmVsOiBcIk5vXCIgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmF0dHJpYnV0ZXMuc2NhbGVUeXBlID09PSAnQk9PTEVBTicpIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IFtcbiAgICAgICAgICAgICAgICB7IGtleTogXCJ0cnVlXCIsIGxhYmVsOiBcIlRydWVcIiB9LFxuICAgICAgICAgICAgICAgIHsga2V5OiBcImZhbHNlXCIsIGxhYmVsOiBcIkZhbHNlXCIgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5kaXNhYmxlZCA9IG51bGw7XG4gICAgICAgIGRhdGEubGFiZWwgPSBlbGVtZW50LmF0dHJpYnV0ZXMubGFiZWw7XG4gICAgICAgIGRhdGEuc2NhbGVUeXBlID0gZWxlbWVudC5hdHRyaWJ1dGVzLnNjYWxlVHlwZTtcbiAgICAgICAgZGF0YS5yZWZlcmVuY2UgPSBlbGVtZW50LmF0dHJpYnV0ZXMucmVmZXJlbmNlO1xuICAgICAgICBkYXRhLnNpemUgPSBlbGVtZW50LmF0dHJpYnV0ZXMuc2l6ZTtcbiAgICAgICAgZGF0YS52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICAgIGRhdGEudmFsdWUgPSBcIlwiO1xuICAgICAgICBkYXRhLmVycm9yID0gbmV3IEVycm9yKFwic29tZSBlcnJvciBtZXNzYWdlXCIpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdzY2FsZS5mdGwnLCBkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgeyBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi4vU3Vic3RpdHV0aW9ucyc7XG5pbXBvcnQgeyBGcmVlbWFya2VyRXJyb3IgfSBmcm9tICcuLi9mcmVlbWFya2VyL0ZyZWVtYXJrZXJFcnJvcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwYW5CaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ3NjcmlwdCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lLCBzdWJzdGl0dXRpb25zOiBTdWJzdGl0dXRpb25zLCBwYXJlbnQ6IEVsZW1lbnQgfCB1bmRlZmluZWQpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblxuICAgICAgICBpZiAoZWxlbWVudC5hdHRyaWJ1dGVzLnNjcmlwdCBpbiBzdWJzdGl0dXRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCB2YWwgPSBzdWJzdGl0dXRpb25zW2VsZW1lbnQuYXR0cmlidXRlcy5zY3JpcHRdLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRnJlZW1hcmtlckVycm9yKGBFeHBlY3RlZCBzdHJpbmcgZm9yIHN1YnN0aXR1dGlvbiAke2VsZW1lbnQuYXR0cmlidXRlcy5zY3JpcHR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLnRleHQgPSB2YWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRnJlZW1hcmtlckVycm9yKGBObyBzdWJzdGl0dXRpb24gZm91bmQgZm9yIHBsYW50YWluIGV4cHJlc3Npb24gJHtlbGVtZW50LmF0dHJpYnV0ZXMuc2NyaXB0fWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3NjcmlwdC5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuXG5pbXBvcnQgeyB0ZXh0U3R5bGVTdXBwb3J0IH0gZnJvbSAnLi4vdGV4dC1zdHlsZS1zdXBwb3J0JztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3BhbkJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnc3Bhbic7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG5cbiAgICAgICAgZGF0YS5wYXJhZ3JhcGhTdHlsZSA9IGVsZW1lbnQuYXR0cmlidXRlcy5wYXJhZ3JhcGhTdHlsZSB8fCAnUExBSU4nO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgdGV4dFN0eWxlU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcywgY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdzcGFuLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQsIGlzRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgZmxleENvbnRhaW5lclN1cHBvcnQgfSBmcm9tICcuLi9mbGV4LWNvbnRhaW5lci1zdXBwb3J0JztcbmltcG9ydCB7IFN0cmluZ0J1ZmZlciB9IGZyb20gJy4uL3V0aWxpdGllcy9TdHJpbmdCdWZmZXInO1xuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN1Yk1lbnVCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ3N1Yi1tZW51JztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW4uZmlsdGVyKGVsID0+IGlzRWxlbWVudChlbCkpLm1hcChlbCA9PiBlbCBhcyBFbGVtZW50KTtcblxuICAgICAgICBsZXQgbGFiZWwsIGNvbnRlbnQgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5uYW1lID09ICdzdWItbWVudS1sYWJlbCcpIHtcbiAgICAgICAgICAgICAgICBsYWJlbCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJFbGVtZW50KGNoaWxkLCBlbGVtZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmQocmVuZGVyaW5nRW5naW5lLnJlbmRlckVsZW1lbnQoY2hpbGQsIGVsZW1lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5jb250ZW50ID0gY29udGVudC50b1N0cmluZygpO1xuICAgICAgICBkYXRhLmhhc0NvbnRlbnQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaGFzQ29udGVudCA9PT0gXCJ0cnVlXCI7XG4gICAgICAgIGRhdGEubGFiZWwgPSBsYWJlbDtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdzdWItbWVudS5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCB7IHRleHRTdHlsZVN1cHBvcnQgfSBmcm9tICcuLi90ZXh0LXN0eWxlLXN1cHBvcnQnO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5cbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ViTWVudUxhYmVsQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdzdWItbWVudS1sYWJlbCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG5cbiAgICAgICAgZGF0YS5jb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGNsYXNzTWFuYWdlci5hcHBlbmQoZWxlbWVudC5hdHRyaWJ1dGVzLmZsYXZvdXIsICd0ZXh0LScsICd0ZXh0LWRlZmF1bHQnKTtcbiAgICAgICAgdGV4dFN0eWxlU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcywgY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdzdWItbWVudS1sYWJlbC5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50LCBpc0VsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgeyBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi4vU3Vic3RpdHV0aW9ucyc7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3dpdGNoQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdzd2l0Y2gnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSwgc3Vic3RpdHV0aW9uczogU3Vic3RpdHV0aW9ucyk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBlbGVtZW50LmNoaWxkcmVuLmZpbHRlcihlbCA9PiBpc0VsZW1lbnQoZWwpKS5tYXAoZWwgPT4gZWwgYXMgRWxlbWVudCk7XG5cbiAgICAgICAgbGV0IGZvdW5kID0gY2hpbGRyZW4uZmluZChlbCA9PiBlbC5uYW1lID09PSAnZGVmJyk7XG5cbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKGNoaWxkLmF0dHJpYnV0ZXMuY29uZGl0aW9uIGluIHN1YnN0aXR1dGlvbnMgJiYgc3Vic3RpdHV0aW9uc1tjaGlsZC5hdHRyaWJ1dGVzLmNvbmRpdGlvbl0udmFsdWUpIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGNoaWxkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICAgICAgZGF0YS5jb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGZvdW5kKTtcblxuICAgICAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3N3aXRjaC5mdGwnLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5cbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFibGVCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ3RhYmxlJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5zaXplID0gZWxlbWVudC5hdHRyaWJ1dGVzLnNpemU7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcigndGFibGUuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCB7IHRleHRTdHlsZVN1cHBvcnQgfSBmcm9tICcuLi90ZXh0LXN0eWxlLXN1cHBvcnQnO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaXRsZUJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAndGl0bGUnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuc2l6ZSA9IGVsZW1lbnQuYXR0cmlidXRlcy5zaXplO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgdGV4dFN0eWxlU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcywgY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCd0aXRsZS5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50LCBpc0VsZW1lbnQsIGlzVGV4dCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgU3RyaW5nQnVmZmVyIH0gZnJvbSAnLi4vdXRpbGl0aWVzL1N0cmluZ0J1ZmZlcic7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgeyBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi4vU3Vic3RpdHV0aW9ucyc7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9vbFRpcEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAndG9vbC10aXAnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSwgc3Vic3RpdHV0aW9uczogU3Vic3RpdHV0aW9ucywgcGFyZW50OiBFbGVtZW50IHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW4uZmlsdGVyKG5vZGUgPT4gIWlzVGV4dChub2RlKSk7XG5cbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG9vbCB0aXAgZWxlbWVudCBtdXN0IGhhdmUgb25seSAxIGNoaWxkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuWzBdIGFzIEVsZW1lbnQ7XG5cbiAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmFsaWduU2VsZiA9IGNoaWxkLmF0dHJpYnV0ZXMuYWxpZ25TZWxmO1xuICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMuZmxleEJhc2lzID0gY2hpbGQuYXR0cmlidXRlcy5mbGV4QmFzaXM7XG4gICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5mbGV4R3JvdyA9IGNoaWxkLmF0dHJpYnV0ZXMuZmxleEdyb3c7XG4gICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5mbGV4U2hyaW5rID0gY2hpbGQuYXR0cmlidXRlcy5mbGV4U2hyaW5rO1xuICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMuaGVpZ2h0ID0gY2hpbGQuYXR0cmlidXRlcy5oZWlnaHQ7XG4gICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy53aWR0aCA9IGNoaWxkLmF0dHJpYnV0ZXMud2lkdGg7XG4gICAgICAgIC8vIGVsZW1lbnQuYXR0cmlidXRlcy5wYWRkaW5nID0gY2hpbGQuYXR0cmlidXRlcy5wYWRkaW5nO1xuICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMubWFyZ2luID0gY2hpbGQuYXR0cmlidXRlcy5tYXJnaW47XG4gICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5iYWNrZ3JvdW5kRmxhdm91ciA9IGNoaWxkLmF0dHJpYnV0ZXMuYmFja2dyb3VuZEZsYXZvdXI7XG4gICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5ib3JkZXJSYWRpdXMgPSBjaGlsZC5hdHRyaWJ1dGVzLmJvcmRlclJhZGl1cztcblxuICAgICAgICBkZWxldGUgY2hpbGQuYXR0cmlidXRlcy5hbGlnblNlbGY7XG4gICAgICAgIGRlbGV0ZSBjaGlsZC5hdHRyaWJ1dGVzLmZsZXhCYXNpcztcbiAgICAgICAgZGVsZXRlIGNoaWxkLmF0dHJpYnV0ZXMuZmxleEdyb3c7XG4gICAgICAgIGRlbGV0ZSBjaGlsZC5hdHRyaWJ1dGVzLmZsZXhTaHJpbms7XG4gICAgICAgIGRlbGV0ZSBjaGlsZC5hdHRyaWJ1dGVzLmhlaWdodDtcbiAgICAgICAgZGVsZXRlIGNoaWxkLmF0dHJpYnV0ZXMud2lkdGg7XG4gICAgICAgIGRlbGV0ZSBjaGlsZC5hdHRyaWJ1dGVzLm1hcmdpbjtcblxuICAgICAgICBjb25zdCBvdXRwdXQgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgICAgIGVsZW1lbnQuY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICBpZiAoaXNUZXh0KGNoaWxkKSkge1xuICAgICAgICAgICAgICAgIG91dHB1dC5hcHBlbmQoY2hpbGQudGV4dCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQuYXBwZW5kKHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJFbGVtZW50KGNoaWxkLCBlbGVtZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5leHBvc2l0aW9uID0gZWxlbWVudC5hdHRyaWJ1dGVzLmV4cG9zaXRpb247XG5cbiAgICAgICAgZGF0YS5jb250ZW50ID0gb3V0cHV0LnRvU3RyaW5nKCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3Rvb2wtdGlwLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCwgaXNFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgZ2VuZXJhdGVJZCBmcm9tICcuLi91dGlsaXRpZXMvZ2VuZXJhdGUtaWQnO1xuaW1wb3J0IFN0b3JlIGZyb20gJy4uL3N0b3JlL1N0b3JlJztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJheUJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAndHJheSc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW4uZmlsdGVyKGVsID0+IGlzRWxlbWVudChlbCkpLm1hcChlbCA9PiBlbCBhcyBFbGVtZW50KTtcblxuICAgICAgICBjb25zdCB0cmF5SGVhZGVyID0gY2hpbGRyZW4uZmluZChlbCA9PiBlbC5uYW1lID09PSBcInRyYXktaGVhZGVyXCIpO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFN0b3JlLmdldE1lc3NhZ2VzKCkubWFwKG0gPT4ge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgW3dpemFyZE5hbWUsIHdpemFyZFZlcnNpb25dID0gbS5nZXRXaXphcmRJZCgpLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCB3aXphcmQgPSBTdG9yZS5nZXRXaXphcmRzKCkuZmluZCh3ID0+IHcuZ2V0TmFtZSgpID09PSB3aXphcmROYW1lICYmIHcuZ2V0VmVyc2lvbigpID09PSB3aXphcmRWZXJzaW9uKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IFt3b3JrZmxvd0dyb3VwLCB3b3JrZmxvd05hbWUsIHdvcmtmbG93VmVyc2lvbl0gPSBtLmdldFdvcmtmbG93SWQoKS5zcGxpdChcIjpcIik7XG4gICAgICAgICAgICAgICAgY29uc3Qgd29ya2Zsb3cgPSBTdG9yZS5nZXRXb3JrZmxvd3MoKS5maW5kKHcgPT4gdy5nZXRHcm91cCgpID09PSB3b3JrZmxvd0dyb3VwICYmIHcuZ2V0TmFtZSgpID09PSB3b3JrZmxvd05hbWUgJiYgdy5nZXRWZXJzaW9uKCkgPT09IHdvcmtmbG93VmVyc2lvbik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB3aXBJZDogbS5nZXRXaXBJZCgpLFxuICAgICAgICAgICAgICAgICAgICB3aXphcmRJZDogbS5nZXRXaXphcmRJZCgpLFxuICAgICAgICAgICAgICAgICAgICB3aXphcmRUaXRsZTogd2l6YXJkPy5nZXRUaXRsZSgpLFxuICAgICAgICAgICAgICAgICAgICB3aXphcmREZXNjcmlwdGlvbjogd2l6YXJkPy5nZXREZXNjcmlwdGlvbigpLFxuICAgICAgICAgICAgICAgICAgICB3b3JrZmxvd0lkOiBtLmdldFdvcmtmbG93SWQoKSxcbiAgICAgICAgICAgICAgICAgICAgd29ya2Zsb3dUaXRsZTogd29ya2Zsb3c/LmdldFRpdGxlKCksXG4gICAgICAgICAgICAgICAgICAgIHdvcmtmbG93RGVzY3JpcHRpb246IHdvcmtmbG93Py5nZXREZXNjcmlwdGlvbigpLFxuICAgICAgICAgICAgICAgICAgICBkYXRlOiBtLmdldERhdGVUaW1lKCkuc3Vic3RyaW5nKDAsIDEwKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0ZVRpbWU6IG0uZ2V0RGF0ZVRpbWUoKSxcbiAgICAgICAgICAgICAgICAgICAgcHJpbmNpcGFsOiBtLmdldFByaW5jaXBhbCgpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLl9jc3JmID0gZ2VuZXJhdGVJZCgpO1xuICAgICAgICBkYXRhLnRyYXlIZWFkZXIgPSB0cmF5SGVhZGVyID8gcmVuZGVyaW5nRW5naW5lLnJlbmRlckVsZW1lbnQodHJheUhlYWRlciwgZWxlbWVudCkgOiBcIlwiO1xuICAgICAgICBkYXRhLm9uY2xpY2sgPSBcImFsZXJ0KCdjbGlja2VkJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCI7XG4gICAgICAgIGRhdGEudmFsdWVzID0gdmFsdWVzO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCd0cmF5LmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IHsgdGV4dFN0eWxlU3VwcG9ydCB9IGZyb20gJy4uL3RleHQtc3R5bGUtc3VwcG9ydCc7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IHsgU3Vic3RpdHV0aW9ucyB9IGZyb20gJy4uL1N1YnN0aXR1dGlvbnMnO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmF5SGVhZGVyQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICd0cmF5LWhlYWRlcic7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lLCBzdWJzdGl0dXRpb25zOiBTdWJzdGl0dXRpb25zLCBwYXJlbnQ6IEVsZW1lbnQgfCB1bmRlZmluZWQpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5jb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIHRleHRTdHlsZVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMsIGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcigndHJheS1oZWFkZXIuZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCBTdG9yZSBmcm9tICcuLi9zdG9yZS9TdG9yZSc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJFeHBsb3JlckJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAndXNlci1leHBsb3Jlcic7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuX2NzcmYgPSBnZW5lcmF0ZUlkKCk7XG4gICAgICAgIGRhdGEuYnVzdCA9IGdlbmVyYXRlSWQoKTtcbiAgICAgICAgZGF0YS5vbmNsaWNrID0gXCJhbGVydCgnY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuICAgICAgICBkYXRhLnZhbHVlcyA9IFN0b3JlLmdldFVzZXJzKCk7XG4gICAgICAgIGRhdGEuZ3JvdXBzID0gU3RvcmUuZ2V0R3JvdXBzKCk7XG4gICAgICAgIGRhdGEuZ3JvdXAgPSBcIlwiO1xuICAgICAgICBkYXRhLndpemFyZCA9IFwiXCI7XG4gICAgICAgIGRhdGEud29ya2Zsb3cgPSBcIlwiO1xuICAgICAgICBkYXRhLnF1ZXVlID0gXCJcIjtcbiAgICAgICAgZGF0YS5wcmluY2lwYWwgPSBcIlwiO1xuICAgICAgICBkYXRhLnVzZXJuYW1lID0gXCJcIjtcbiAgICAgICAgZGF0YS5maXJzdE5hbWUgPSBcIlwiO1xuICAgICAgICBkYXRhLmxhc3ROYW1lID0gXCJcIjtcbiAgICAgICAgZGF0YS5leGVjdXRlV29ya2Zsb3cgPSBcIlwiO1xuICAgICAgICBkYXRhLm1lc3NhZ2VFeHBsb3Jlck1vZGUgPSBmYWxzZTtcbiAgICAgICAgZGF0YS5zdGFydEluZGV4ID0gXCJzdGFydEluZGV4XCI7XG4gICAgICAgIGRhdGEuZW5kSW5kZXggPSBcImVuZEluZGV4XCI7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3VzZXItZXhwbG9yZXIuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXVpZEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAndXVpZCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEucmVmZXJlbmNlID0gZWxlbWVudC5hdHRyaWJ1dGVzLnJlZmVyZW5jZTtcbiAgICAgICAgZGF0YS52YWx1ZSA9IGdlbmVyYXRlSWQoKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3V1aWQuZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCB7IGZsZXhDb250YWluZXJTdXBwb3J0IH0gZnJvbSAnLi4vZmxleC1jb250YWluZXItc3VwcG9ydCc7XG5cbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCB7IFN1YnN0aXR1dGlvbnMgfSBmcm9tICcuLi9TdWJzdGl0dXRpb25zJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWYWx1ZUJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAndmFsdWUnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSwgc3Vic3RpdHV0aW9uczogU3Vic3RpdHV0aW9ucywgcGFyZW50OiBFbGVtZW50IHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBwYXJlbnQhLmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEua2V5ID0gZWxlbWVudC5hdHRyaWJ1dGVzLmtleTtcbiAgICAgICAgZGF0YS5jb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhDb250YWluZXJTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCd2YWx1ZS1wYW5lbC5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgeyBmbGV4Q29udGFpbmVyU3VwcG9ydCB9IGZyb20gJy4uL2ZsZXgtY29udGFpbmVyLXN1cHBvcnQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2FybmluZ0JpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnd2FybmluZyc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCd3YXJuaW5nLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgZmxleENvbnRhaW5lclN1cHBvcnQgfSBmcm9tICcuLi9mbGV4LWNvbnRhaW5lci1zdXBwb3J0JztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2VsbEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnd2VsbCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgY2xhc3NNYW5hZ2VyLmFwcGVuZChlbGVtZW50LmF0dHJpYnV0ZXMuZmxhdm91ciwgJ3dlbGwtJywgJ3dlbGwtZGVmYXVsdCcpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCd3ZWxsLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdpemFyZFRlc3RSZXN1bHRzQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICd3aXphcmQtdGVzdC1yZXN1bHRzJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblxuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSBcInNvbWUgY29udGVudFwiO1xuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignd2l6YXJkLXRlc3QtcmVzdWx0cy5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IFRpdGxlQmluZGVyIGZyb20gJy4vVGl0bGVCaW5kZXInO1xuaW1wb3J0IFBhcmFncmFwaEJpbmRlciBmcm9tICcuL1BhcmFncmFwaEJpbmRlcic7XG5pbXBvcnQgRGl2QmluZGVyIGZyb20gJy4vRGl2QmluZGVyJztcbmltcG9ydCBMb2dpblBhbmVsQmluZGVyIGZyb20gJy4vTG9naW5QYW5lbEJpbmRlcic7XG5pbXBvcnQgUGFnZUJpbmRlciBmcm9tICcuL1BhZ2VCaW5kZXInO1xuaW1wb3J0IFdlbGxCaW5kZXIgZnJvbSAnLi9XZWxsQmluZGVyJztcbmltcG9ydCBVc2VyRXhwbG9yZXJCaW5kZXIgZnJvbSAnLi9Vc2VyRXhwbG9yZXJCaW5kZXInO1xuaW1wb3J0IEltYWdlQmluZGVyIGZyb20gJy4vSW1hZ2VCaW5kZXInO1xuaW1wb3J0IExpbmtCaW5kZXIgZnJvbSAnLi9MaW5rQmluZGVyJztcbmltcG9ydCBCYWNrTGlua0JpbmRlciBmcm9tICcuL0JhY2tMaW5rQmluZGVyJztcbmltcG9ydCBSZWdpc3RlclBhbmVsQmluZGVyIGZyb20gJy4vUmVnaXN0ZXJQYW5lbEJpbmRlcic7XG5pbXBvcnQgUmVzZXRQYXNzd29yZFJlcXVlc3RQYW5lbEJpbmRlciBmcm9tICcuL1Jlc2V0UGFzc3dvcmRSZXF1ZXN0UGFuZWxCaW5kZXInO1xuaW1wb3J0IFJlc2V0UGFzc3dvcmRQYW5lbEJpbmRlciBmcm9tICcuL1Jlc2V0UGFzc3dvcmRQYW5lbEJpbmRlcic7XG5pbXBvcnQgQWNjb3JkaW9uSXRlbUhlYWRlckJpbmRlciBmcm9tICcuL0FjY29yZGlvbkl0ZW1IZWFkZXJCaW5kZXInO1xuaW1wb3J0IEluc2V0VGV4dEJpbmRlciBmcm9tICcuL0luc2V0VGV4dEJpbmRlcic7XG5pbXBvcnQgQWNjb3JkaW9uSXRlbUJpbmRlciBmcm9tICcuL0FjY29yZGlvbkl0ZW1CaW5kZXInO1xuaW1wb3J0IFdhcm5pbmdCaW5kZXIgZnJvbSAnLi9XYXJuaW5nQmluZGVyJztcbmltcG9ydCBDb2x1bW5CaW5kZXIgZnJvbSAnLi9Db2x1bW5CaW5kZXInO1xuaW1wb3J0IFJvd0JpbmRlciBmcm9tICcuL1Jvd0JpbmRlcic7XG5pbXBvcnQgQ2VsbEJpbmRlciBmcm9tICcuL0NlbGxCaW5kZXInO1xuaW1wb3J0IFRhYmxlQmluZGVyIGZyb20gJy4vVGFibGVCaW5kZXInO1xuaW1wb3J0IEJhZGdlQmluZGVyIGZyb20gJy4vQmFkZ2VCaW5kZXInO1xuaW1wb3J0IEFjY29yZGlvbkJpbmRlciBmcm9tICcuL0FjY29yZGlvbkJpbmRlcic7XG5pbXBvcnQgQ2FyZEhlYWRlckJpbmRlciBmcm9tICcuL0NhcmRIZWFkZXJCaW5kZXInO1xuaW1wb3J0IENhcmRCb2R5QmluZGVyIGZyb20gJy4vQ2FyZEJvZHlCaW5kZXInO1xuaW1wb3J0IENhcmRGb290ZXJCaW5kZXIgZnJvbSAnLi9DYXJkRm9vdGVyQmluZGVyJztcbmltcG9ydCBDYXJkQmluZGVyIGZyb20gJy4vQ2FyZEJpbmRlcic7XG5pbXBvcnQgSWNvbkJpbmRlciBmcm9tICcuL0ljb25CaW5kZXInO1xuaW1wb3J0IFRvb2xUaXBCaW5kZXIgZnJvbSAnLi9Ub29sVGlwQmluZGVyJztcbmltcG9ydCBMaXN0SXRlbUJpbmRlciBmcm9tICcuL0xpc3RJdGVtQmluZGVyJztcbmltcG9ydCBMaXN0QmluZGVyIGZyb20gJy4vTGlzdEJpbmRlcic7XG5pbXBvcnQgQ29va2llQ29uc2VudEJpbmRlciBmcm9tICcuL0Nvb2tpZUNvbnNlbnRCaW5kZXInO1xuaW1wb3J0IEZha2VTdG9yZUJpbmRlciBmcm9tICcuL0Zha2VTdG9yZUJpbmRlcic7XG5pbXBvcnQgRXJyb3JTdW1tYXJ5QmluZGVyIGZyb20gJy4vRXJyb3JTdW1tYXJ5QmluZGVyJztcbmltcG9ydCBJbnB1dEJpbmRlciBmcm9tICcuL0lucHV0QmluZGVyJztcbmltcG9ydCBFbnVtZXJhdGlvbklucHV0QmluZGVyIGZyb20gJy4vRW51bWVyYXRpb25JbnB1dEJpbmRlcic7XG5pbXBvcnQgVmFsdWVCaW5kZXIgZnJvbSAnLi9WYWx1ZUJpbmRlcic7XG5pbXBvcnQgU2NhbGVCaW5kZXIgZnJvbSAnLi9TY2FsZUJpbmRlcic7XG5pbXBvcnQgQnV0dG9uQmluZGVyIGZyb20gJy4vQnV0dG9uQmluZGVyJztcbmltcG9ydCBKdW1ib3Ryb25CaW5kZXIgZnJvbSAnLi9KdW1ib3Ryb25CaW5kZXInO1xuaW1wb3J0IENhcm91c2VsQmluZGVyIGZyb20gJy4vQ2Fyb3VzZWxCaW5kZXInO1xuaW1wb3J0IENhcm91c2VsUGFuZWxCaW5kZXIgZnJvbSAnLi9DYXJvdXNlbFBhbmVsQmluZGVyJztcbmltcG9ydCBQcm9ncmVzc0JhckJpbmRlciBmcm9tICcuL1Byb2dyZXNzQmFyQmluZGVyJztcbmltcG9ydCBGb3JtQmluZGVyIGZyb20gJy4vRm9ybUJpbmRlcic7XG5pbXBvcnQgV2l6YXJkVGVzdFJlc3VsdHNCaW5kZXIgZnJvbSAnLi9XaXphcmRUZXN0UmVzdWx0c0JpbmRlcic7XG5pbXBvcnQgQ29uZmlybVdvcmtmbG93UGFuZWxCaW5kZXIgZnJvbSAnLi9Db25maXJtV29ya2Zsb3dQYW5lbEJpbmRlcic7XG5pbXBvcnQgQ2xvc2VXb3JrZmxvd0V4ZWN1dGVkUGFuZWxCaW5kZXIgZnJvbSAnLi9DbG9zZVdvcmtmbG93RXhlY3V0ZWRQYW5lbEJpbmRlcic7XG5pbXBvcnQgRmFrZVVzZXJCaW5kZXIgZnJvbSAnLi9GYWtlVXNlckJpbmRlcic7XG5pbXBvcnQgRmFrZU1lc3NhZ2VCaW5kZXIgZnJvbSAnLi9GYWtlTWVzc2FnZUJpbmRlcic7XG5pbXBvcnQgRmFrZVdpemFyZEJpbmRlciBmcm9tICcuL0Zha2VXaXphcmRCaW5kZXInO1xuaW1wb3J0IEZha2VXb3JrZmxvd0JpbmRlciBmcm9tICcuL0Zha2VXb3JrZmxvd0JpbmRlcic7XG5pbXBvcnQgTWlsZVN0b25lQmluZGVyIGZyb20gJy4vTWlsZVN0b25lQmluZGVyJztcbmltcG9ydCBGYWtlUGFnZUJpbmRlciBmcm9tICcuL0Zha2VQYWdlQmluZGVyJztcbmltcG9ydCBIb3Jpem9udGFsUnVsZUJpbmRlciBmcm9tICcuL0hvcml6b250YWxSdWxlQmluZGVyJztcbmltcG9ydCBJbml0aWF0ZVdvcmtmbG93QnV0dG9uQmluZGVyIGZyb20gJy4vSW5pdGlhdGVXb3JrZmxvd0J1dHRvbkJpbmRlcic7XG5pbXBvcnQgTWVudUJpbmRlciBmcm9tICcuL01lbnVCaW5kZXInO1xuaW1wb3J0IE1lbnVCcmFuZEJpbmRlciBmcm9tICcuL01lbnVCcmFuZEJpbmRlcic7XG5pbXBvcnQgTWVudUl0ZW1CaW5kZXIgZnJvbSAnLi9NZW51SXRlbUJpbmRlcic7XG5pbXBvcnQgU3ViTWVudUJpbmRlciBmcm9tICcuL1N1Yk1lbnVCaW5kZXInO1xuaW1wb3J0IFN1Yk1lbnVMYWJlbEJpbmRlciBmcm9tICcuL1N1Yk1lbnVMYWJlbEJpbmRlcic7XG5pbXBvcnQgVHJheUJpbmRlciBmcm9tICcuL1RyYXlCaW5kZXInO1xuaW1wb3J0IFRyYXlIZWFkZXJCaW5kZXIgZnJvbSAnLi9UcmF5SGVhZGVyQmluZGVyJztcbmltcG9ydCBGYWtlUXVldWVCaW5kZXIgZnJvbSAnLi9GYWtlUXVldWUnO1xuaW1wb3J0IE1lc3NhZ2VFeHBsb3JlckJpbmRlciBmcm9tICcuL01lc3NhZ2VFeHBsb3JlckJpbmRlcic7XG5pbXBvcnQgTm90aWZpY2F0aW9uQmFubmVyQmluZGVyIGZyb20gJy4vTm90aWZpY2F0aW9uQmFubmVyQmluZGVyJztcbmltcG9ydCBFbWFpbEJpbmRlciBmcm9tICcuL0VtYWlsQmluZGVyJztcbmltcG9ydCBFbWFpbENvbmZpcm1hdGlvbkxpbmtCaW5kZXIgZnJvbSAnLi9FbWFpbENvbmZpcm1hdGlvbkxpbmtCaW5kZXInO1xuaW1wb3J0IFBhc3N3b3JkUmVzZXRMaW5rQmluZGVyIGZyb20gJy4vUGFzc3dvcmRSZXNldExpbmtCaW5kZXInO1xuaW1wb3J0IENvbmZpcm1hdGlvblBhbmVsQmluZGVyIGZyb20gJy4vQ29uZmlybWF0aW9uUGFuZWxCaW5kZXInO1xuaW1wb3J0IEJyQmluZGVyIGZyb20gJy4vQnJCaW5kZXInO1xuaW1wb3J0IFNwYW5CaW5kZXIgZnJvbSAnLi9TcGFuQmluZGVyJztcbmltcG9ydCBVdWlkQmluZGVyIGZyb20gJy4vVXVpZEJpbmRlcic7XG5pbXBvcnQgU2NyaXB0QmluZGVyIGZyb20gJy4vU2NyaXB0QmluZGVyJztcbmltcG9ydCBMb29wQmluZGVyIGZyb20gJy4vTG9vcEJpbmRlcic7XG5pbXBvcnQgU3dpdGNoQmluZGVyIGZyb20gJy4vU3dpdGNoQmluZGVyJztcblxuY29uc3QgcmVnaXN0cnkgPSBbXG4gICAgbmV3IFRpdGxlQmluZGVyKCksXG4gICAgbmV3IFBhcmFncmFwaEJpbmRlcigpLFxuICAgIG5ldyBEaXZCaW5kZXIoKSxcbiAgICBuZXcgTG9naW5QYW5lbEJpbmRlcigpLFxuICAgIG5ldyBXZWxsQmluZGVyKCksXG4gICAgbmV3IFVzZXJFeHBsb3JlckJpbmRlcigpLFxuICAgIG5ldyBJbWFnZUJpbmRlcigpLFxuICAgIG5ldyBMaW5rQmluZGVyKCksXG4gICAgbmV3IEJhY2tMaW5rQmluZGVyKCksXG4gICAgbmV3IFJlZ2lzdGVyUGFuZWxCaW5kZXIoKSxcbiAgICBuZXcgUGFnZUJpbmRlcigpLFxuICAgIG5ldyBSZXNldFBhc3N3b3JkUmVxdWVzdFBhbmVsQmluZGVyKCksXG4gICAgbmV3IFJlc2V0UGFzc3dvcmRQYW5lbEJpbmRlcigpLFxuICAgIG5ldyBBY2NvcmRpb25JdGVtSGVhZGVyQmluZGVyKCksXG4gICAgbmV3IEluc2V0VGV4dEJpbmRlcigpLFxuICAgIG5ldyBBY2NvcmRpb25JdGVtQmluZGVyKCksXG4gICAgbmV3IFdhcm5pbmdCaW5kZXIoKSxcbiAgICBuZXcgQ29sdW1uQmluZGVyKCksXG4gICAgbmV3IFJvd0JpbmRlcigpLFxuICAgIG5ldyBDZWxsQmluZGVyKCksXG4gICAgbmV3IFRhYmxlQmluZGVyKCksXG4gICAgbmV3IEJhZGdlQmluZGVyKCksXG4gICAgbmV3IEFjY29yZGlvbkJpbmRlcigpLFxuICAgIG5ldyBDYXJkSGVhZGVyQmluZGVyKCksXG4gICAgbmV3IENhcmRCb2R5QmluZGVyKCksXG4gICAgbmV3IENhcmRGb290ZXJCaW5kZXIoKSxcbiAgICBuZXcgQ2FyZEJpbmRlcigpLFxuICAgIG5ldyBJY29uQmluZGVyKCksXG4gICAgbmV3IFRvb2xUaXBCaW5kZXIoKSxcbiAgICBuZXcgTGlzdEl0ZW1CaW5kZXIoKSxcbiAgICBuZXcgTGlzdEJpbmRlcigpLFxuICAgIG5ldyBDb29raWVDb25zZW50QmluZGVyKCksXG4gICAgbmV3IEZha2VTdG9yZUJpbmRlcigpLFxuICAgIG5ldyBFcnJvclN1bW1hcnlCaW5kZXIoKSxcbiAgICBuZXcgSW5wdXRCaW5kZXIoKSxcbiAgICBuZXcgRW51bWVyYXRpb25JbnB1dEJpbmRlcigpLFxuICAgIG5ldyBWYWx1ZUJpbmRlcigpLFxuICAgIG5ldyBTY2FsZUJpbmRlcigpLFxuICAgIG5ldyBCdXR0b25CaW5kZXIoKSxcbiAgICBuZXcgSnVtYm90cm9uQmluZGVyKCksXG4gICAgbmV3IENhcm91c2VsQmluZGVyKCksXG4gICAgbmV3IENhcm91c2VsUGFuZWxCaW5kZXIoKSxcbiAgICBuZXcgUHJvZ3Jlc3NCYXJCaW5kZXIoKSxcbiAgICBuZXcgRm9ybUJpbmRlcigpLFxuICAgIG5ldyBXaXphcmRUZXN0UmVzdWx0c0JpbmRlcigpLFxuICAgIG5ldyBDb25maXJtV29ya2Zsb3dQYW5lbEJpbmRlcigpLFxuICAgIG5ldyBDbG9zZVdvcmtmbG93RXhlY3V0ZWRQYW5lbEJpbmRlcigpLFxuICAgIG5ldyBGYWtlVXNlckJpbmRlcigpLFxuICAgIG5ldyBGYWtlTWVzc2FnZUJpbmRlcigpLFxuICAgIG5ldyBGYWtlV2l6YXJkQmluZGVyKCksXG4gICAgbmV3IEZha2VXb3JrZmxvd0JpbmRlcigpLFxuICAgIG5ldyBGYWtlUGFnZUJpbmRlcigpLFxuICAgIG5ldyBGYWtlUXVldWVCaW5kZXIoKSxcbiAgICBuZXcgTWlsZVN0b25lQmluZGVyKCksXG4gICAgbmV3IEhvcml6b250YWxSdWxlQmluZGVyKCksXG4gICAgbmV3IEluaXRpYXRlV29ya2Zsb3dCdXR0b25CaW5kZXIoKSxcbiAgICBuZXcgTWVudUJpbmRlcigpLFxuICAgIG5ldyBNZW51QnJhbmRCaW5kZXIoKSxcbiAgICBuZXcgTWVudUl0ZW1CaW5kZXIoKSxcbiAgICBuZXcgU3ViTWVudUJpbmRlcigpLFxuICAgIG5ldyBTdWJNZW51TGFiZWxCaW5kZXIoKSxcbiAgICBuZXcgVHJheUJpbmRlcigpLFxuICAgIG5ldyBUcmF5SGVhZGVyQmluZGVyKCksXG4gICAgbmV3IE1lc3NhZ2VFeHBsb3JlckJpbmRlcigpLFxuICAgIG5ldyBOb3RpZmljYXRpb25CYW5uZXJCaW5kZXIoKSxcbiAgICBuZXcgRW1haWxCaW5kZXIoKSxcbiAgICBuZXcgRW1haWxDb25maXJtYXRpb25MaW5rQmluZGVyKCksXG4gICAgbmV3IFBhc3N3b3JkUmVzZXRMaW5rQmluZGVyKCksXG4gICAgbmV3IENvbmZpcm1hdGlvblBhbmVsQmluZGVyKCksXG4gICAgbmV3IEJyQmluZGVyKCksXG4gICAgbmV3IFNwYW5CaW5kZXIoKSxcbiAgICBuZXcgVXVpZEJpbmRlcigpLFxuICAgIG5ldyBTY3JpcHRCaW5kZXIoKSxcbiAgICBuZXcgTG9vcEJpbmRlcigpLFxuICAgIG5ldyBTd2l0Y2hCaW5kZXIoKVxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRCaW5kZXIobmFtZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlZ2lzdHJ5LmZpbmQoYnVpbHRpbiA9PiBidWlsdGluLmFjY2VwdChuYW1lKSk7XG59IiwiaW1wb3J0IHsgU3RyaW5nQnVmZmVyIH0gZnJvbSAnLi91dGlsaXRpZXMvU3RyaW5nQnVmZmVyJztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi9DbGFzc01hbmFnZXInO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBjbGFzc01hbmFnZXI6IENsYXNzTWFuYWdlciwgYXR0cmlidXRlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPikge1xuXG4gICAgY29uc3Qgc3R5bGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgICBkaXNwbGF5OiAnZmxleCdcbiAgICB9O1xuXG4gICAgaWYgKGF0dHJpYnV0ZXMucGFkZGluZykge1xuICAgICAgICBzdHlsZXNbJ3BhZGRpbmcnXSA9IGF0dHJpYnV0ZXMucGFkZGluZztcbiAgICB9XG5cbiAgICBpZiAoYXR0cmlidXRlcy5vcmllbnRhdGlvbikge1xuICAgICAgICBzdHlsZXNbJ2ZsZXgtZGlyZWN0aW9uJ10gPSBhdHRyaWJ1dGVzLm9yaWVudGF0aW9uLnRvTG93ZXJDYXNlKCkucmVwbGFjZUFsbChcIl9cIiwgXCItXCIpO1xuICAgIH1cblxuICAgIGlmIChhdHRyaWJ1dGVzLmp1c3RpZnlDb250ZW50KSB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzLmp1c3RpZnlDb250ZW50ID09PSAnU1RBUlQnKSB7XG4gICAgICAgICAgICBzdHlsZXNbJ2p1c3RpZnktY29udGVudCddID0gJ2ZsZXgtc3RhcnQnO1xuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZXMuanVzdGlmeUNvbnRlbnQgPT09ICdFTkQnKSB7XG4gICAgICAgICAgICBzdHlsZXNbJ2p1c3RpZnktY29udGVudCddID0gJ2ZsZXgtZW5kJztcbiAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVzLmp1c3RpZnlDb250ZW50ID09PSAnQ0VOVEVSJykge1xuICAgICAgICAgICAgc3R5bGVzWydqdXN0aWZ5LWNvbnRlbnQnXSA9ICdjZW50ZXInO1xuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZXMuanVzdGlmeUNvbnRlbnQgPT09ICdTUEFDRV9CRVRXRUVOJykge1xuICAgICAgICAgICAgc3R5bGVzWydqdXN0aWZ5LWNvbnRlbnQnXSA9ICdzcGFjZS1iZXR3ZWVuJztcbiAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVzLmp1c3RpZnlDb250ZW50ID09PSAnU1BBQ0VfQVJPVU5EJykge1xuICAgICAgICAgICAgc3R5bGVzWydqdXN0aWZ5LWNvbnRlbnQnXSA9ICdzcGFjZS1hcm91bmQnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGF0dHJpYnV0ZXMuYWxpZ25JdGVtcykge1xuICAgICAgICBpZiAoYXR0cmlidXRlcy5hbGlnbkl0ZW1zID09PSAnU1RBUlQnKSB7XG4gICAgICAgICAgICBzdHlsZXNbJ2FsaWduLWl0ZW1zJ10gPSAnZmxleC1zdGFydCc7XG4gICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlcy5hbGlnbkl0ZW1zID09PSAnRU5EJykge1xuICAgICAgICAgICAgc3R5bGVzWydhbGlnbi1pdGVtcyddID0gJ2ZsZXgtZW5kJztcbiAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVzLmFsaWduSXRlbXMgPT09ICdDRU5URVInKSB7XG4gICAgICAgICAgICBzdHlsZXNbJ2FsaWduLWl0ZW1zJ10gPSAnY2VudGVyJztcbiAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVzLmFsaWduSXRlbXMgPT09ICdCQVNFTElORScpIHtcbiAgICAgICAgICAgIHN0eWxlc1snYWxpZ24taXRlbXMnXSA9ICdiYXNlbGluZSc7XG4gICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlcy5hbGlnbkl0ZW1zID09PSAnU1RSRVRDSCcpIHtcbiAgICAgICAgICAgIHN0eWxlc1snYWxpZ24taXRlbXMnXSA9ICdzdHJldGNoJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhdHRyaWJ1dGVzLmFsaWduQ29udGVudCkge1xuICAgICAgICBpZiAoYXR0cmlidXRlcy5hbGlnbkNvbnRlbnQgPT09ICdTVEFSVCcpIHtcbiAgICAgICAgICAgIHN0eWxlc1snYWxpZ24tY29udGVudCddID0gJ2ZsZXgtc3RhcnQnO1xuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZXMuYWxpZ25Db250ZW50ID09PSAnRU5EJykge1xuICAgICAgICAgICAgc3R5bGVzWydhbGlnbi1jb250ZW50J10gPSAnZmxleC1lbmQnO1xuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZXMuYWxpZ25Db250ZW50ID09PSAnQ0VOVEVSJykge1xuICAgICAgICAgICAgc3R5bGVzWydhbGlnbi1jb250ZW50J10gPSAnY2VudGVyJztcbiAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVzLmFsaWduQ29udGVudCA9PT0gJ0JBU0VMSU5FJykge1xuICAgICAgICAgICAgc3R5bGVzWydhbGlnbi1jb250ZW50J10gPSAnYmFzZWxpbmUnO1xuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZXMuYWxpZ25Db250ZW50ID09PSAnU1RSRVRDSCcpIHtcbiAgICAgICAgICAgIHN0eWxlc1snYWxpZ24tY29udGVudCddID0gJ3N0cmV0Y2gnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGF0dHJpYnV0ZXMud3JhcCkge1xuICAgICAgICBzdHlsZXNbJ2ZsZXgtd3JhcCddID0gYXR0cmlidXRlcy53cmFwLnRvTG93ZXJDYXNlKCkucmVwbGFjZUFsbChcIl9cIiwgXCItXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzdHlsZXMpKSB7XG4gICAgICAgIGJ1ZmZlci5hcHBlbmQoYCR7a2V5fTogJHt2YWx1ZX07YCk7XG4gICAgfVxuXG4gICAgZGF0YS5jb250YWluZXJTdHlsZXMgPSBidWZmZXIudG9TdHJpbmcoKTtcbn1cbiIsImltcG9ydCB7IFN0cmluZ0J1ZmZlciB9IGZyb20gJy4vdXRpbGl0aWVzL1N0cmluZ0J1ZmZlcic7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4vQ2xhc3NNYW5hZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmxleEl0ZW1TdXBwb3J0KGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sIGNsYXNzTWFuYWdlcjogQ2xhc3NNYW5hZ2VyLCBhdHRyaWJ1dGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KSB7XG5cbiAgICBjb25zdCBzdHlsZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICAgIGlmIChhdHRyaWJ1dGVzLnBhZGRpbmcpIHtcbiAgICAgICAgc3R5bGVzWydwYWRkaW5nJ10gPSBhdHRyaWJ1dGVzLnBhZGRpbmc7XG4gICAgfVxuXG4gICAgaWYgKGF0dHJpYnV0ZXMubWFyZ2luKSB7XG4gICAgICAgIHN0eWxlc1snbWFyZ2luJ10gPSBhdHRyaWJ1dGVzLm1hcmdpbjtcbiAgICB9XG5cbiAgICBpZiAoYXR0cmlidXRlcy5mbGV4QmFzaXMpIHtcbiAgICAgICAgc3R5bGVzWydmbGV4LWJhc2lzJ10gPSBhdHRyaWJ1dGVzLmZsZXhCYXNpcztcbiAgICB9XG5cbiAgICBpZiAoYXR0cmlidXRlcy5mbGV4R3Jvdykge1xuICAgICAgICBzdHlsZXNbJ2ZsZXgtZ3JvdyddID0gYXR0cmlidXRlcy5mbGV4R3JvdztcbiAgICB9XG5cbiAgICBpZiAoYXR0cmlidXRlcy5mbGV4U2hyaW5rKSB7XG4gICAgICAgIHN0eWxlc1snZmxleC1zaHJpbmsnXSA9IGF0dHJpYnV0ZXMuZmxleFNocmluaztcbiAgICB9XG5cbiAgICBpZiAoYXR0cmlidXRlcy5hbGlnblNlbGYpIHtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZXMuYWxpZ25TZWxmID09PSAnU1RBUlQnKSB7XG4gICAgICAgICAgICBzdHlsZXNbJ2FsaWduLXNlbGYnXSA9ICdmbGV4LXN0YXJ0JztcbiAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVzLmFsaWduU2VsZiA9PT0gJ0VORCcpIHtcbiAgICAgICAgICAgIHN0eWxlc1snYWxpZ24tc2VsZiddID0gJ2ZsZXgtZW5kJztcbiAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVzLmFsaWduU2VsZiA9PT0gJ0NFTlRFUicpIHtcbiAgICAgICAgICAgIHN0eWxlc1snYWxpZ24tc2VsZiddID0gJ2NlbnRlcic7XG4gICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlcy5hbGlnblNlbGYgPT09ICdCQVNFTElORScpIHtcbiAgICAgICAgICAgIHN0eWxlc1snYWxpZ24tc2VsZiddID0gJ2Jhc2VsaW5lJztcbiAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVzLmFsaWduU2VsZiA9PT0gJ1NUUkVUQ0gnKSB7XG4gICAgICAgICAgICBzdHlsZXNbJ2FsaWduLXNlbGYnXSA9ICdzdHJldGNoJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhdHRyaWJ1dGVzLmhlaWdodCkge1xuICAgICAgICBzdHlsZXNbJ2hlaWdodCddID0gYXR0cmlidXRlcy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgaWYgKGF0dHJpYnV0ZXMud2lkdGgpIHtcbiAgICAgICAgc3R5bGVzWyd3aWR0aCddID0gYXR0cmlidXRlcy53aWR0aDtcbiAgICB9XG5cbiAgICBpZiAoYXR0cmlidXRlcy5ib3JkZXJSYWRpdXMpIHtcbiAgICAgICAgc3R5bGVzWydib3JkZXItcmFkaXVzJ10gPSBhdHRyaWJ1dGVzLmJvcmRlclJhZGl1cztcbiAgICB9XG5cbiAgICBpZiAoYXR0cmlidXRlcy5iYWNrZ3JvdW5kRmxhdm91cikge1xuICAgICAgICBjbGFzc01hbmFnZXIuYXBwZW5kKGF0dHJpYnV0ZXMuYmFja2dyb3VuZEZsYXZvdXIsICdiZy0nLCAnJyk7XG4gICAgfVxuXG4gICAgY29uc3QgYnVmZmVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHN0eWxlcykpIHtcbiAgICAgICAgYnVmZmVyLmFwcGVuZChgJHtrZXl9OiAke3ZhbHVlfTtgKTtcbiAgICB9XG5cbiAgICBkYXRhLml0ZW1TdHlsZXMgPSBidWZmZXIudG9TdHJpbmcoKTtcbn1cbiIsImltcG9ydCB7IFN0cmluZ0J1ZmZlciB9IGZyb20gJy4vdXRpbGl0aWVzL1N0cmluZ0J1ZmZlcic7XG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gJy4vZnJlZW1hcmtlci90ZW1wbGF0ZS9sZXhlcic7XG5pbXBvcnQgeyBMZXhpY2FsVG9rZW5UeXBlIH0gZnJvbSAnLi9mcmVlbWFya2VyL3RlbXBsYXRlL0xleGljYWxUb2tlblR5cGUnO1xuaW1wb3J0IHsgTGV4aWNhbFRva2VuIH0gZnJvbSAnLi9mcmVlbWFya2VyL3RlbXBsYXRlL0xleGljYWxUb2tlbic7XG5pbXBvcnQgeyBSZWZlcmVuY2UgfSBmcm9tICcuL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBFeHByZXNzaW9uRW5naW5lIH0gZnJvbSAnLi9mcmVlbWFya2VyL2V4cHJlc3Npb24tZW5naW5lJztcbmltcG9ydCB7IFRlbXBsYXRlRXJyb3IgfSBmcm9tICcuL2ZyZWVtYXJrZXIvVGVtcGxhdGVFcnJvcic7XG5pbXBvcnQgeyBQcm9oaWJpdGVkRXJyb3IgfSBmcm9tICcuL2ZyZWVtYXJrZXIvUHJvaGliaXRlZEVycm9yJztcbmltcG9ydCB7IGlzSGFzaCB9IGZyb20gJy4vdXRpbGl0aWVzL2lzSGFzaCc7XG5cbmNvbnN0IFBST0hJQklURUQgPSBbXG4gICAgXCJhdHRlbXB0XCIsIFwicmVjb3ZlclwiLCBcImF1dG9lc2NcIiwgXCJjb21wcmVzc1wiLCBcImVzY2FwZVwiLCBcIm5vZXNjYXBlXCIsIFwiZmx1c2hcIiwgXCJmdGxcIiwgXCJmdW5jdGlvblwiLCBcInJldHVyblwiLCBcImdsb2JhbFwiLFxuICAgIFwiaW1wb3J0XCIsIFwiaW5jbHVkZVwiLCBcImNvbnRpbnVlXCIsIFwibG9jYWxcIiwgXCJtYWNyb1wiLCBcIm5lc3RlZFwiLCBcInJldHVyblwiLCBcIm5vb2F1dG9lc2NcIiwgXCJub3BhcnNlXCIsIFwibnRcIixcbiAgICBcIm91dHB1dGZvcm1hdFwiLCBcInNldHRpbmdzXCIsIFwic3RvcFwiLCBcInRcIiwgXCJsdFwiLCBcInJ0XCIsIFwidmlzaXRcIiwgXCJyZWN1cnNlXCIsIFwiZmFsbGJhY2tcIlxuXTtcblxuXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVFbmdpbmUge1xuXG4gICAgcHJpdmF0ZSBleHByZXNzaW9uRW5naW5lID0gbmV3IEV4cHJlc3Npb25FbmdpbmUoKTtcblxuICAgIHJlbmRlcih0ZW1wbGF0ZTogc3RyaW5nLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCB0b2tlbnMgPSBwYXJzZSh0ZW1wbGF0ZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZSh0b2tlbnMsIGRhdGEpWzBdO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGlzY2FyZCh0b2tlbnM6IExleGljYWxUb2tlbltdKSB7XG5cbiAgICAgICAgbGV0IGxldmVsID0gMDtcbiAgICAgICAgd2hpbGUgKHRva2Vucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gdG9rZW5zLnNoaWZ0KCkhO1xuXG4gICAgICAgICAgICBpZiAodG9rZW4uZ2V0VHlwZSgpID09PSBMZXhpY2FsVG9rZW5UeXBlLkNMT1NFX0RJUkVDVElWRSkge1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbi5nZXRUZXh0KCkgPT09ICdpZicgfHwgdG9rZW4uZ2V0VGV4dCgpID09PSAnbGlzdCcgfHwgdG9rZW4uZ2V0VGV4dCgpID09PSAnYXNzaWduJyB8fCB0b2tlbi5nZXRUZXh0KCkgPT09ICdpdGVtcycgfHwgdG9rZW4uZ2V0VGV4dCgpID09PSAnc3dpdGNoJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGV2ZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsLS07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLmdldFR5cGUoKSA9PT0gTGV4aWNhbFRva2VuVHlwZS5PUEVOX0RJUkVDVElWRSkge1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbi5nZXRUZXh0KCkgPT09ICdpZicgfHwgdG9rZW4uZ2V0VGV4dCgpID09PSAnbGlzdCcgfHwgdG9rZW4uZ2V0VGV4dCgpID09PSAnaXRlbXMnIHx8IHRva2VuLmdldFRleHQoKSA9PT0gJ3N3aXRjaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWwrKztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLmdldFRleHQoKSA9PT0gJ2Fzc2lnbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0b2tlbi5nZXRQYXJhbXMoKT8uaW5jbHVkZXMoXCI9XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsZXZlbCA9PT0gMCAmJiAodG9rZW4uZ2V0VGV4dCgpID09PSAnZWxzZScgfHwgdG9rZW4uZ2V0VGV4dCgpID09PSAnZWxzZWlmJyB8fCB0b2tlbi5nZXRUZXh0KCkgPT09ICdjYXNlJyB8fCB0b2tlbi5nZXRUZXh0KCkgPT09ICdkZWZhdWx0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY29uc3VtZSh0b2tlbnM6IExleGljYWxUb2tlbltdLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogW2NvbnRlbnQ6IHN0cmluZywgY2xvc2U6IExleGljYWxUb2tlbiB8IHVuZGVmaW5lZF0ge1xuXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgd2hpbGUgKHRva2Vucy5sZW5ndGgpIHtcblxuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSB0b2tlbnMuc2hpZnQoKSE7XG5cbiAgICAgICAgICAgIGlmICh0b2tlbi5nZXRUeXBlKCkgPT09IExleGljYWxUb2tlblR5cGUuVEVYVCkge1xuXG4gICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZCh0b2tlbi5nZXRUZXh0KCkpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLmdldFR5cGUoKSA9PT0gTGV4aWNhbFRva2VuVHlwZS5JTlRFUlBPTEFUSU9OKSB7XG5cbiAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHRoaXMuZXhwcmVzc2lvbkVuZ2luZS5idWlsZCh0b2tlbi5nZXRQYXJhbXMoKSEsIHRva2VuLmdldFBhcmFtc1JvdygpISwgdG9rZW4uZ2V0UGFyYW1zQ29sdW1uKCkhKS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5nZXRUeXBlKCkgPT09IExleGljYWxUb2tlblR5cGUuT1BFTl9ESVJFQ1RJVkUpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4uZ2V0VGV4dCgpID09PSAnYXNzaWduJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbcmVzdWx0LCBjbG9zZV0gPSB0aGlzLmhhbmRsZUFzc2lnbih0b2tlbi5nZXRQYXJhbXMoKSEsIHRva2VuLmdldFBhcmFtc1JvdygpISwgdG9rZW4uZ2V0UGFyYW1zQ29sdW1uKCkhLCB0b2tlbnMsIGRhdGEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uZ2V0VGV4dCgpID09PSAnaWYnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMuaGFuZGxlSWYodG9rZW4uZ2V0UGFyYW1zKCkhLCB0b2tlbi5nZXRQYXJhbXNSb3coKSEsIHRva2VuLmdldFBhcmFtc0NvbHVtbigpISwgdG9rZW5zLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlPy5nZXRUZXh0KCkgIT09ICdpZicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSwgXCJJbnZhbGlkIGNsb3NpbmcgdGFnIGZvciBpZlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5nZXRUZXh0KCkgPT09ICdsaXN0Jykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbcmVzdWx0LCBjbG9zZV0gPSB0aGlzLmhhbmRsZUxpc3QodG9rZW4uZ2V0UGFyYW1zKCkhLCB0b2tlbi5nZXRQYXJhbXNSb3coKSEsIHRva2VuLmdldFBhcmFtc0NvbHVtbigpISwgdG9rZW5zLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlPy5nZXRUZXh0KCkgIT09ICdsaXN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodG9rZW4uZ2V0Um93KCksIHRva2VuLmdldENvbHVtbigpLCBcIkludmFsaWQgY2xvc2luZyB0YWcgZm9yIGxpc3RcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uZ2V0VGV4dCgpID09PSAnc3dpdGNoJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbcmVzdWx0LCBjbG9zZV0gPSB0aGlzLmhhbmRsZVN3aXRjaCh0b2tlbi5nZXRQYXJhbXMoKSEsIHRva2VuLmdldFBhcmFtc1JvdygpISwgdG9rZW4uZ2V0UGFyYW1zQ29sdW1uKCkhLCB0b2tlbnMsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2U/LmdldFRleHQoKSAhPT0gJ3N3aXRjaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSwgXCJJbnZhbGlkIGNsb3NpbmcgdGFnIGZvciBzd2l0Y2hcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uZ2V0VGV4dCgpID09PSAnZWxzZScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtidWZmZXIudG9TdHJpbmcoKSwgdG9rZW5dO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uZ2V0VGV4dCgpID09PSAnZWxzZWlmJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2J1ZmZlci50b1N0cmluZygpLCB0b2tlbl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5nZXRUZXh0KCkgPT09ICdpdGVtcycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtidWZmZXIudG9TdHJpbmcoKSwgdG9rZW5dO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uZ2V0VGV4dCgpID09PSAnc2VwJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2J1ZmZlci50b1N0cmluZygpLCB0b2tlbl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5nZXRUZXh0KCkgPT09ICdicmVhaycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtidWZmZXIudG9TdHJpbmcoKSwgdG9rZW5dO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uZ2V0VGV4dCgpID09PSAnY2FzZScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9pZ25vcmUgY2FzZSBkaXJlY3RpdmUgYXMgd2Ugc3RvcCBvbiAnYnJlYWsnXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChQUk9ISUJJVEVELmluY2x1ZGVzKHRva2VuLmdldFRleHQoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFByb2hpYml0ZWRFcnJvcih0b2tlbi5nZXRSb3coKSwgdG9rZW4uZ2V0Q29sdW1uKCksIGBEaXJlY3RpdmUgaXMgcHJvaGliaXRlZCAnJHt0b2tlbi5nZXRUZXh0KCl9J2ApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSwgYFVuc3VwcG9ydGVkIGRpcmVjdGl2ZSAnJHt0b2tlbi5nZXRUZXh0KCl9J2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uZ2V0VHlwZSgpID09PSBMZXhpY2FsVG9rZW5UeXBlLkNMT1NFX0RJUkVDVElWRSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbYnVmZmVyLnRvU3RyaW5nKCksIHRva2VuXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2J1ZmZlci50b1N0cmluZygpLCB1bmRlZmluZWRdO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBwcm9jZXNzTGlzdCh0b2tlbnM6IExleGljYWxUb2tlbltdLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBzZXF1ZW5jZTogYW55W10sIGFyZ05hbWU6IHN0cmluZyk6IFtjb250ZW50OiBzdHJpbmcsIGNsb3NlOiBMZXhpY2FsVG9rZW4gfCB1bmRlZmluZWRdIHtcbiAgICAgICAgY29uc3QgY29weSA9IFsuLi50b2tlbnNdO1xuICAgICAgICBsZXQgYmxvY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCByZXN1bHQ6IHN0cmluZyA9IFwiXCI7XG4gICAgICAgIGxldCBzZXBhcmF0b3I6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGNsb3NlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcXVlbmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzY29wZSA9IHsgLi4uZGF0YSB9O1xuXG4gICAgICAgICAgICBzY29wZVthcmdOYW1lXSA9IHNlcXVlbmNlW2ldO1xuICAgICAgICAgICAgc2NvcGVbYCQke2FyZ05hbWV9JGBdID0gdHJ1ZTtcbiAgICAgICAgICAgIHNjb3BlW2AkJHthcmdOYW1lfV9pbmRleCRgXSA9IGk7XG4gICAgICAgICAgICBzY29wZVtgJCR7YXJnTmFtZX1fbGVuZ3RoJGBdID0gc2VxdWVuY2UubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAoc2VwYXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChzZXBhcmF0b3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbCA9IFsuLi5ibG9ja107XG4gICAgICAgICAgICAgICAgbGV0IFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMuY29uc3VtZShsb2NhbCwgc2NvcGUpO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5hcHBlbmQocmVzdWx0KTtcblxuICAgICAgICAgICAgICAgIGlmIChjbG9zZT8uZ2V0VGV4dCgpID09PSAnc2VwJykge1xuICAgICAgICAgICAgICAgICAgICBbc2VwYXJhdG9yLCBjbG9zZV0gPSB0aGlzLmNvbnN1bWUobG9jYWwsIHNjb3BlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2U/LmdldFRleHQoKSA9PT0gJ3NlcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMuY29uc3VtZShsb2NhbCwgc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMuY29uc3VtZSh0b2tlbnMsIHNjb3BlKTtcbiAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2xvc2U/LmdldFRleHQoKSA9PT0gJ3NlcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgW3NlcGFyYXRvciwgY2xvc2VdID0gdGhpcy5jb25zdW1lKHRva2Vucywgc2NvcGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbG9zZT8uZ2V0VGV4dCgpID09PSAnc2VwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgW3Jlc3VsdCwgY2xvc2VdID0gdGhpcy5jb25zdW1lKHRva2Vucywgc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYmxvY2sgPSBjb3B5LnNsaWNlKDAsIGNvcHkubGVuZ3RoIC0gdG9rZW5zLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlcXVlbmNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3Qgc2NvcGUgPSB7IC4uLmRhdGEgfTtcblxuICAgICAgICAgICAgc2NvcGVbYXJnTmFtZV0gPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIGNsb3NlID0gdGhpcy5kaXNjYXJkKHRva2Vucyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW2J1ZmZlci50b1N0cmluZygpLCBjbG9zZV07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcm9jZXNzSGFzaCh0b2tlbnM6IExleGljYWxUb2tlbltdLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBoYXNoOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBrZXlOYW1lOiBzdHJpbmcsIGFyZ05hbWU6IHN0cmluZyk6IFtjb250ZW50OiBzdHJpbmcsIGNsb3NlOiBMZXhpY2FsVG9rZW4gfCB1bmRlZmluZWRdIHtcbiAgICAgICAgY29uc3QgY29weSA9IFsuLi50b2tlbnNdO1xuICAgICAgICBsZXQgYmxvY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCByZXN1bHQ6IHN0cmluZyA9IFwiXCI7XG4gICAgICAgIGxldCBzZXBhcmF0b3I6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGNsb3NlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBoYXNoKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGhhc2hba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IHNjb3BlID0geyAuLi5kYXRhIH07XG5cbiAgICAgICAgICAgIHNjb3BlW2tleU5hbWVdID0ga2V5O1xuICAgICAgICAgICAgc2NvcGVbYXJnTmFtZV0gPSB2YWx1ZTtcblxuICAgICAgICAgICAgaWYgKHNlcGFyYXRvcikge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5hcHBlbmQoc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWwgPSBbLi4uYmxvY2tdO1xuICAgICAgICAgICAgICAgIGxldCBbcmVzdWx0LCBjbG9zZV0gPSB0aGlzLmNvbnN1bWUobG9jYWwsIHNjb3BlKTtcbiAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2xvc2U/LmdldFRleHQoKSA9PT0gJ3NlcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgW3NlcGFyYXRvciwgY2xvc2VdID0gdGhpcy5jb25zdW1lKGxvY2FsLCBzY29wZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlPy5nZXRUZXh0KCkgPT09ICdzZXAnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbcmVzdWx0LCBjbG9zZV0gPSB0aGlzLmNvbnN1bWUobG9jYWwsIHNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5hcHBlbmQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBbcmVzdWx0LCBjbG9zZV0gPSB0aGlzLmNvbnN1bWUodG9rZW5zLCBzY29wZSk7XG4gICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChyZXN1bHQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNsb3NlPy5nZXRUZXh0KCkgPT09ICdzZXAnKSB7XG4gICAgICAgICAgICAgICAgICAgIFtzZXBhcmF0b3IsIGNsb3NlXSA9IHRoaXMuY29uc3VtZSh0b2tlbnMsIHNjb3BlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2U/LmdldFRleHQoKSA9PT0gJ3NlcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMuY29uc3VtZSh0b2tlbnMsIHNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5hcHBlbmQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJsb2NrID0gY29weS5zbGljZSgwLCBjb3B5Lmxlbmd0aCAtIHRva2Vucy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhoYXNoKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHNjb3BlID0geyAuLi5kYXRhIH07XG5cbiAgICAgICAgICAgIHNjb3BlW2FyZ05hbWVdID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICBjbG9zZSA9IHRoaXMuZGlzY2FyZCh0b2tlbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtidWZmZXIudG9TdHJpbmcoKSwgY2xvc2VdO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlTGlzdChleHByZXNzaW9uOiBzdHJpbmcsIHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlciwgdG9rZW5zOiBMZXhpY2FsVG9rZW5bXSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFtjb250ZW50OiBzdHJpbmcsIGNsb3NlOiBMZXhpY2FsVG9rZW4gfCB1bmRlZmluZWRdIHtcblxuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgICAgIGxldCByZXN1bHQgPSB1bmRlZmluZWQsIGNsb3NlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChleHByZXNzaW9uLmluY2x1ZGVzKFwiIGFzIFwiKSkge1xuXG4gICAgICAgICAgICBjb25zdCBbcmVmTmFtZSwgYXJnTmFtZV0gPSBleHByZXNzaW9uLnNwbGl0KFwiIGFzIFwiKS5tYXAoeCA9PiB4LnRyaW0oKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN1YmplY3QgPSB0aGlzLmV4cHJlc3Npb25FbmdpbmUuYnVpbGQocmVmTmFtZSwgcm93LCBjb2x1bW4pLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG5cbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN1YmplY3QpKSB7XG5cbiAgICAgICAgICAgICAgICBbcmVzdWx0LCBjbG9zZV0gPSB0aGlzLnByb2Nlc3NMaXN0KHRva2VucywgZGF0YSwgc3ViamVjdCwgYXJnTmFtZSk7XG4gICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChyZXN1bHQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0hhc2goc3ViamVjdCkpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IGFyZ05hbWUuc3BsaXQoXCIsXCIpLm1hcChzID0+IHMudHJpbSgpKTtcbiAgICAgICAgICAgICAgICBbcmVzdWx0LCBjbG9zZV0gPSB0aGlzLnByb2Nlc3NIYXNoKHRva2VucywgZGF0YSwgc3ViamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChyZXN1bHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgXCInYXMnIG9wZXJhdG9yIHJlcXVpcmVzIGFuIGl0ZXJhYmxlIHN1YmplY3QgKGhhc2ggb3Igc2VxdWVuY2UpLlwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHRleHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoY2xvc2U/LmdldFRleHQoKSA9PT0gJ2Vsc2UnKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3ViamVjdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgW3RleHQsIGNsb3NlXSA9IHRoaXMuY29uc3VtZSh0b2tlbnMsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHRleHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlID0gdGhpcy5kaXNjYXJkKHRva2Vucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlZiA9IHRoaXMuZXhwcmVzc2lvbkVuZ2luZS5idWlsZChleHByZXNzaW9uLCByb3csIGNvbHVtbikuZXZhbHVhdGUoZGF0YSk7XG4gICAgICAgICAgICBjb25zdCBzdWJqZWN0ID0gcmVmLnJldHJpZXZlKCk7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzdWJqZWN0KSB8fCBpc0hhc2goc3ViamVjdCkpIHtcblxuICAgICAgICAgICAgICAgIGlmICgoQXJyYXkuaXNBcnJheShzdWJqZWN0KSAmJiBzdWJqZWN0Lmxlbmd0aCkgfHwgKGlzSGFzaChzdWJqZWN0KSAmJiBPYmplY3Qua2V5cyhzdWJqZWN0KS5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMuY29uc3VtZSh0b2tlbnMsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlPy5nZXRUeXBlKCkgPT09IExleGljYWxUb2tlblR5cGUuT1BFTl9ESVJFQ1RJVkUgJiYgY2xvc2U/LmdldFRleHQoKSA9PT0gJ2l0ZW1zJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3ViamVjdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbYmxhbmssIGFyZ05hbWVdID0gY2xvc2UuZ2V0UGFyYW1zKCkhLnNwbGl0KFwiYXNcIikubWFwKHggPT4geC50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMucHJvY2Vzc0xpc3QodG9rZW5zLCBkYXRhLCBzdWJqZWN0LCBhcmdOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzSGFzaChzdWJqZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFtibGFuaywgYXJnTmFtZV0gPSBjbG9zZT8uZ2V0UGFyYW1zKCkhLnNwbGl0KFwiYXNcIikubWFwKHggPT4geC50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IGFyZ05hbWUuc3BsaXQoXCIsXCIpLm1hcChzID0+IHMudHJpbSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbcmVzdWx0LCBjbG9zZV0gPSB0aGlzLnByb2Nlc3NIYXNoKHRva2VucywgZGF0YSwgc3ViamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlPy5nZXRUeXBlKCkgPT09IExleGljYWxUb2tlblR5cGUuQ0xPU0VfRElSRUNUSVZFICYmIGNsb3NlPy5nZXRUZXh0KCkgPT09ICdpdGVtcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMuY29uc3VtZSh0b2tlbnMsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlPy5nZXRUZXh0KCkgPT09ICdlbHNlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2UgPSB0aGlzLmRpc2NhcmQodG9rZW5zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBjbG9zZSA9IHRoaXMuZGlzY2FyZCh0b2tlbnMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbG9zZT8uZ2V0VGV4dCgpID09PSAnZWxzZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMuY29uc3VtZSh0b2tlbnMsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNsb3NlICYmIGNsb3NlLmdldFRleHQoKSAhPT0gJ2xpc3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKGNsb3NlLmdldENvbHVtbigpLCBjbG9zZS5nZXRSb3coKSwgXCJMaXN0IGltcHJvcGVybHkgdGVybWluYXRlZFwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIFwibGlzdCBkaXJlY3RpdmUgcmVxdWlyZXMgYW4gaXRlcmFibGUgc3ViamVjdCAoc2VxdWVuY2Ugb3IgaGFzaCkuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtidWZmZXIudG9TdHJpbmcoKSwgY2xvc2VdO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlQXNzaWduKGV4cHJlc3Npb246IHN0cmluZywgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyLCB0b2tlbnM6IExleGljYWxUb2tlbltdLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogW2NvbnRlbnQ6IHN0cmluZywgY2xvc2U6IExleGljYWxUb2tlbiB8IHVuZGVmaW5lZF0ge1xuXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5leHByZXNzaW9uRW5naW5lLmJ1aWxkKGV4cHJlc3Npb24sIHJvdywgY29sdW1uKS5ldmFsdWF0ZShkYXRhKTtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUmVmZXJlbmNlKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMuY29uc3VtZSh0b2tlbnMsIGRhdGEpO1xuICAgICAgICAgICAgdmFsdWUuYXNzaWduKHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm4gW1wiXCIsIGNsb3NlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW1wiXCIsIHVuZGVmaW5lZF07XG4gICAgfVxuXG4gICAgaGFuZGxlSWYoZXhwcmVzc2lvbjogc3RyaW5nLCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIsIHRva2VuczogTGV4aWNhbFRva2VuW10sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBbY29udGVudDogc3RyaW5nLCBjbG9zZTogTGV4aWNhbFRva2VuIHwgdW5kZWZpbmVkXSB7XG5cbiAgICAgICAgbGV0IHJlc3VsdCA9IHVuZGVmaW5lZCwgdGV4dCA9IHVuZGVmaW5lZCwgY2xvc2UgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgY29uc3QgYm9vbCA9IHRoaXMuZXhwcmVzc2lvbkVuZ2luZS5idWlsZChleHByZXNzaW9uLCByb3csIGNvbHVtbikuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcblxuICAgICAgICBpZiAoYm9vbCkge1xuICAgICAgICAgICAgW3RleHQsIGNsb3NlXSA9IHRoaXMuY29uc3VtZSh0b2tlbnMsIGRhdGEpO1xuICAgICAgICAgICAgcmVzdWx0ID0gdGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsb3NlID0gdGhpcy5kaXNjYXJkKHRva2Vucyk7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAoY2xvc2UgJiYgY2xvc2UuZ2V0VHlwZSgpID09PSBMZXhpY2FsVG9rZW5UeXBlLk9QRU5fRElSRUNUSVZFICYmIGNsb3NlLmdldFRleHQoKSA9PT0gJ2Vsc2VpZicpIHtcblxuICAgICAgICAgICAgY29uc3QgYm9vbCA9IHRoaXMuZXhwcmVzc2lvbkVuZ2luZS5idWlsZChjbG9zZS5nZXRQYXJhbXMoKSEsIGNsb3NlLmdldFJvdygpLCBjbG9zZS5nZXRDb2x1bW4oKSkuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcblxuICAgICAgICAgICAgaWYgKGJvb2wgJiYgcmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBbdGV4dCwgY2xvc2VdID0gdGhpcy5jb25zdW1lKHRva2VucywgZGF0YSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGV4dDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xvc2UgPSB0aGlzLmRpc2NhcmQodG9rZW5zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjbG9zZT8uZ2V0VGV4dCgpID09PSAnZWxzZScpIHtcblxuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgW3RleHQsIGNsb3NlXSA9IHRoaXMuY29uc3VtZSh0b2tlbnMsIGRhdGEpO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRleHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsb3NlID0gdGhpcy5kaXNjYXJkKHRva2Vucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW3Jlc3VsdCB8fCBcIlwiLCBjbG9zZV07XG4gICAgfVxuXG4gICAgaGFuZGxlU3dpdGNoKGV4cHJlc3Npb246IHN0cmluZywgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyLCB0b2tlbnM6IExleGljYWxUb2tlbltdLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogW2NvbnRlbnQ6IHN0cmluZywgY2xvc2U6IExleGljYWxUb2tlbiB8IHVuZGVmaW5lZF0ge1xuICAgICAgICBsZXQgdGV4dCA9IHVuZGVmaW5lZCwgY2xvc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcblxuICAgICAgICBjb25zdCByZWZlcmVuY2UgPSB0aGlzLmV4cHJlc3Npb25FbmdpbmUuYnVpbGQoZXhwcmVzc2lvbiwgcm93LCBjb2x1bW4pLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0b2tlbnMuc2hpZnQoKTtcblxuICAgICAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50LmdldFR5cGUoKSAhPT0gTGV4aWNhbFRva2VuVHlwZS5DTE9TRV9ESVJFQ1RJVkUpIHtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnQuZ2V0VHlwZSgpID09PSBMZXhpY2FsVG9rZW5UeXBlLk9QRU5fRElSRUNUSVZFICYmIGN1cnJlbnQuZ2V0VGV4dCgpID09PSAnY2FzZScpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5leHByZXNzaW9uRW5naW5lLmJ1aWxkKGN1cnJlbnQuZ2V0UGFyYW1zKCkhLCBjdXJyZW50LmdldFJvdygpLCBjdXJyZW50LmdldENvbHVtbigpKS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlZmVyZW5jZSA9PT0gdmFsdWUpIHtcblxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50LmdldFR5cGUoKSA9PT0gTGV4aWNhbFRva2VuVHlwZS5PUEVOX0RJUkVDVElWRSAmJiBjdXJyZW50LmdldFRleHQoKSA9PT0gXCJjYXNlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0ZXh0LCBjdXJyZW50XSA9IHRoaXMuY29uc3VtZSh0b2tlbnMsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50LmdldFR5cGUoKSAhPT0gTGV4aWNhbFRva2VuVHlwZS5DTE9TRV9ESVJFQ1RJVkUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB0aGlzLmRpc2NhcmQodG9rZW5zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHRoaXMuZGlzY2FyZCh0b2tlbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudC5nZXRUeXBlKCkgPT09IExleGljYWxUb2tlblR5cGUuT1BFTl9ESVJFQ1RJVkUgJiYgY3VycmVudC5nZXRUZXh0KCkgPT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB0aGlzLmRpc2NhcmQodG9rZW5zKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBbdGV4dCwgY3VycmVudF0gPSB0aGlzLmNvbnN1bWUodG9rZW5zLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB0b2tlbnMuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcmVzdWx0LnRvU3RyaW5nKCksIGN1cnJlbnRdO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBGcmVlbWFya2VyRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG5cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIHByaXZhdGUgY2F1c2U6IEVycm9yIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBUZW1wbGF0ZUVycm9yIH0gZnJvbSAnLi9UZW1wbGF0ZUVycm9yJztcblxuZXhwb3J0IGNsYXNzIFByb2hpYml0ZWRFcnJvciBleHRlbmRzIFRlbXBsYXRlRXJyb3Ige1xuXG59IiwiaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4vVGVtcGxhdGVFcnJvcic7XG5cbmV4cG9ydCBjbGFzcyBSZWZlcmVuY2VOb3RGb3VuZEVycm9yIGV4dGVuZHMgVGVtcGxhdGVFcnJvciB7XG5cbn0iLCJleHBvcnQgY2xhc3MgVGVtcGxhdGVFcnJvciBleHRlbmRzIEVycm9yIHtcblxuICAgIGNvbnN0cnVjdG9yKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlciwgbWVzc2FnZTogc3RyaW5nLCBwcml2YXRlIGNhdXNlOiBUZW1wbGF0ZUVycm9yIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN1cGVyKGAoJHtyb3cgKyAxfToke2NvbHVtbiArIDF9KSAke21lc3NhZ2V9YCk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5pbXBvcnQgeyBUZW1wbGF0ZUVycm9yIH0gZnJvbSAnLi4vVGVtcGxhdGVFcnJvcic7XG5cbmV4cG9ydCBjbGFzcyBCb29sZWFuQnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwiYm9vbGVhblwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Piwgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKTogVmFsdWUge1xuICAgICAgICBpZiAoc3ViamVjdCA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN1YmplY3QgPT09IFwiZmFsc2VcIikge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBDYW5ub3QgY29udmVydCBzdHJpbmcgdG8gYm9vbGVhbmApO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuaW1wb3J0IHsgaXNXaGl0ZXNwYWNlIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL2lzV2hpdGVzcGFjZSc7XG5cbmV4cG9ydCBjbGFzcyBDYXBGaXJzdEJ1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcImNhcF9maXJzdFwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgc3ViamVjdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICghaXNXaGl0ZXNwYWNlKHN1YmplY3QuY2hhckF0KGluZGV4KSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5zbGljZSgwLCBpbmRleCkgKyBzdWJqZWN0LmNoYXJBdChpbmRleCkudG9VcHBlckNhc2UoKSArIHN1YmplY3Quc2xpY2UoaW5kZXggKyAxKSk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5pbXBvcnQgeyBpc1doaXRlc3BhY2UgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaXNXaGl0ZXNwYWNlJztcblxuZXhwb3J0IGNsYXNzIENhcGl0YWxpemVCdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJjYXBpdGFsaXplXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICBjb25zdCBvdXRwdXQ6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgbGV0IGxhdGNoID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1YmplY3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBzdWJqZWN0LmNoYXJBdChpKTtcbiAgICAgICAgICAgIGlmIChsYXRjaCkge1xuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKGMudG9VcHBlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgbGF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgICAgICAgICBsYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKGMudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihvdXRwdXQuam9pbihcIlwiKSk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBDZWlsQnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcIm51bWJlclwiICYmIG5hbWUgPT09IFwiY2VpbFwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoTWF0aC5jZWlsKHN1YmplY3QpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE5vQXJnQnVpbHRpbiB9IGZyb20gJy4vTm9BcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIENob3BMaW5lYnJlYWtCdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJjaG9wX2xpbmVicmVha1wiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gc3ViamVjdC5sZW5ndGg7XG5cbiAgICAgICAgaWYgKHN1YmplY3QubGVuZ3RoICYmIHN1YmplY3QuY2hhckF0KGxlbmd0aCAtIDEpID09PSAnXFxuJykge1xuICAgICAgICAgICAgaWYgKHN1YmplY3QubGVuZ3RoID4gMiAmJiBzdWJqZWN0LmNoYXJBdChsZW5ndGggLSAyKSA9PT0gJ1xccicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LnNsaWNlKDAsIGxlbmd0aCAtIDIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3Quc2xpY2UoMCwgbGVuZ3RoIC0gMSkpO1xuICAgICAgICB9IGVsc2UgaWYgKHN1YmplY3QubGVuZ3RoICYmIHN1YmplY3QuY2hhckF0KGxlbmd0aCAtIDEpID09PSAnXFxyJykge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5zbGljZSgwLCBsZW5ndGggLSAxKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdCk7XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBPbmVBcmdCdWlsdGluIH0gZnJvbSAnLi9PbmVBcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIENodW5rQnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN1YmplY3QpICYmIG5hbWUgPT09IFwiY2h1bmtcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzE6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgbGVuZ3RoID0gYXJnMS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdHM6IGFueVtdID0gW107XG4gICAgICAgIGxldCBncm91cDogYW55W10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ViamVjdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgJSBsZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoZ3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGdyb3VwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ3JvdXAgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdyb3VwIS5wdXNoKHN1YmplY3RbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0cy5wdXNoKGdyb3VwKTtcblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihyZXN1bHRzKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgQ29udGFpbnNCdWlsdGluIGV4dGVuZHMgT25lQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwiY29udGFpbnNcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5pbmNsdWRlcyhhcmcuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuaW1wb3J0IHsgaXNEYXRlIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL2lzRGF0ZSc7XG5cbmV4cG9ydCBjbGFzcyBEYXRlQnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiB8fCBpc0RhdGUoc3ViamVjdCkpICYmIG5hbWUgPT09IFwiZGF0ZVwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgY29uc3QgZHRlID0gaXNEYXRlKHN1YmplY3QpID8gc3ViamVjdCA6IG5ldyBEYXRlKHN1YmplY3QpO1xuICAgICAgICBkdGUuc2V0SG91cnMoMCk7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKGR0ZSk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5pbXBvcnQgeyBpc0RhdGUgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaXNEYXRlJztcblxuZXhwb3J0IGNsYXNzIERhdGV0aW1lQnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiB8fCBpc0RhdGUoc3ViamVjdCkpICYmIG5hbWUgPT09IFwiZGF0ZXRpbWVcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKGlzRGF0ZShzdWJqZWN0KSA/IHN1YmplY3QgOiBuZXcgRGF0ZShzdWJqZWN0KSk7XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBPbmVBcmdCdWlsdGluIH0gZnJvbSAnLi9PbmVBcmdCdWlsdGluJztcbmltcG9ydCB7IExhbWJkYUV4cHJlc3Npb24gfSBmcm9tICcuLi9leHByZXNzaW9uL0xhbWJkYUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuXG5leHBvcnQgY2xhc3MgRHJvcFdoaWxlQnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN1YmplY3QpICYmIG5hbWUgPT09IFwiZHJvcF93aGlsZVwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnMTogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Piwgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKTogVmFsdWUge1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdDogYW55W10gPSBbXTtcbiAgICAgICAgY29uc3QgbGFtYmRhID0gYXJnMTtcblxuICAgICAgICBpZiAoIShsYW1iZGEgaW5zdGFuY2VvZiBMYW1iZGFFeHByZXNzaW9uKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBJbnZhbGlkIGFyZ3VtZW50LCBvbmx5IGxhbWJkYSBpcyBjdXJyZW50IHN1cHBvcnRlZGApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBsZXQgYm9vbCA9IHRydWU7XG4gICAgICAgIHdoaWxlIChpIDwgc3ViamVjdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChib29sKSB7XG4gICAgICAgICAgICAgICAgYm9vbCA9IGxhbWJkYS5ldmFsdWF0ZSh7ICckJCc6IHN1YmplY3RbaV0sIC4uLmRhdGEgfSkucmV0cmlldmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFib29sKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc3ViamVjdFtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YocmVzdWx0KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgRW5kc1dpdGhCdWlsdGluIGV4dGVuZHMgT25lQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwiZW5kc193aXRoXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmc6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QuZW5kc1dpdGgoYXJnLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgRW5zdXJlRW5kc1dpdGhCdWlsdGluIGV4dGVuZHMgT25lQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwiZW5zdXJlX2VuZHNfd2l0aFwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnMTogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgY29uc3QgYXJnID0gYXJnMS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHN1YmplY3QuZW5kc1dpdGgoYXJnLnNsaWNlKDAsIGFyZy5sZW5ndGggLSBpKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0ICsgYXJnLnNsaWNlKGFyZy5sZW5ndGggLSBpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0ICsgYXJnKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IEJ1aWx0aW4gfSBmcm9tICcuLi9CdWlsdGluJztcbmltcG9ydCB7IFRlbXBsYXRlRXJyb3IgfSBmcm9tICcuLi9UZW1wbGF0ZUVycm9yJztcblxuZXhwb3J0IGNsYXNzIEVuc3VyZVN0YXJ0c1dpdGhCdWlsdGluIGltcGxlbWVudHMgQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwiZW5zdXJlX3N0YXJ0c193aXRoXCI7XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlKHN1YmplY3Q6IGFueSwgYXJnczogRXhwcmVzc2lvbltdLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiBWYWx1ZSB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuXG4gICAgICAgICAgICBjb25zdCBhcmcgPSBhcmdzWzBdLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChzdWJqZWN0LnN0YXJ0c1dpdGgoYXJnLnNsaWNlKGkpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihhcmcuc2xpY2UoMCwgaSkgKyBzdWJqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKGFyZyArIHN1YmplY3QpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcblxuICAgICAgICAgICAgY29uc3QgcmVnZXggPSBhcmdzWzBdLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG4gICAgICAgICAgICBjb25zdCByZXBsYWNlID0gYXJnc1sxXS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LnJlcGxhY2UobmV3IFJlZ0V4cChyZWdleCksIHJlcGxhY2UpKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBJbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHNgKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgT25lQXJnQnVpbHRpbiB9IGZyb20gJy4vT25lQXJnQnVpbHRpbic7XG5pbXBvcnQgeyBMYW1iZGFFeHByZXNzaW9uIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9MYW1iZGFFeHByZXNzaW9uJztcbmltcG9ydCB7IFRlbXBsYXRlRXJyb3IgfSBmcm9tICcuLi9UZW1wbGF0ZUVycm9yJztcblxuZXhwb3J0IGNsYXNzIEZpbHRlckJ1aWx0aW4gZXh0ZW5kcyBPbmVBcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShzdWJqZWN0KSAmJiBuYW1lID09PSBcImZpbHRlclwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnMTogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Piwgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKTogVmFsdWUge1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdDogYW55W10gPSBbXTtcbiAgICAgICAgY29uc3QgbGFtYmRhID0gYXJnMTtcblxuICAgICAgICBpZiAoIShsYW1iZGEgaW5zdGFuY2VvZiBMYW1iZGFFeHByZXNzaW9uKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBJbnZhbGlkIGFyZ3VtZW50LCBvbmx5IGxhbWJkYSBpcyBjdXJyZW50IHN1cHBvcnRlZGApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHN1YmplY3QubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBib29sID0gbGFtYmRhLmV2YWx1YXRlKHsgJyQkJzogc3ViamVjdFtpXSwgLi4uZGF0YSB9KS5yZXRyaWV2ZSgpO1xuICAgICAgICAgICAgaWYgKGJvb2wpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzdWJqZWN0W2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihyZXN1bHQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgRmlyc3RCdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShzdWJqZWN0KSAmJiBuYW1lID09PSBcImZpcnN0XCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0WzBdKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE5vQXJnQnVpbHRpbiB9IGZyb20gJy4vTm9BcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIEZsb29yQnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcIm51bWJlclwiICYmIG5hbWUgPT09IFwiZmxvb3JcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKE1hdGguZmxvb3Ioc3ViamVjdCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuaW1wb3J0IHsgaXNIYXNoIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL2lzSGFzaCc7XG5cbmV4cG9ydCBjbGFzcyBIYXNDb250ZW50QnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09IFwiaGFzX2NvbnRlbnRcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sIHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcik6IFZhbHVlIHtcbiAgICAgICAgaWYgKHN1YmplY3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN1YmplY3QgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN1YmplY3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0Lmxlbmd0aCA+IDApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzSGFzaChzdWJqZWN0KSkge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoT2JqZWN0LmtleXMoc3ViamVjdCkubGVuZ3RoID4gMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QubGVuZ3RoID4gMCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZih0cnVlKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgSW5kZXhPZldpdGhCdWlsdGluIGV4dGVuZHMgT25lQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwiaW5kZXhfb2ZcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5pbmRleE9mKGFyZy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKSk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBJc0luZmluaXRlQnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcIm51bWJlclwiICYmIG5hbWUgPT09IFwiaXNfaW5maW5pdGVcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKCFpc0Zpbml0ZShzdWJqZWN0KSk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBJc05hbkJ1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJudW1iZXJcIiAmJiBuYW1lID09PSBcImlzX25hblwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoaXNOYU4oc3ViamVjdCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBPbmVBcmdCdWlsdGluIH0gZnJvbSAnLi9PbmVBcmdCdWlsdGluJztcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBKb2luQnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN1YmplY3QpICYmIG5hbWUgPT09IFwiam9pblwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICBjb25zdCBzZXBhcmF0b3IgPSBhcmcuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5qb2luKHNlcGFyYXRvcikpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgT25lQXJnQnVpbHRpbiB9IGZyb20gJy4vT25lQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBLZWVwQWZ0ZXJCdWlsdGluIGV4dGVuZHMgT25lQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwia2VlcF9hZnRlclwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gc3ViamVjdC5pbmRleE9mKGFyZy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3Quc3Vic3RyaW5nKGluZGV4ICsgYXJnLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkubGVuZ3RoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihcIlwiKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgT25lQXJnQnVpbHRpbiB9IGZyb20gJy4vT25lQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBLZWVwQWZ0ZXJMYXN0QnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcImtlZXBfYWZ0ZXJfbGFzdFwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gc3ViamVjdC5sYXN0SW5kZXhPZihhcmcuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSk7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LnN1YnN0cmluZyhpbmRleCArIGFyZy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpLmxlbmd0aCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoXCJcIik7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgS2VlcEJlZm9yZUJ1aWx0aW4gZXh0ZW5kcyBPbmVBcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJrZWVwX2JlZm9yZVwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gc3ViamVjdC5pbmRleE9mKGFyZy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3Quc3Vic3RyaW5nKDAsIGluZGV4KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihcIlwiKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgT25lQXJnQnVpbHRpbiB9IGZyb20gJy4vT25lQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBLZWVwQmVmb3JlTGFzdEJ1aWx0aW4gZXh0ZW5kcyBPbmVBcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJrZWVwX2JlZm9yZV9sYXN0XCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmc6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSBzdWJqZWN0Lmxhc3RJbmRleE9mKGFyZy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3Quc3Vic3RyaW5nKDAsIGluZGV4KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihcIlwiKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuXG5leHBvcnQgY2xhc3MgTGFzdEJ1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN1YmplY3QpICYmIG5hbWUgPT09IFwibGFzdFwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Piwgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKTogVmFsdWUge1xuICAgICAgICBpZiAoc3ViamVjdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3Rbc3ViamVjdC5sZW5ndGggLSAxXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYFNlcXVlbmNlIGlzIGVtcHR5LCAnbGFzdCcgYnVpbHRpbiBlcnJvcmApO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBPbmVBcmdCdWlsdGluIH0gZnJvbSAnLi9PbmVBcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIExhc3RJbmRleE9mV2l0aEJ1aWx0aW4gZXh0ZW5kcyBPbmVBcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJsYXN0X2luZGV4X29mXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmc6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QubGFzdEluZGV4T2YoYXJnLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IEJ1aWx0aW4gfSBmcm9tICcuLi9CdWlsdGluJztcbmltcG9ydCB7IFRlbXBsYXRlRXJyb3IgfSBmcm9tICcuLi9UZW1wbGF0ZUVycm9yJztcblxuZXhwb3J0IGNsYXNzIExlZnRQYWRCdWlsdGluIGltcGxlbWVudHMgQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwibGVmdF9wYWRcIjtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGUoc3ViamVjdDogYW55LCBhcmdzOiBFeHByZXNzaW9uW10sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sIHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcik6IFZhbHVlIHtcblxuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDAgfHwgYXJncy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50c2ApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGVuZ3RoID0gYXJnc1swXS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgIGxldCBmaWxsZXIgPSAnICc7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgZmlsbGVyID0gYXJnc1sxXS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFkZGluZyA9IGZpbGxlci5yZXBlYXQobGVuZ3RoKTtcblxuICAgICAgICBjb25zdCBtaXNzaW5nID0gbGVuZ3RoIC0gc3ViamVjdC5sZW5ndGg7XG5cbiAgICAgICAgaWYgKG1pc3NpbmcgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihwYWRkaW5nLnN1YnN0cmluZygwLCBtaXNzaW5nKSArIHN1YmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgTGVuZ3RoQnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwibGVuZ3RoXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0Lmxlbmd0aCk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBMb3dlckFiY0J1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJudW1iZXJcIiAmJiBuYW1lID09PSBcImxvd2VyX2FiY1wiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgY29uc3QgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBsZXQgdmFsID0gc3ViamVjdDtcblxuICAgICAgICB3aGlsZSAodmFsID4gMCkge1xuICAgICAgICAgICAgbGV0IHVuaXRzID0gKHZhbCAtIDEpICUgMjY7XG4gICAgICAgICAgICByZXN1bHQudW5zaGlmdChTdHJpbmcuZnJvbUNoYXJDb2RlKHVuaXRzICsgOTcpKTtcbiAgICAgICAgICAgIHZhbCA9ICh2YWwgLSAodW5pdHMgKyAxKSkgLyAyNjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHJlc3VsdC5qb2luKFwiXCIpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE5vQXJnQnVpbHRpbiB9IGZyb20gJy4vTm9BcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIExvd2VyQ2FzZUJ1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcImxvd2VyX2Nhc2VcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QudG9Mb3dlckNhc2UoKSk7XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBPbmVBcmdCdWlsdGluIH0gZnJvbSAnLi9PbmVBcmdCdWlsdGluJztcbmltcG9ydCB7IExhbWJkYUV4cHJlc3Npb24gfSBmcm9tICcuLi9leHByZXNzaW9uL0xhbWJkYUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuXG5leHBvcnQgY2xhc3MgTWFwQnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN1YmplY3QpICYmIG5hbWUgPT09IFwibWFwXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmcxOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0OiBhbnlbXSA9IFtdO1xuICAgICAgICBjb25zdCBsYW1iZGEgPSBhcmcxO1xuXG4gICAgICAgIGlmICghKGxhbWJkYSBpbnN0YW5jZW9mIExhbWJkYUV4cHJlc3Npb24pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEludmFsaWQgYXJndW1lbnQsIG9ubHkgbGFtYmRhIGlzIGN1cnJlbnQgc3VwcG9ydGVkYCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgc3ViamVjdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxhbWJkYS5ldmFsdWF0ZSh7ICckJCc6IHN1YmplY3RbaV0sIC4uLmRhdGEgfSkucmV0cmlldmUoKSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YocmVzdWx0KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgTWF0Y2hlc0J1aWx0aW4gZXh0ZW5kcyBPbmVBcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJtYXRjaGVzXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmc6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5tYXRjaChcIl5cIiArIGFyZy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpICsgXCIkXCIpICE9PSBudWxsKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE5vQXJnQnVpbHRpbiB9IGZyb20gJy4vTm9BcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIE1heEJ1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN1YmplY3QpICYmIG5hbWUgPT09IFwibWF4XCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICBpZiAoc3ViamVjdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVzdWx0ID0gTnVtYmVyLk1JTl9WQUxVRTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdWJqZWN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc3ViamVjdFtpXSA+IHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHN1YmplY3RbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YocmVzdWx0KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE5vQXJnQnVpbHRpbiB9IGZyb20gJy4vTm9BcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIE1pbkJ1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN1YmplY3QpICYmIG5hbWUgPT09IFwibWluXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICBpZiAoc3ViamVjdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVzdWx0ID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdWJqZWN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc3ViamVjdFtpXSA8IHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHN1YmplY3RbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YocmVzdWx0KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IFRlbXBsYXRlRXJyb3IgfSBmcm9tICcuLi9UZW1wbGF0ZUVycm9yJztcbmltcG9ydCB7IEJ1aWx0aW4gfSBmcm9tICcuLi9CdWlsdGluJztcblxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTm9BcmdCdWlsdGluIGltcGxlbWVudHMgQnVpbHRpbiB7XG5cbiAgICBhYnN0cmFjdCBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuO1xuXG4gICAgY2FsY3VsYXRlKHN1YmplY3Q6IGFueSwgYXJnczogRXhwcmVzc2lvbltdLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiBWYWx1ZSB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZhbHVhdGUoc3ViamVjdCwgZGF0YSwgcm93LCBjb2x1bW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBJbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHNgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFic3RyYWN0IGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Piwgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKTogVmFsdWU7XG59XG4iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgTnVtYmVyQnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwibnVtYmVyXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihOdW1iZXIoc3ViamVjdCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuaW1wb3J0IHsgQnVpbHRpbiB9IGZyb20gJy4uL0J1aWx0aW4nO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgT25lQXJnQnVpbHRpbiBpbXBsZW1lbnRzIEJ1aWx0aW4ge1xuXG4gICAgYWJzdHJhY3QgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbjtcblxuICAgIGNhbGN1bGF0ZShzdWJqZWN0OiBhbnksIGFyZ3M6IEV4cHJlc3Npb25bXSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Piwgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKTogVmFsdWUge1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2YWx1YXRlKHN1YmplY3QsIGFyZ3NbMF0sIGRhdGEsIHJvdywgY29sdW1uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgSW52YWxpZCBudW1iZXIgb2YgYXJndW1lbnRzYCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhYnN0cmFjdCBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Piwgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKTogVmFsdWU7XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgUmVtb3ZlQmVnaW5uaW5nQnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcInJlbW92ZV9iZWdpbm5pbmdcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzE6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgYXJnID0gYXJnMS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgIGlmIChzdWJqZWN0LnN0YXJ0c1dpdGgoYXJnKSkge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5zbGljZShhcmcubGVuZ3RoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgUmVtb3ZlRW5kaW5nQnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcInJlbW92ZV9lbmRpbmdcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzE6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgYXJnID0gYXJnMS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgIGlmIChzdWJqZWN0LmVuZHNXaXRoKGFyZykpIHtcbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3Quc2xpY2UoMCwgc3ViamVjdC5sZW5ndGggLSBhcmcubGVuZ3RoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IFR3b0FyZ0J1aWx0aW4gfSBmcm9tICcuL1R3b0FyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgUmVwbGFjZUJ1aWx0aW4gZXh0ZW5kcyBUd29BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJyZXBsYWNlXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmcxOiBFeHByZXNzaW9uLCBhcmcyOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LnJlcGxhY2VBbGwoYXJnMS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpLCBhcmcyLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpKTtcblxuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgUmV2ZXJzZUJ1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN1YmplY3QpICYmIG5hbWUgPT09IFwicmV2ZXJzZVwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5yZXZlcnNlKCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgQnVpbHRpbiB9IGZyb20gJy4uL0J1aWx0aW4nO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuXG5leHBvcnQgY2xhc3MgUmlnaHRQYWRCdWlsdGluIGltcGxlbWVudHMgQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwicmlnaHRfcGFkXCI7XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlKHN1YmplY3Q6IGFueSwgYXJnczogRXhwcmVzc2lvbltdLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiBWYWx1ZSB7XG5cbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwIHx8IGFyZ3MubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBJbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHNgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGFyZ3NbMF0uZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcblxuICAgICAgICBsZXQgZmlsbGVyID0gJyAnO1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIGZpbGxlciA9IGFyZ3NbMV0uZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSBmaWxsZXIucmVwZWF0KGxlbmd0aCk7XG5cbiAgICAgICAgY29uc3QgbWlzc2luZyA9IGxlbmd0aCAtIHN1YmplY3QubGVuZ3RoO1xuXG4gICAgICAgIGlmIChtaXNzaW5nID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdCArIHBhZGRpbmcuc3Vic3RyaW5nKDAsIG1pc3NpbmcpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE5vQXJnQnVpbHRpbiB9IGZyb20gJy4vTm9BcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIFJvdW5kQnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcIm51bWJlclwiICYmIG5hbWUgPT09IFwicm91bmRcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKE1hdGgucm91bmQoc3ViamVjdCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBPbmVBcmdCdWlsdGluIH0gZnJvbSAnLi9PbmVBcmdCdWlsdGluJztcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBTZXFDb250YWluc0J1aWx0aW4gZXh0ZW5kcyBPbmVBcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShzdWJqZWN0KSAmJiBuYW1lID09PSBcInNlcV9jb250YWluc1wiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LmluY2x1ZGVzKGFyZy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKSk7XG4gICAgfVxufSIsImltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIFNlcUluZGV4T2ZCdWlsdGluIGV4dGVuZHMgT25lQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc3ViamVjdCkgJiYgbmFtZSA9PT0gXCJzZXFfaW5kZXhfb2ZcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5pbmRleE9mKGFyZy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKSk7XG4gICAgfVxufSIsImltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIFNlcUxhc3RJbmRleE9mQnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN1YmplY3QpICYmIG5hbWUgPT09IFwic2VxX2xhc3RfaW5kZXhfb2ZcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5sYXN0SW5kZXhPZihhcmcuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgU2l6ZUJ1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN1YmplY3QpICYmIG5hbWUgPT09IFwic2l6ZVwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5sZW5ndGgpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgU29ydEJ1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN1YmplY3QpICYmIG5hbWUgPT09IFwic29ydFwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5zb3J0KCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBPbmVBcmdCdWlsdGluIH0gZnJvbSAnLi9PbmVBcmdCdWlsdGluJztcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBpc0hhc2ggfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaXNIYXNoJztcbmltcG9ydCB7IFRlbXBsYXRlRXJyb3IgfSBmcm9tICcuLi9UZW1wbGF0ZUVycm9yJztcblxuZXhwb3J0IGNsYXNzIFNvcnRCeUJ1aWx0aW4gZXh0ZW5kcyBPbmVBcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShzdWJqZWN0KSAmJiBuYW1lID09PSBcInNvcnRfYnlcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Piwgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKTogVmFsdWUge1xuICAgICAgICBjb25zdCBuYW1lID0gYXJnLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG4gICAgICAgIGlmICgoc3ViamVjdCBhcyBhbnlbXSkuZmluZCh4ID0+ICFpc0hhc2goeCkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEF0dGVtcHQgdG8gdXNlIHNvcnRfYnkgb24gYXJyYXkgZWxlbWVudCB0aGF0IGlzIG5vdCBhIGhhc2hgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3Quc29ydCgoeDogYW55LCB5OiBhbnkpID0+IHhbbmFtZV0gPCB5W25hbWVdID8gLTEgOiAwKSk7XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBPbmVBcmdCdWlsdGluIH0gZnJvbSAnLi9PbmVBcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIFNwbGl0QnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcInNwbGl0XCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmcxOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuXG4gICAgICAgIGNvbnN0IGFyZyA9IGFyZzEuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LnNwbGl0KGFyZykpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgT25lQXJnQnVpbHRpbiB9IGZyb20gJy4vT25lQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBTdGFydHNXaXRoQnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcInN0YXJ0c193aXRoXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmcxOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuXG4gICAgICAgIGNvbnN0IGFyZyA9IGFyZzEuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LnN0YXJ0c1dpdGgoYXJnKSk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBpc0RhdGUgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaXNEYXRlJztcbmltcG9ydCB7IEJ1aWx0aW4gfSBmcm9tICcuLi9CdWlsdGluJztcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IFRlbXBsYXRlRXJyb3IgfSBmcm9tICcuLi9UZW1wbGF0ZUVycm9yJztcblxuZXhwb3J0IGNsYXNzIFN0cmluZ0J1aWx0aW4gaW1wbGVtZW50cyBCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHR5cGVvZiBzdWJqZWN0ID09PSBcIm51bWJlclwiIHx8IHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiIHx8IGlzRGF0ZShzdWJqZWN0KSB8fCB0eXBlb2Ygc3ViamVjdCA9PT0gXCJib29sZWFuXCIpICYmIG5hbWUgPT09IFwic3RyaW5nXCI7XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlKHN1YmplY3Q6IGFueSwgYXJnczogRXhwcmVzc2lvbltdLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiBWYWx1ZSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc3ViamVjdCA9PT0gXCJib29sZWFuXCIpIHtcblxuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJnMSA9IGFyZ3NbMF0uZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnMSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEludmFsaWQgYXJndW1lbnQsIHN0cmluZyB0YWtlcyBzdHJpbmcgYXJndW1lbnRzYCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgYXJnMiA9IGFyZ3NbMV0uZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnMiAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEludmFsaWQgYXJndW1lbnQsIHN0cmluZyB0YWtlcyBzdHJpbmcgYXJndW1lbnRzYCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdCA/IGFyZzEgOiBhcmcyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBJbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHMgc3VwcGxpZWRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKGlzRGF0ZShzdWJqZWN0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QudG9JU09TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihTdHJpbmcoc3ViamVjdCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBJbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHMgc3VwcGxpZWRgKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgT25lQXJnQnVpbHRpbiB9IGZyb20gJy4vT25lQXJnQnVpbHRpbic7XG5pbXBvcnQgeyBMYW1iZGFFeHByZXNzaW9uIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9MYW1iZGFFeHByZXNzaW9uJztcbmltcG9ydCB7IFRlbXBsYXRlRXJyb3IgfSBmcm9tICcuLi9UZW1wbGF0ZUVycm9yJztcblxuZXhwb3J0IGNsYXNzIFRha2VXaGlsZUJ1aWx0aW4gZXh0ZW5kcyBPbmVBcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShzdWJqZWN0KSAmJiBuYW1lID09PSBcInRha2Vfd2hpbGVcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzE6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sIHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcik6IFZhbHVlIHtcblxuICAgICAgICBjb25zdCByZXN1bHQ6IGFueVtdID0gW107XG4gICAgICAgIGNvbnN0IGxhbWJkYSA9IGFyZzE7XG5cbiAgICAgICAgaWYgKCEobGFtYmRhIGluc3RhbmNlb2YgTGFtYmRhRXhwcmVzc2lvbikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgSW52YWxpZCBhcmd1bWVudCwgb25seSBsYW1iZGEgaXMgY3VycmVudCBzdXBwb3J0ZWRgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgbGV0IGJvb2wgPSB0cnVlO1xuICAgICAgICB3aGlsZSAoaSA8IHN1YmplY3QubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoYm9vbCkge1xuICAgICAgICAgICAgICAgIGJvb2wgPSBsYW1iZGEuZXZhbHVhdGUoeyAnJCQnOiBzdWJqZWN0W2ldLCAuLi5kYXRhIH0pLnJldHJpZXZlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib29sKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc3ViamVjdFtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YocmVzdWx0KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IFR3b0FyZ0J1aWx0aW4gfSBmcm9tICcuL1R3b0FyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgVGhlbkJ1aWx0aW4gZXh0ZW5kcyBUd29BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwiYm9vbGVhblwiICYmIG5hbWUgPT09IFwidGhlblwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnMTogRXhwcmVzc2lvbiwgYXJnMjogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIHN1YmplY3QgPyBhcmcxLmV2YWx1YXRlKGRhdGEpIDogYXJnMi5ldmFsdWF0ZShkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE5vQXJnQnVpbHRpbiB9IGZyb20gJy4vTm9BcmdCdWlsdGluJztcbmltcG9ydCB7IGlzRGF0ZSB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9pc0RhdGUnO1xuXG5leHBvcnQgY2xhc3MgVGltZUJ1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAodHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgfHwgaXNEYXRlKHN1YmplY3QpKSAmJiBuYW1lID09PSBcInRpbWVcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIGNvbnN0IGR0ZSA9IGlzRGF0ZShzdWJqZWN0KSA/IHN1YmplY3QgOiBuZXcgRGF0ZShzdWJqZWN0KTtcbiAgICAgICAgY29uc3QgbWlsbGlzID0gZHRlLmdldFRpbWUoKTtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YobmV3IERhdGUobWlsbGlzICUgODY0MDAwMDApKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE5vQXJnQnVpbHRpbiB9IGZyb20gJy4vTm9BcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIFRyaW1CdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJ0cmltXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LnRyaW0oKSk7XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBPbmVBcmdCdWlsdGluIH0gZnJvbSAnLi9PbmVBcmdCdWlsdGluJztcbmltcG9ydCB7IFRlbXBsYXRlRXJyb3IgfSBmcm9tICcuLi9UZW1wbGF0ZUVycm9yJztcblxuZXhwb3J0IGNsYXNzIFRydW5jYXRlQnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcInRydW5jYXRlXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmcxOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgYXJnID0gYXJnMS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgYXJnICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEFyZ3VtZW50IHRvIHRydW5jYXRlIGlzIG5vdCBhIG51bWJlcmApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN1YmplY3QubGVuZ3RoID4gYXJnIC0gNSkge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5zdWJzdHJpbmcoMCwgYXJnIC0gNSkgKyBcIlsuLi5dXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdCk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IFRlbXBsYXRlRXJyb3IgfSBmcm9tICcuLi9UZW1wbGF0ZUVycm9yJztcbmltcG9ydCB7IEJ1aWx0aW4gfSBmcm9tICcuLi9CdWlsdGluJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFR3b0FyZ0J1aWx0aW4gaW1wbGVtZW50cyBCdWlsdGluIHtcblxuICAgIGFic3RyYWN0IGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW47XG5cbiAgICBjYWxjdWxhdGUoc3ViamVjdDogYW55LCBhcmdzOiBFeHByZXNzaW9uW10sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sIHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcik6IFZhbHVlIHtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmFsdWF0ZShzdWJqZWN0LCBhcmdzWzBdLCBhcmdzWzFdLCBkYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgSW52YWxpZCBudW1iZXIgb2YgYXJndW1lbnRzYCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhYnN0cmFjdCBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzE6IEV4cHJlc3Npb24sIGFyZzI6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZTtcbn1cbiIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5pbXBvcnQgeyBpc1doaXRlc3BhY2UgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaXNXaGl0ZXNwYWNlJztcblxuZXhwb3J0IGNsYXNzIFVuY2FwRmlyc3RCdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJ1bmNhcF9maXJzdFwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgc3ViamVjdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICghaXNXaGl0ZXNwYWNlKHN1YmplY3QuY2hhckF0KGluZGV4KSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3Quc2xpY2UoMCwgaW5kZXgpICsgc3ViamVjdC5jaGFyQXQoaW5kZXgpLnRvTG93ZXJDYXNlKCkgKyBzdWJqZWN0LnNsaWNlKGluZGV4ICsgMSkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgVXBwZXJBYmNCdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwibnVtYmVyXCIgJiYgbmFtZSA9PT0gXCJ1cHBlcl9hYmNcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdDogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgbGV0IHZhbCA9IHN1YmplY3Q7XG5cbiAgICAgICAgd2hpbGUgKHZhbCA+IDApIHtcbiAgICAgICAgICAgIGxldCB1bml0cyA9ICh2YWwgLSAxKSAlIDI2O1xuICAgICAgICAgICAgcmVzdWx0LnVuc2hpZnQoU3RyaW5nLmZyb21DaGFyQ29kZSh1bml0cyArIDY1KSk7XG4gICAgICAgICAgICB2YWwgPSAodmFsIC0gKHVuaXRzICsgMSkpIC8gMjY7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihyZXN1bHQuam9pbihcIlwiKSk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBVcHBlckNhc2VCdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJ1cHBlcl9jYXNlXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LnRvVXBwZXJDYXNlKCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgVXJsQnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwidXJsXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihlbmNvZGVVUkkoc3ViamVjdCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuaW1wb3J0IHsgaXNXaGl0ZXNwYWNlIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL2lzV2hpdGVzcGFjZSc7XG5cbmV4cG9ydCBjbGFzcyBXb3JkTGlzdEJ1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcIndvcmRfbGlzdFwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoKHN1YmplY3QgYXMgc3RyaW5nKS5zcGxpdChcIiBcIikuZmlsdGVyKGFyZyA9PiBhcmcubGVuZ3RoKS5maWx0ZXIoYXJnID0+ICFpc1doaXRlc3BhY2UoYXJnKSkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBUaGVuQnVpbHRpbiB9IGZyb20gJy4vVGhlbkJ1aWx0aW4nO1xuaW1wb3J0IHsgVXBwZXJDYXNlQnVpbHRpbiB9IGZyb20gJy4vVXBwZXJDYXNlQnVpbHRpbic7XG5pbXBvcnQgeyBMb3dlckNhc2VCdWlsdGluIH0gZnJvbSAnLi9Mb3dlckNhc2VCdWlsdGluJztcbmltcG9ydCB7IENhcEZpcnN0QnVpbHRpbiB9IGZyb20gJy4vQ2FwRmlyc3RCdWlsdGluJztcbmltcG9ydCB7IENhcGl0YWxpemVCdWlsdGluIH0gZnJvbSAnLi9DYXBpdGFsaXplQnVpbHRpbic7XG5pbXBvcnQgeyBVbmNhcEZpcnN0QnVpbHRpbiB9IGZyb20gJy4vVW5jYXBGaXJzdEJ1aWx0aW4nO1xuaW1wb3J0IHsgVHJpbUJ1aWx0aW4gfSBmcm9tICcuL1RyaW1CdWlsdGluJztcbmltcG9ydCB7IENob3BMaW5lYnJlYWtCdWlsdGluIH0gZnJvbSAnLi9DaG9wTGluZWJyZWFrQnVpbHRpbic7XG5pbXBvcnQgeyBCb29sZWFuQnVpbHRpbiB9IGZyb20gJy4vQm9vbGVhbkJ1aWx0aW4nO1xuaW1wb3J0IHsgRGF0ZUJ1aWx0aW4gfSBmcm9tICcuL0RhdGVCdWlsdGluJztcbmltcG9ydCB7IERhdGV0aW1lQnVpbHRpbiB9IGZyb20gJy4vRGF0ZXRpbWVCdWlsdGluJztcbmltcG9ydCB7IFRpbWVCdWlsdGluIH0gZnJvbSAnLi9UaW1lQnVpbHRpbic7XG5pbXBvcnQgeyBMZW5ndGhCdWlsdGluIH0gZnJvbSAnLi9MZW5ndGhCdWlsdGluJztcbmltcG9ydCB7IFNpemVCdWlsdGluIH0gZnJvbSAnLi9TaXplQnVpbHRpbic7XG5pbXBvcnQgeyBTdHJpbmdCdWlsdGluIH0gZnJvbSAnLi9TdHJpbmdCdWlsdGluJztcbmltcG9ydCB7IENvbnRhaW5zQnVpbHRpbiB9IGZyb20gJy4vQ29udGFpbnNCdWlsdGluJztcbmltcG9ydCB7IEVuZHNXaXRoQnVpbHRpbiB9IGZyb20gJy4vRW5kc1dpdGhCdWlsdGluJztcbmltcG9ydCB7IEVuc3VyZUVuZHNXaXRoQnVpbHRpbiB9IGZyb20gJy4vRW5zdXJlRW5kc1dpdGhCdWlsdGluJztcbmltcG9ydCB7IEVuc3VyZVN0YXJ0c1dpdGhCdWlsdGluIH0gZnJvbSAnLi9FbnN1cmVTdGFydHNXaXRoQnVpbHRpbic7XG5pbXBvcnQgeyBJbmRleE9mV2l0aEJ1aWx0aW4gfSBmcm9tICcuL0luZGV4T2ZCdWlsdGluJztcbmltcG9ydCB7IExhc3RJbmRleE9mV2l0aEJ1aWx0aW4gfSBmcm9tICcuL0xhc3RJbmRleE9mQnVpbHRpbic7XG5pbXBvcnQgeyBLZWVwQWZ0ZXJCdWlsdGluIH0gZnJvbSAnLi9LZWVwQWZ0ZXJCdWlsdGluJztcbmltcG9ydCB7IEtlZXBBZnRlckxhc3RCdWlsdGluIH0gZnJvbSAnLi9LZWVwQWZ0ZXJMYXN0QnVpbHRpbic7XG5pbXBvcnQgeyBLZWVwQmVmb3JlQnVpbHRpbiB9IGZyb20gJy4vS2VlcEJlZm9yZUJ1aWx0aW4nO1xuaW1wb3J0IHsgS2VlcEJlZm9yZUxhc3RCdWlsdGluIH0gZnJvbSAnLi9LZWVwQmVmb3JlTGFzdEJ1aWx0aW4nO1xuaW1wb3J0IHsgTGVmdFBhZEJ1aWx0aW4gfSBmcm9tICcuL0xlZnRQYWRCdWlsdGluJztcbmltcG9ydCB7IFJpZ2h0UGFkQnVpbHRpbiB9IGZyb20gJy4vUmlnaHRQYWRCdWlsdGluJztcbmltcG9ydCB7IE1hdGNoZXNCdWlsdGluIH0gZnJvbSAnLi9NYXRjaGVzQnVpbHRpbic7XG5pbXBvcnQgeyBOdW1iZXJCdWlsdGluIH0gZnJvbSAnLi9OdW1iZXJFeHByZXNzaW9uJztcbmltcG9ydCB7IFJlcGxhY2VCdWlsdGluIH0gZnJvbSAnLi9SZXBsYWNlQnVpbHRpbic7XG5pbXBvcnQgeyBSZW1vdmVCZWdpbm5pbmdCdWlsdGluIH0gZnJvbSAnLi9SZW1vdmVCZWdpbm5pbmdCdWlsdGluJztcbmltcG9ydCB7IFJlbW92ZUVuZGluZ0J1aWx0aW4gfSBmcm9tICcuL1JlbW92ZUVuZGluZ0J1aWx0aW4nO1xuaW1wb3J0IHsgU3BsaXRCdWlsdGluIH0gZnJvbSAnLi9TcGxpdEJ1aWx0aW4nO1xuaW1wb3J0IHsgU3RhcnRzV2l0aEJ1aWx0aW4gfSBmcm9tICcuL1N0YXJ0c1dpdGhCdWlsdGluJztcbmltcG9ydCB7IFRydW5jYXRlQnVpbHRpbiB9IGZyb20gJy4vVHJ1bmNhdGVCdWlsdGluJztcbmltcG9ydCB7IFVybEJ1aWx0aW4gfSBmcm9tICcuL1VybEJ1aWx0aW4nO1xuaW1wb3J0IHsgV29yZExpc3RCdWlsdGluIH0gZnJvbSAnLi9Xb3JkTGlzdEJ1aWx0aW4nO1xuaW1wb3J0IHsgSXNJbmZpbml0ZUJ1aWx0aW4gfSBmcm9tICcuL0lzSW5maW5pdGVCdWlsdGluJztcbmltcG9ydCB7IElzTmFuQnVpbHRpbiB9IGZyb20gJy4vSXNOYW5CdWlsdGluJztcbmltcG9ydCB7IExvd2VyQWJjQnVpbHRpbiB9IGZyb20gJy4vTG93ZXJBYmNCdWlsdGluJztcbmltcG9ydCB7IFVwcGVyQWJjQnVpbHRpbiB9IGZyb20gJy4vVXBwZXJBYmNCdWlsdGluJztcbmltcG9ydCB7IFJvdW5kQnVpbHRpbiB9IGZyb20gJy4vUm91bmRCdWlsdGluJztcbmltcG9ydCB7IENlaWxCdWlsdGluIH0gZnJvbSAnLi9DZWlsQnVpbHRpbic7XG5pbXBvcnQgeyBGbG9vckJ1aWx0aW4gfSBmcm9tICcuL0Zsb29yQnVpbHRpbic7XG5pbXBvcnQgeyBDaHVua0J1aWx0aW4gfSBmcm9tICcuL0NodW5rQnVpbHRpbic7XG5pbXBvcnQgeyBEcm9wV2hpbGVCdWlsdGluIH0gZnJvbSAnLi9Ecm9wV2hpbGVCdWlsdGluJztcbmltcG9ydCB7IEZpbHRlckJ1aWx0aW4gfSBmcm9tICcuL0ZpbHRlckJ1aWx0aW4nO1xuaW1wb3J0IHsgRmlyc3RCdWlsdGluIH0gZnJvbSAnLi9GaXJzdEJ1aWx0aW4nO1xuaW1wb3J0IHsgSm9pbkJ1aWx0aW4gfSBmcm9tICcuL0pvaW5CdWlsdGluJztcbmltcG9ydCB7IExhc3RCdWlsdGluIH0gZnJvbSAnLi9MYXN0QnVpbHRpbic7XG5pbXBvcnQgeyBNYXBCdWlsdGluIH0gZnJvbSAnLi9NYXBCdWlsdGluJztcbmltcG9ydCB7IE1pbkJ1aWx0aW4gfSBmcm9tICcuL01pbkJ1aWx0aW4nO1xuaW1wb3J0IHsgTWF4QnVpbHRpbiB9IGZyb20gJy4vTWF4QnVpbHRpbic7XG5pbXBvcnQgeyBSZXZlcnNlQnVpbHRpbiB9IGZyb20gJy4vUmV2ZXJzZUJ1aWx0aW4nO1xuaW1wb3J0IHsgU2VxQ29udGFpbnNCdWlsdGluIH0gZnJvbSAnLi9TZXFDb250YWluc0J1aWx0aW4nO1xuaW1wb3J0IHsgU2VxSW5kZXhPZkJ1aWx0aW4gfSBmcm9tICcuL1NlcUluZGV4T2ZCdWlsdGluJztcbmltcG9ydCB7IFNlcUxhc3RJbmRleE9mQnVpbHRpbiB9IGZyb20gJy4vU2VxTGFzdEluZGV4T2ZCdWlsdGluJztcbmltcG9ydCB7IFNvcnRCdWlsdGluIH0gZnJvbSAnLi9Tb3J0QnVpbHRpbic7XG5pbXBvcnQgeyBTb3J0QnlCdWlsdGluIH0gZnJvbSAnLi9Tb3J0QnlCdWlsdGluJztcbmltcG9ydCB7IFRha2VXaGlsZUJ1aWx0aW4gfSBmcm9tICcuL1Rha2VXaGlsZUJ1aWx0aW4nO1xuaW1wb3J0IHsgSGFzQ29udGVudEJ1aWx0aW4gfSBmcm9tICcuL0hhc0NvbnRlbnRCdWlsdGluJztcblxuY29uc3QgcmVnaXN0cnkgPSBbXG4gICAgbmV3IFRoZW5CdWlsdGluKCksXG4gICAgbmV3IFVwcGVyQ2FzZUJ1aWx0aW4oKSxcbiAgICBuZXcgTG93ZXJDYXNlQnVpbHRpbigpLFxuICAgIG5ldyBDYXBGaXJzdEJ1aWx0aW4oKSxcbiAgICBuZXcgQ2FwaXRhbGl6ZUJ1aWx0aW4oKSxcbiAgICBuZXcgVW5jYXBGaXJzdEJ1aWx0aW4oKSxcbiAgICBuZXcgVHJpbUJ1aWx0aW4oKSxcbiAgICBuZXcgQ2hvcExpbmVicmVha0J1aWx0aW4oKSxcbiAgICBuZXcgQm9vbGVhbkJ1aWx0aW4oKSxcbiAgICBuZXcgRGF0ZUJ1aWx0aW4oKSxcbiAgICBuZXcgRGF0ZXRpbWVCdWlsdGluKCksXG4gICAgbmV3IFRpbWVCdWlsdGluKCksXG4gICAgbmV3IExlbmd0aEJ1aWx0aW4oKSxcbiAgICBuZXcgU2l6ZUJ1aWx0aW4oKSxcbiAgICBuZXcgU3RyaW5nQnVpbHRpbigpLFxuICAgIG5ldyBDb250YWluc0J1aWx0aW4oKSxcbiAgICBuZXcgRW5kc1dpdGhCdWlsdGluKCksXG4gICAgbmV3IEVuc3VyZUVuZHNXaXRoQnVpbHRpbigpLFxuICAgIG5ldyBFbnN1cmVTdGFydHNXaXRoQnVpbHRpbigpLFxuICAgIG5ldyBJbmRleE9mV2l0aEJ1aWx0aW4oKSxcbiAgICBuZXcgTGFzdEluZGV4T2ZXaXRoQnVpbHRpbigpLFxuICAgIG5ldyBLZWVwQWZ0ZXJCdWlsdGluKCksXG4gICAgbmV3IEtlZXBBZnRlckxhc3RCdWlsdGluKCksXG4gICAgbmV3IEtlZXBCZWZvcmVCdWlsdGluKCksXG4gICAgbmV3IEtlZXBCZWZvcmVMYXN0QnVpbHRpbigpLFxuICAgIG5ldyBMZWZ0UGFkQnVpbHRpbigpLFxuICAgIG5ldyBSaWdodFBhZEJ1aWx0aW4oKSxcbiAgICBuZXcgTWF0Y2hlc0J1aWx0aW4oKSxcbiAgICBuZXcgTnVtYmVyQnVpbHRpbigpLFxuICAgIG5ldyBSZXBsYWNlQnVpbHRpbigpLFxuICAgIG5ldyBSZW1vdmVCZWdpbm5pbmdCdWlsdGluKCksXG4gICAgbmV3IFJlbW92ZUVuZGluZ0J1aWx0aW4oKSxcbiAgICBuZXcgU3BsaXRCdWlsdGluKCksXG4gICAgbmV3IFN0YXJ0c1dpdGhCdWlsdGluKCksXG4gICAgbmV3IFRydW5jYXRlQnVpbHRpbigpLFxuICAgIG5ldyBVcmxCdWlsdGluKCksXG4gICAgbmV3IFdvcmRMaXN0QnVpbHRpbigpLFxuICAgIG5ldyBJc0luZmluaXRlQnVpbHRpbigpLFxuICAgIG5ldyBJc05hbkJ1aWx0aW4oKSxcbiAgICBuZXcgTG93ZXJBYmNCdWlsdGluKCksXG4gICAgbmV3IFVwcGVyQWJjQnVpbHRpbigpLFxuICAgIG5ldyBSb3VuZEJ1aWx0aW4oKSxcbiAgICBuZXcgQ2VpbEJ1aWx0aW4oKSxcbiAgICBuZXcgRmxvb3JCdWlsdGluKCksXG4gICAgbmV3IENodW5rQnVpbHRpbigpLFxuICAgIG5ldyBEcm9wV2hpbGVCdWlsdGluKCksXG4gICAgbmV3IEZpbHRlckJ1aWx0aW4oKSxcbiAgICBuZXcgRmlyc3RCdWlsdGluKCksXG4gICAgbmV3IEpvaW5CdWlsdGluKCksXG4gICAgbmV3IExhc3RCdWlsdGluKCksXG4gICAgbmV3IE1hcEJ1aWx0aW4oKSxcbiAgICBuZXcgTWluQnVpbHRpbigpLFxuICAgIG5ldyBNYXhCdWlsdGluKCksXG4gICAgbmV3IFJldmVyc2VCdWlsdGluKCksXG4gICAgbmV3IFNlcUNvbnRhaW5zQnVpbHRpbigpLFxuICAgIG5ldyBTZXFJbmRleE9mQnVpbHRpbigpLFxuICAgIG5ldyBTZXFMYXN0SW5kZXhPZkJ1aWx0aW4oKSxcbiAgICBuZXcgU29ydEJ1aWx0aW4oKSxcbiAgICBuZXcgU29ydEJ5QnVpbHRpbigpLFxuICAgIG5ldyBUYWtlV2hpbGVCdWlsdGluKCksXG4gICAgbmV3IEhhc0NvbnRlbnRCdWlsdGluKClcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kKHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlZ2lzdHJ5LmZpbmQoYnVpbHRpbiA9PiBidWlsdGluLmFjY2VwdChzdWJqZWN0LCBuYW1lKSk7XG59IiwiaW1wb3J0IHsgVG9rZW4sIHRva2VuaXplLCBUb2tlblR5cGUgfSBmcm9tICcuL2V4cHJlc3Npb24vdG9rZW5pemUnO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBUZW1wbGF0ZUVycm9yIH0gZnJvbSAnLi9UZW1wbGF0ZUVycm9yJztcbmltcG9ydCB7IEVxdWFsRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9FcXVhbEV4cHJlc3Npb24nO1xuaW1wb3J0IHsgQWRkaXRpb25FeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL0FkZGl0aW9uRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBEaXZpc2lvbkV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vRGl2aXNpb25FeHByZXNzaW9uJztcbmltcG9ydCB7IEFuZEV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vQW5kRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBEZWNyZW1lbnRFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL0RlY3JlbWVudEV4cHJlc3Npb24nO1xuaW1wb3J0IHsgQXNzaWduRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9Bc3NpZ25FeHByZXNzaW9uJztcbmltcG9ydCB7IERlcmVmZXJlbmNlRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9EZXJlZmVyZW5jZUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgQ2FsbE1ldGhvZEV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vQ2FsbE1ldGhvZEV4cHJlc3Npb24nO1xuaW1wb3J0IHsgQ2FsbEJ1aWx0aW5FeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL0NhbGxCdWlsdGluRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBOZWdhdGl2ZUV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vTmVnYXRpdmVFeHByZXNzaW9uJztcbmltcG9ydCB7IFBvc2l0aXZlRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9Qb3NpdGl2ZUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTm90RXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9Ob3RFeHByZXNzaW9uJztcbmltcG9ydCB7IFJlZmVyZW5jZUV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vUmVmZXJlbmNlRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBTdHJpbmdFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL1N0cmluZ0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgVHJ1ZUV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vVHJ1ZUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgRmFsc2VFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL0ZhbHNlRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBOdW1iZXJFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL051bWJlckV4cHJlc3Npb24nO1xuaW1wb3J0IHsgU2VxdWVuY2VFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL1NlcXVlbmNlRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBIYXNoRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9IYXNoRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBEZWZhdWx0RXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9EZWZhdWx0RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBTdWJ0cmFjdGlvbkV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vU3Vic3RyYWN0aW9uRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBNdWx0aXBsaWNhdGlvbkV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vTXVsdGlwbGljYXRpb25FeHByZXNzaW9uJztcbmltcG9ydCB7IE1vZHVsdXNFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL01vZHVsdXNFeHByZXNzaW9uJztcbmltcG9ydCB7IE5vdEVxdWFsRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9Ob3RFcXVhbEV4cHJlc3Npb24nO1xuaW1wb3J0IHsgT3JFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL09yRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMZXNzVGhhbkV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vTGVzc1RoYW5FeHByZXNzaW9uJztcbmltcG9ydCB7IEdyZWF0ZXJUaGFuRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9HcmVhdGVyVGhhbkV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGVzc1RoYW5PckVxdWFsRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9MZXNzVGhhbk9yRXF1YWxFeHByZXNzaW9uJztcbmltcG9ydCB7IEdyZWF0ZXJUaGFuT3JFcXVhbEV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vR3JlYXRlclRoYW5PckVxdWFsRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBBZGRBbmRBc3NpZ25FeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL0FkZEFuZEFzc2lnbkV4cHJlc3Npb24nO1xuaW1wb3J0IHsgU3VidHJhY3RBbmRBc3NpZ25FeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL1N1YnN0cmFjdEFuZEFzc2lnbkV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTXVsdGlwbHlBbmRBc3NpZ25FeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL011bHRpcGx5QW5kQXNzaWduRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBEaXZpZGVBbmRBc3NpZ25FeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL0RpdmlkZUFuZEFzc2lnbkV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTW9kdWx1c0FuZEFzc2lnbkV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vTW9kdWx1c0FuZEFzc2lnbkV4cHJlc3Npb24nO1xuaW1wb3J0IHsgUmFuZ2VTdGFydGluZ0V4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vUmFuZ2VTdGFydGluZ0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgUmFuZ2VJbmNsdXNpdmVFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL1JhbmdlSW5jbHVzaXZlRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBSYW5nZUV4Y2x1c2l2ZUV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vUmFuZ2VFeGNsdXNpdmVFeHByZXNzaW9uJztcbmltcG9ydCB7IFJhbmdlTGVuZ3RoSW5jcmVtZW50RXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9SYW5nZUxlbmd0aEluY3JlbWVudEV4cHJlc3Npb24nO1xuaW1wb3J0IHsgUmFuZ2VMZW5ndGhEZWNyZW1lbnRFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL1JhbmdlTGVuZ3RoRGVjcmVtZW50RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBTbGljZUV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vU2xpY2VFeHByZXNzaW9uJztcbmltcG9ydCB7IElzRGVmaW5lZEV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vSXNEZWZpbmVkRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBJbmNyZW1lbnRFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL0luY3JlbWVudEV4cHJlc3Npb24nO1xuaW1wb3J0IHsgUGFyZW50aGVzaXNFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL1BhcmVudGhlc2lzRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBBbmNpbGxhcnlFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL0FuY2lsbGFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGFtYmRhRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9MYW1iZGFFeHByZXNzaW9uJztcbmltcG9ydCB7IGlzQ29tcG9zaW5nRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9Db21wb3NpbmdFeHByZXNzaW9uJztcblxuY29uc3QgUFJFQ0VERU5DRTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcbiAgICAnPyc6IDIsXG4gICAgJy4nOiAyLFxuICAgICc/Pyc6IDIsXG4gICAgJ2RlZmF1bHQnOiAyLFxuICAgICcoJzogMixcbiAgICAnWyc6IDIsXG4gICAgJy8nOiAzLFxuICAgICcqJzogMyxcbiAgICAnJSc6IDMsXG4gICAgJysnOiA0LFxuICAgICctJzogNCxcbiAgICAnLi48JzogNSxcbiAgICAnLi4hJzogNSxcbiAgICAnLi4qJzogNSxcbiAgICAnLi4nOiA1LFxuICAgICcuLiotJzogNSxcbiAgICAnLi4qKyc6IDUsXG4gICAgJ25vdCc6IDUsXG4gICAgJzwnOiA2LFxuICAgICc+JzogNixcbiAgICAnPj0nOiA2LFxuICAgICc8PSc6IDYsXG4gICAgJz09JzogNyxcbiAgICAnIT0nOiA3LFxuICAgICcmJic6IDgsXG4gICAgJ3x8JzogOSxcbiAgICAnLT4nOiAxMCxcbiAgICAnKz0nOiAxMSxcbiAgICAnLT0nOiAxMSxcbiAgICAnLz0nOiAxMSxcbiAgICAnJT0nOiAxMSxcbiAgICAnKj0nOiAxMSxcbiAgICAnPSc6IDExLFxufTtcblxuZnVuY3Rpb24gaW50ZXJwcmV0T3BlcmFuZCh0b2tlbnM6IFRva2VuW10pOiBbRXhwcmVzc2lvbiB8IHVuZGVmaW5lZCwgdG9rZW46IFRva2VuXSB7XG5cbiAgICBsZXQgdG9rZW4gPSB0b2tlbnMuc2hpZnQoKSwgZXhwcmVzc2lvbiA9IHVuZGVmaW5lZDtcblxuICAgIGlmICh0b2tlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNob3VsZCBuZXZlciBoYXBwZW5cIik7XG4gICAgfSBlbHNlIGlmICh0b2tlbj8uZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQ0xPU0VfSEFTSCkge1xuICAgICAgICByZXR1cm4gW3VuZGVmaW5lZCwgdG9rZW5dO1xuICAgIH0gZWxzZSBpZiAodG9rZW4/LmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkNMT1NFX1NFUVVFTkNFKSB7XG4gICAgICAgIHJldHVybiBbdW5kZWZpbmVkLCB0b2tlbl07XG4gICAgfSBlbHNlIGlmICh0b2tlbj8uZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQ0xPU0VfUEFSRU5USEVTSVMpIHtcbiAgICAgICAgcmV0dXJuIFt1bmRlZmluZWQsIHRva2VuXTtcbiAgICB9IGVsc2UgaWYgKHRva2VuPy5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5PUEVOX1BBUkVOVEhFU0lTKSB7XG5cbiAgICAgICAgY29uc3Qgcm93ID0gdG9rZW4uZ2V0Um93KCk7XG4gICAgICAgIGNvbnN0IGNvbHVtbiA9IHRva2VuLmdldENvbHVtbigpO1xuXG4gICAgICAgIFtleHByZXNzaW9uLCB0b2tlbl0gPSBpbnRlcnByZXRFeHByZXNzaW9uKHRva2Vucyk7XG5cbiAgICAgICAgaWYgKHRva2VuPy5nZXRUeXBlKCkgIT0gVG9rZW5UeXBlLkNMT1NFX1BBUkVOVEhFU0lTKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYE9wZW4gcGFyZW50aGVzaXMgbm90IGNsb3NlZCB3aXRoIGEgY2xvc2UgcGFyZW50aGVzaXNgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChleHByZXNzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgUGFyZW50aGVzaXMgaXMgZW1wdHlgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbbmV3IFBhcmVudGhlc2lzRXhwcmVzc2lvbihleHByZXNzaW9uLCB0b2tlbi5nZXRSb3coKSwgdG9rZW4uZ2V0Q29sdW1uKCkpLCB0b2tlbl07XG4gICAgfSBlbHNlIGlmICh0b2tlbj8uZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuUExVUykge1xuICAgICAgICAvL3dlIGhhdmUgZW5jb3VudGVyZWQgYSArIHN5bWJvbCB3aGVyZSB3ZSBleHBlY3QgYW4gZXhwcmVzc2lvbiwgc28gaXQgaXMgdGhlIHNpZ24gZm9yIGEgbnVtYmVyIHRoYXQgZm9sbG93cy5cbiAgICAgICAgY29uc3QgW2FyZywgdG9rZW5dID0gaW50ZXJwcmV0T3BlcmFuZCh0b2tlbnMpO1xuICAgICAgICBpZiAoYXJnID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSwgYFVuYXJ5IG9wZXJhdG9yICcke3Rva2VuLmdldFRva2VuKCl9JyBleHBlY3RzIGFuIGV4cHJlc3Npb25gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW25ldyBQb3NpdGl2ZUV4cHJlc3Npb24oYXJnLCB0b2tlbi5nZXRSb3coKSwgdG9rZW4uZ2V0Q29sdW1uKCkpLCB0b2tlbl07XG4gICAgfSBlbHNlIGlmICh0b2tlbj8uZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuTUlOVVMpIHtcbiAgICAgICAgLy93ZSBoYXZlIGVuY291bnRlcmVkIGEgLSBzeW1ib2wgd2hlcmUgd2UgZXhwZWN0IGFuIGV4cHJlc3Npb24sIHNvIGl0IGlzIHRoZSBzaWduIGZvciBhIG51bWJlciB0aGF0IGZvbGxvd3MuXG4gICAgICAgIGNvbnN0IFthcmcsIHRva2VuXSA9IGludGVycHJldE9wZXJhbmQodG9rZW5zKTtcbiAgICAgICAgaWYgKGFyZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0b2tlbi5nZXRSb3coKSwgdG9rZW4uZ2V0Q29sdW1uKCksIGBVbmFyeSBvcGVyYXRvciAnJHt0b2tlbi5nZXRUb2tlbigpfScgZXhwZWN0cyBhbiBleHByZXNzaW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtuZXcgTmVnYXRpdmVFeHByZXNzaW9uKGFyZywgdG9rZW4uZ2V0Um93KCksIHRva2VuLmdldENvbHVtbigpKSwgdG9rZW5dO1xuICAgIH0gZWxzZSBpZiAodG9rZW4/LmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkJBTkcpIHtcblxuICAgICAgICBjb25zdCBbYXJnLCB0b2tlbl0gPSBpbnRlcnByZXRPcGVyYW5kKHRva2Vucyk7XG4gICAgICAgIGlmIChhcmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodG9rZW4uZ2V0Um93KCksIHRva2VuLmdldENvbHVtbigpLCBgVW5hcnkgb3BlcmF0b3IgJyR7dG9rZW4uZ2V0VG9rZW4oKX0nIGV4cGVjdHMgYW4gZXhwcmVzc2lvbmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbbmV3IE5vdEV4cHJlc3Npb24oYXJnLCB0b2tlbi5nZXRSb3coKSwgdG9rZW4uZ2V0Q29sdW1uKCkpLCB0b2tlbl07XG4gICAgfSBlbHNlIGlmICh0b2tlbj8uZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuUkVGRVJFTkNFKSB7XG4gICAgICAgIHJldHVybiBbbmV3IFJlZmVyZW5jZUV4cHJlc3Npb24odG9rZW4uZ2V0VG9rZW4oKSwgdG9rZW4uZ2V0Um93KCksIHRva2VuLmdldENvbHVtbigpKSwgdG9rZW5dO1xuICAgIH0gZWxzZSBpZiAodG9rZW4/LmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLlNUUklORykge1xuICAgICAgICByZXR1cm4gW25ldyBTdHJpbmdFeHByZXNzaW9uKHRva2VuLmdldFRva2VuKCksIHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSksIHRva2VuXTtcbiAgICB9IGVsc2UgaWYgKHRva2VuPy5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5UUlVFKSB7XG4gICAgICAgIHJldHVybiBbbmV3IFRydWVFeHByZXNzaW9uKHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSksIHRva2VuXTtcbiAgICB9IGVsc2UgaWYgKHRva2VuPy5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5GQUxTRSkge1xuICAgICAgICByZXR1cm4gW25ldyBGYWxzZUV4cHJlc3Npb24odG9rZW4uZ2V0Um93KCksIHRva2VuLmdldENvbHVtbigpKSwgdG9rZW5dO1xuICAgIH0gZWxzZSBpZiAodG9rZW4/LmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLk5VTUJFUikge1xuICAgICAgICByZXR1cm4gW25ldyBOdW1iZXJFeHByZXNzaW9uKHRva2VuLmdldFRva2VuKCksIHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSksIHRva2VuXTtcbiAgICB9IGVsc2UgaWYgKHRva2VuPy5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5PUEVOX1NFUVVFTkNFKSB7XG5cbiAgICAgICAgY29uc3QgZWxlbWVudHM6IEV4cHJlc3Npb25bXSA9IFtdO1xuXG4gICAgICAgIGxldCByb3cgPSB0b2tlbi5nZXRSb3coKSwgY29sdW1uID0gdG9rZW4uZ2V0Q29sdW1uKCk7XG5cbiAgICAgICAgW2V4cHJlc3Npb24sIHRva2VuXSA9IGludGVycHJldEV4cHJlc3Npb24odG9rZW5zKTtcblxuICAgICAgICBpZiAodG9rZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBzZXF1ZW5jZSBpbmNvcnJlY3RseSB0ZXJtaW5hdGVkYCk7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAodG9rZW4/LmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkNPTU1BKSB7XG5cbiAgICAgICAgICAgIGlmIChleHByZXNzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0b2tlbi5nZXRSb3coKSwgdG9rZW4uZ2V0Q29sdW1uKCksIGBFeHByZXNzaW9uIHByZWNlZGluZyBjb21tYSBpbiBzZXF1ZW5jZSBpcyBlbXB0eWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudHMucHVzaChleHByZXNzaW9uKTtcblxuICAgICAgICAgICAgcm93ID0gdG9rZW4uZ2V0Um93KCk7XG4gICAgICAgICAgICBjb2x1bW4gPSB0b2tlbi5nZXRDb2x1bW4oKTtcblxuICAgICAgICAgICAgW2V4cHJlc3Npb24sIHRva2VuXSA9IGludGVycHJldEV4cHJlc3Npb24odG9rZW5zKTtcblxuICAgICAgICAgICAgaWYgKHRva2VuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYHNlcXVlbmNlIGluY29ycmVjdGx5IHRlcm1pbmF0ZWRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhwcmVzc2lvbikge1xuICAgICAgICAgICAgZWxlbWVudHMucHVzaChleHByZXNzaW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b2tlbj8uZ2V0VHlwZSgpICE9PSBUb2tlblR5cGUuQ0xPU0VfU0VRVUVOQ0UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSwgYE9wZW4gc2VxdWVuY2UgbWlzc2luZyBjbG9zZSBzZXF1ZW5jZWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtuZXcgU2VxdWVuY2VFeHByZXNzaW9uKGVsZW1lbnRzKSwgdG9rZW5dO1xuICAgIH0gZWxzZSBpZiAodG9rZW4/LmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLk9QRU5fSEFTSCkge1xuXG4gICAgICAgIGxldCByb3cgPSB0b2tlbi5nZXRSb3coKSwgY29sdW1uID0gdG9rZW4uZ2V0Q29sdW1uKCk7XG5cbiAgICAgICAgY29uc3QgaGFzaDogUmVjb3JkPHN0cmluZywgRXhwcmVzc2lvbj4gPSB7fTtcblxuICAgICAgICBmdW5jdGlvbiByZWFkS2V5UGFpcigpIHtcbiAgICAgICAgICAgIGlmIChrZXk/LmdldFR5cGUoKSAhPT0gVG9rZW5UeXBlLlNUUklORykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgSGFzaCBtaXNzaW5nIGtleSBzdHJpbmdgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGNvbG9uID0gdG9rZW5zLnNoaWZ0KCk7XG5cbiAgICAgICAgICAgIGlmIChjb2xvbj8uZ2V0VHlwZSgpICE9PSBUb2tlblR5cGUuQ09MT04pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEhhc2ggbWlzc2luZyBjb2xvbiBzZXBhcmF0b3IgZm9yIGtleSB2YWx1ZSBwYWlyYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFtleHByZXNzaW9uLCB0b2tlbl0gPSBpbnRlcnByZXRFeHByZXNzaW9uKHRva2Vucyk7XG5cbiAgICAgICAgICAgIGlmIChleHByZXNzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEV4cHJlc3Npb24gZm9yIHZhbHVlIGluIGhhc2ggaXMgZW1wdHlgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaGFzaFtrZXkuZ2V0VG9rZW4oKV0gPSBleHByZXNzaW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGtleSA9IHRva2Vucy5zaGlmdCgpO1xuXG4gICAgICAgIGlmIChrZXk/LmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkNMT1NFX0hBU0gpIHtcbiAgICAgICAgICAgIHJldHVybiBbbmV3IEhhc2hFeHByZXNzaW9uKGhhc2gpLCB0b2tlbl07XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHJlYWRLZXlQYWlyKCk7XG5cbiAgICAgICAgICAgIHdoaWxlICh0b2tlbj8uZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQ09NTUEpIHtcbiAgICAgICAgICAgICAgICBrZXkgPSB0b2tlbnMuc2hpZnQoKTtcblxuICAgICAgICAgICAgICAgIHJlYWRLZXlQYWlyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9rZW4/LmdldFR5cGUoKSAhPT0gVG9rZW5UeXBlLkNMT1NFX0hBU0gpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgT3BlbiBoYXMgIGggbWlzc2luZyBjbG9zZSBoYXNoYCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW25ldyBIYXNoRXhwcmVzc2lvbihoYXNoKSwgdG9rZW5dO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbdW5kZWZpbmVkLCB0b2tlbl07XG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIGlzQmluYXJ5T3BlcmF0b3Iob3BlcmF0b3I6IFRva2VuKSB7XG5cbiAgICByZXR1cm4gb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQkFORyB8fFxuICAgICAgICBvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5QTFVTIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLk1JTlVTIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkRJVklERSB8fFxuICAgICAgICBvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5NVUxUSVBMWSB8fFxuICAgICAgICBvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5NT0RVTFVTIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkVRVUFMIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLk5PVF9FUVVBTCB8fFxuICAgICAgICBvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5BTkQgfHxcbiAgICAgICAgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuT1IgfHxcbiAgICAgICAgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuTEVTU19USEFOIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkdSRUFURVJfVEhBTiB8fFxuICAgICAgICBvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5MRVNTX1RIQU5fT1JfRVFVQUwgfHxcbiAgICAgICAgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuR1JFQVRFUl9USEFOX09SX0VRVUFMIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkFERF9BTkRfQVNTSUdOIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLlNVQlRSQUNUX0FORF9BU1NJR04gfHxcbiAgICAgICAgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuTVVMVElQTFlfQU5EX0FTU0lHTiB8fFxuICAgICAgICBvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5ESVZJREVfQU5EX0FTU0lHTiB8fFxuICAgICAgICBvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5NT0RVTFVTX0FORF9BU1NJR04gfHxcbiAgICAgICAgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQVNTSUdOIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkRFUkVGRVJFTkNFIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkxBTUJEQSB8fFxuICAgICAgICBvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5SQU5HRV9JTkNMVVNJVkUgfHxcbiAgICAgICAgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuUkFOR0VfRVhDTFVTSVZFIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLlJBTkdFX0xFTkdUSF9ERUMgfHxcbiAgICAgICAgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuUkFOR0VfTEVOR1RIX0lOQztcbn1cblxuZnVuY3Rpb24gYnVpbGRCaW5hcnlFeHByZXNzaW9uKG9wZXJhdG9yOiBUb2tlbiwgbGhzOiBFeHByZXNzaW9uLCByaHM6IEV4cHJlc3Npb24pOiBFeHByZXNzaW9uIHtcbiAgICBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQkFORykge1xuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRFeHByZXNzaW9uKGxocywgcmhzLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuUExVUykge1xuICAgICAgICByZXR1cm4gbmV3IEFkZGl0aW9uRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLk1JTlVTKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3VidHJhY3Rpb25FeHByZXNzaW9uKGxocywgcmhzLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuRElWSURFKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGl2aXNpb25FeHByZXNzaW9uKGxocywgcmhzLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuTVVMVElQTFkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNdWx0aXBsaWNhdGlvbkV4cHJlc3Npb24obGhzLCByaHMsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5NT0RVTFVTKSB7XG4gICAgICAgIHJldHVybiBuZXcgTW9kdWx1c0V4cHJlc3Npb24obGhzLCByaHMsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5FUVVBTCkge1xuICAgICAgICByZXR1cm4gbmV3IEVxdWFsRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLk5PVF9FUVVBTCkge1xuICAgICAgICByZXR1cm4gbmV3IE5vdEVxdWFsRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkFORCkge1xuICAgICAgICByZXR1cm4gbmV3IEFuZEV4cHJlc3Npb24obGhzLCByaHMsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5PUikge1xuICAgICAgICByZXR1cm4gbmV3IE9yRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkxFU1NfVEhBTikge1xuICAgICAgICByZXR1cm4gbmV3IExlc3NUaGFuRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkdSRUFURVJfVEhBTikge1xuICAgICAgICByZXR1cm4gbmV3IEdyZWF0ZXJUaGFuRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkxFU1NfVEhBTl9PUl9FUVVBTCkge1xuICAgICAgICByZXR1cm4gbmV3IExlc3NUaGFuT3JFcXVhbEV4cHJlc3Npb24obGhzLCByaHMsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5HUkVBVEVSX1RIQU5fT1JfRVFVQUwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHcmVhdGVyVGhhbk9yRXF1YWxFeHByZXNzaW9uKGxocywgcmhzLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQUREX0FORF9BU1NJR04pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBZGRBbmRBc3NpZ25FeHByZXNzaW9uKGxocywgcmhzLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuU1VCVFJBQ1RfQU5EX0FTU0lHTikge1xuICAgICAgICByZXR1cm4gbmV3IFN1YnRyYWN0QW5kQXNzaWduRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLk1VTFRJUExZX0FORF9BU1NJR04pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNdWx0aXBseUFuZEFzc2lnbkV4cHJlc3Npb24obGhzLCByaHMsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5ESVZJREVfQU5EX0FTU0lHTikge1xuICAgICAgICByZXR1cm4gbmV3IERpdmlkZUFuZEFzc2lnbkV4cHJlc3Npb24obGhzLCByaHMsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5NT0RVTFVTX0FORF9BU1NJR04pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNb2R1bHVzQW5kQXNzaWduRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkFTU0lHTikge1xuICAgICAgICByZXR1cm4gbmV3IEFzc2lnbkV4cHJlc3Npb24obGhzLCByaHMsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5ERVJFRkVSRU5DRSkge1xuICAgICAgICByZXR1cm4gbmV3IERlcmVmZXJlbmNlRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkxBTUJEQSkge1xuICAgICAgICByZXR1cm4gbmV3IExhbWJkYUV4cHJlc3Npb24obGhzLCByaHMsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5SQU5HRV9JTkNMVVNJVkUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZUluY2x1c2l2ZUV4cHJlc3Npb24obGhzLCByaHMsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5SQU5HRV9FWENMVVNJVkUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZUV4Y2x1c2l2ZUV4cHJlc3Npb24obGhzLCByaHMsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5SQU5HRV9MRU5HVEhfSU5DKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2VMZW5ndGhJbmNyZW1lbnRFeHByZXNzaW9uKGxocywgcmhzLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuUkFOR0VfTEVOR1RIX0RFQykge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlTGVuZ3RoRGVjcmVtZW50RXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCksIGBVbmtub3duIHRva2VuIHR5cGUgJyR7b3BlcmF0b3IuZ2V0VHlwZSgpfSdgKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGludGVycHJldFNsaWNlKHRva2VuczogVG9rZW5bXSk6IEV4cHJlc3Npb24ge1xuICAgIGxldCBbZXhwcmVzc2lvbiwgdG9rZW5dID0gaW50ZXJwcmV0T3BlcmFuZCh0b2tlbnMpO1xuXG4gICAgaWYgKGV4cHJlc3Npb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0b2tlbi5nZXRSb3coKSwgdG9rZW4uZ2V0Q29sdW1uKCksIGBFbXB0eSByYW5nZSBhcmd1bWVudHMgdG8gc2xpY2Ugb3BlcmF0b3JgKTtcbiAgICB9XG5cbiAgICBjb25zdCBvcGVyYXRvciA9IHRva2Vucy5zaGlmdCgpITtcblxuICAgIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5DTE9TRV9TRVFVRU5DRSkge1xuICAgICAgICByZXR1cm4gZXhwcmVzc2lvbjtcbiAgICB9XG5cbiAgICBjb25zdCByaHMgPSB0b2tlbnMuc2hpZnQoKSE7XG5cbiAgICBpZiAocmhzLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkNMT1NFX1NFUVVFTkNFICYmIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLlJBTkdFX0lOQ0xVU0lWRSkge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlU3RhcnRpbmdFeHByZXNzaW9uKGV4cHJlc3Npb24sIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5SQU5HRV9JTkNMVVNJVkUpIHtcblxuICAgICAgICBleHByZXNzaW9uID0gbmV3IFJhbmdlSW5jbHVzaXZlRXhwcmVzc2lvbihleHByZXNzaW9uLCBuZXcgTnVtYmVyRXhwcmVzc2lvbihyaHMuZ2V0VG9rZW4oKSwgcmhzLmdldFJvdygpLCByaHMuZ2V0Q29sdW1uKCkpLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuUkFOR0VfRVhDTFVTSVZFKSB7XG5cbiAgICAgICAgZXhwcmVzc2lvbiA9IG5ldyBSYW5nZUV4Y2x1c2l2ZUV4cHJlc3Npb24oZXhwcmVzc2lvbiwgbmV3IE51bWJlckV4cHJlc3Npb24ocmhzLmdldFRva2VuKCksIHJocy5nZXRSb3coKSwgcmhzLmdldENvbHVtbigpKSwgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLlJBTkdFX0xFTkdUSF9JTkMpIHtcblxuICAgICAgICBleHByZXNzaW9uID0gbmV3IFJhbmdlTGVuZ3RoSW5jcmVtZW50RXhwcmVzc2lvbihleHByZXNzaW9uLCBuZXcgTnVtYmVyRXhwcmVzc2lvbihyaHMuZ2V0VG9rZW4oKSwgcmhzLmdldFJvdygpLCByaHMuZ2V0Q29sdW1uKCkpLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuUkFOR0VfTEVOR1RIX0RFQykge1xuXG4gICAgICAgIGV4cHJlc3Npb24gPSBuZXcgUmFuZ2VMZW5ndGhEZWNyZW1lbnRFeHByZXNzaW9uKGV4cHJlc3Npb24sIG5ldyBOdW1iZXJFeHByZXNzaW9uKHJocy5nZXRUb2tlbigpLCByaHMuZ2V0Um93KCksIHJocy5nZXRDb2x1bW4oKSksIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iob3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpLCBgSW52YWxpZCByYW5nZSBzcGVjaWZpY2F0aW9uYCk7XG4gICAgfVxuXG4gICAgY29uc3QgY2xvc2UgPSB0b2tlbnMuc2hpZnQoKSE7XG5cbiAgICBpZiAoY2xvc2UuZ2V0VHlwZSgpICE9PSBUb2tlblR5cGUuQ0xPU0VfU0VRVUVOQ0UpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IoY2xvc2UuZ2V0Um93KCksIGNsb3NlLmdldENvbHVtbigpLCBgQ2xvc2Ugc2VxdWVuY2UgZXhwZWN0ZWRgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXhwcmVzc2lvbjtcbn1cblxuZnVuY3Rpb24gaW50ZXJwcmV0RnVuY3Rpb25Bcmd1bWVudHModG9rZW5zOiBUb2tlbltdKTogRXhwcmVzc2lvbltdIHtcbiAgICBjb25zdCByZXN1bHQ6IEV4cHJlc3Npb25bXSA9IFtdO1xuICAgIGxldCBleHByZXNzaW9uLCB0b2tlbjtcblxuICAgIFtleHByZXNzaW9uLCB0b2tlbl0gPSBpbnRlcnByZXRFeHByZXNzaW9uKHRva2Vucyk7XG5cbiAgICB3aGlsZSAodG9rZW4/LmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkNPTU1BKSB7XG5cbiAgICAgICAgaWYgKGV4cHJlc3Npb24pIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGV4cHJlc3Npb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodG9rZW4uZ2V0Um93KCksIHRva2VuLmdldENvbHVtbigpLCBcIkV4cGVjdGVkIGV4cHJlc3Npb24gcHJlY2VkaW5nIGNvbW1hIGluIGZ1bmN0aW9uIGFyZ3VtZW50c1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFtleHByZXNzaW9uLCB0b2tlbl0gPSBpbnRlcnByZXRFeHByZXNzaW9uKHRva2Vucyk7XG4gICAgfVxuXG4gICAgaWYgKGV4cHJlc3Npb24pIHtcbiAgICAgICAgcmVzdWx0LnB1c2goZXhwcmVzc2lvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG5mdW5jdGlvbiBpbnRlcnByZXRFeHByZXNzaW9uKHRva2VuczogVG9rZW5bXSk6IFtFeHByZXNzaW9uIHwgdW5kZWZpbmVkLCBUb2tlbiB8IHVuZGVmaW5lZF0ge1xuXG4gICAgbGV0IFtleHByZXNzaW9uLCB0b2tlbl0gPSBpbnRlcnByZXRPcGVyYW5kKHRva2Vucyk7XG5cbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBbdW5kZWZpbmVkLCB0b2tlbl07XG4gICAgfVxuXG4gICAgd2hpbGUgKHRva2Vucy5sZW5ndGgpIHtcblxuICAgICAgICBjb25zdCBvcGVyYXRvciA9IHRva2Vucy5zaGlmdCgpITtcblxuICAgICAgICBpZiAoZXhwcmVzc2lvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCksIGBCaW5hcnkgb3BlcmF0b3IgZXhwZWN0cyBsaHMgZXhwcmVzc2lvbmApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkNMT1NFX1BBUkVOVEhFU0lTKSB7XG4gICAgICAgICAgICByZXR1cm4gW2V4cHJlc3Npb24sIG9wZXJhdG9yXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5DT01NQSkge1xuICAgICAgICAgICAgcmV0dXJuIFtleHByZXNzaW9uLCBvcGVyYXRvcl07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQ0xPU0VfU0VRVUVOQ0UpIHtcbiAgICAgICAgICAgIHJldHVybiBbZXhwcmVzc2lvbiwgb3BlcmF0b3JdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkNMT1NFX0hBU0gpIHtcbiAgICAgICAgICAgIHJldHVybiBbZXhwcmVzc2lvbiwgb3BlcmF0b3JdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkNBTExfTUVUSE9EKSB7XG4gICAgICAgICAgICBjb25zdCBhcmdzID0gaW50ZXJwcmV0RnVuY3Rpb25Bcmd1bWVudHModG9rZW5zKTtcblxuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHdhbGtVcExlZnRCeVByZWNlZGVuY2Uob3BlcmF0b3IsIGV4cHJlc3Npb24sIChsaHMpID0+IG5ldyBDYWxsTWV0aG9kRXhwcmVzc2lvbihsaHMsIGFyZ3MsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQ0FMTF9CVUlMVElOKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0b2tlbnMuc2hpZnQoKSE7XG5cbiAgICAgICAgICAgIGxldCBhcmdzOiBFeHByZXNzaW9uW10gPSBbXTtcbiAgICAgICAgICAgIGlmICh0b2tlbnMubGVuZ3RoICYmIHRva2Vuc1swXS5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5DQUxMX01FVEhPRCkge1xuICAgICAgICAgICAgICAgIHRva2Vucy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIGFyZ3MgPSBpbnRlcnByZXRGdW5jdGlvbkFyZ3VtZW50cyh0b2tlbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBleHByZXNzaW9uID0gd2Fsa1VwTGVmdEJ5UHJlY2VkZW5jZShvcGVyYXRvciwgZXhwcmVzc2lvbiwgKGxocykgPT4gbmV3IENhbGxCdWlsdGluRXhwcmVzc2lvbihsaHMsIG5hbWUuZ2V0VG9rZW4oKSwgYXJncywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5PUEVOX1NMSUNFKSB7XG4gICAgICAgICAgICBjb25zdCBzbGljZSA9IGludGVycHJldFNsaWNlKHRva2Vucyk7XG5cbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSB3YWxrVXBMZWZ0QnlQcmVjZWRlbmNlKG9wZXJhdG9yLCBleHByZXNzaW9uLCAobGhzKSA9PiBuZXcgU2xpY2VFeHByZXNzaW9uKGxocywgc2xpY2UsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuSVNfREVGSU5FRCkge1xuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IG5ldyBJc0RlZmluZWRFeHByZXNzaW9uKGV4cHJlc3Npb24sIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5QTFVTX1BMVVMpIHtcbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSBuZXcgSW5jcmVtZW50RXhwcmVzc2lvbihleHByZXNzaW9uLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuTUlOVVNfTUlOVVMpIHtcbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSBuZXcgRGVjcmVtZW50RXhwcmVzc2lvbihleHByZXNzaW9uLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzQmluYXJ5T3BlcmF0b3Iob3BlcmF0b3IpKSB7XG5cbiAgICAgICAgICAgIHRva2Vucy51bnNoaWZ0KG9wZXJhdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IFthbmNpbGxhcnksIHRva2VuXSA9IGludGVycHJldE9wZXJhbmQodG9rZW5zKTtcbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSBuZXcgQW5jaWxsYXJ5RXhwcmVzc2lvbihleHByZXNzaW9uLCBhbmNpbGxhcnkhLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmhzID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMCAmJiBvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5CQU5HKSB7XG4gICAgICAgICAgICByaHMgPSBuZXcgU3RyaW5nRXhwcmVzc2lvbihcIlwiLCB0b2tlbi5nZXRSb3coKSwgdG9rZW4uZ2V0Q29sdW1uKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgW3JocywgdG9rZW5dID0gaW50ZXJwcmV0T3BlcmFuZCh0b2tlbnMpO1xuXG4gICAgICAgICAgICBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQkFORyAmJiByaHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRva2Vucy51bnNoaWZ0KHRva2VuKTtcbiAgICAgICAgICAgICAgICByaHMgPSBuZXcgU3RyaW5nRXhwcmVzc2lvbihcIlwiLCB0b2tlbi5nZXRSb3coKSwgdG9rZW4uZ2V0Q29sdW1uKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmhzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0b2tlbi5nZXRSb3coKSwgdG9rZW4uZ2V0Q29sdW1uKCksIGBCaW5hcnkgb3BlcmF0b3IgZXhwZWN0cyByaHMgZXhwcmVzc2lvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXhwcmVzc2lvbiA9IHdhbGtVcExlZnRCeVByZWNlZGVuY2Uob3BlcmF0b3IsIGV4cHJlc3Npb24sIChsaHMpID0+IGJ1aWxkQmluYXJ5RXhwcmVzc2lvbihvcGVyYXRvciwgbGhzLCByaHMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW2V4cHJlc3Npb24sIHVuZGVmaW5lZF07XG59XG5cbmZ1bmN0aW9uIHdhbGtVcExlZnRCeVByZWNlZGVuY2Uob3BlcmF0b3I6IFRva2VuLCBzdWJqZWN0OiBFeHByZXNzaW9uLCBidWlsZGVyOiAobGhzOiBFeHByZXNzaW9uKSA9PiBFeHByZXNzaW9uKSB7XG4gICAgaWYgKGlzQ29tcG9zaW5nRXhwcmVzc2lvbihzdWJqZWN0KSAmJiBQUkVDRURFTkNFW29wZXJhdG9yLmdldFRva2VuKCldIDwgUFJFQ0VERU5DRVtzdWJqZWN0LmdldE9wZXJhdG9yKCldKSB7XG5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSBzdWJqZWN0O1xuICAgICAgICBsZXQgbmV4dCA9IGN1cnJlbnQuZ2V0U3ViamVjdCgpO1xuICAgICAgICB3aGlsZSAoaXNDb21wb3NpbmdFeHByZXNzaW9uKG5leHQpICYmIFBSRUNFREVOQ0Vbb3BlcmF0b3IuZ2V0VG9rZW4oKV0gPCBQUkVDRURFTkNFW25leHQuZ2V0T3BlcmF0b3IoKV0pIHtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBuZXh0O1xuICAgICAgICAgICAgbmV4dCA9IGN1cnJlbnQuZ2V0U3ViamVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQucmVwbGFjZVN1YmplY3QoYnVpbGRlcihjdXJyZW50LmdldFN1YmplY3QoKSkpO1xuXG4gICAgICAgIHJldHVybiBzdWJqZWN0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBidWlsZGVyKHN1YmplY3QpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEV4cHJlc3Npb25FbmdpbmUge1xuXG4gICAgYnVpbGQodGV4dDogc3RyaW5nLCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiBFeHByZXNzaW9uIHtcblxuICAgICAgICBjb25zdCB0b2tlbnMgPSB0b2tlbml6ZSh0ZXh0LCByb3csIGNvbHVtbik7XG4gICAgICAgIGNvbnN0IFtleHByZXNzaW9uLCB0b2tlbl0gPSBpbnRlcnByZXRFeHByZXNzaW9uKHRva2Vucyk7XG5cbiAgICAgICAgaWYgKGV4cHJlc3Npb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBFeHByZXNzaW9uIGlzIGVtcHR5YCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9rZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBFeHByZXNzaW9uIHRlcm1pbmF0ZWQgaW5jb3JyZWN0bHlgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXhwcmVzc2lvbjtcbiAgICB9XG59XG5cbiIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIEFkZEFuZEFzc2lnbkV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnKz0nO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMubGhzLmV2YWx1YXRlKGRhdGEpO1xuXG4gICAgICAgIGN1cnJlbnQuYXNzaWduKGN1cnJlbnQucmV0cmlldmUoKSArIHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHVuZGVmaW5lZCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmluYXJ5RXhwcmVzc2lvbiB9IGZyb20gJy4vQmluYXJ5RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBUZW1wbGF0ZUVycm9yIH0gZnJvbSAnLi4vVGVtcGxhdGVFcnJvcic7XG5pbXBvcnQgeyBpc0hhc2ggfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaXNIYXNoJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBBZGRpdGlvbkV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnKyc7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgY29uc3QgbGhzID0gdGhpcy5saHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcbiAgICAgICAgY29uc3QgcmhzID0gdGhpcy5yaHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcblxuICAgICAgICBpZiAodHlwZW9mIGxocyA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHJocyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YobGhzICsgcmhzKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGhzID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgcmhzID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YobGhzICsgcmhzKTtcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGxocykgJiYgQXJyYXkuaXNBcnJheShyaHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihbLi4ubGhzLCAuLi5yaHNdKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0hhc2gobGhzKSAmJiBpc0hhc2gocmhzKSkge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoeyAuLi5saHMsIC4uLnJocyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbiwgYEludmFsaWQgb3BlcmFuZHMgZm9yIGFkZGl0aW9uYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuaW1wb3J0IHsgQ29tcG9zaW5nRXhwcmVzc2lvbiB9IGZyb20gJy4vQ29tcG9zaW5nRXhwcmVzc2lvbic7XG5cbmV4cG9ydCBjbGFzcyBBbmNpbGxhcnlFeHByZXNzaW9uIGV4dGVuZHMgQ29tcG9zaW5nRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBhbmNpbGxhcnk6IEV4cHJlc3Npb24sIHN1YmplY3Q6IEV4cHJlc3Npb24sIHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcikge1xuICAgICAgICBzdXBlcihzdWJqZWN0LCByb3csIGNvbHVtbik7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgdGhpcy5hbmNpbGxhcnkuZXZhbHVhdGUoZGF0YSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3ViamVjdC5ldmFsdWF0ZShkYXRhKTtcbiAgICB9XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ2FuY2lsbGlhcnknO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIEFuZEV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnJiYnO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHRoaXMubGhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkgJiYgdGhpcy5yaHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSk7XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIEFzc2lnbkV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnPSc7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgY29uc3QgbGhzID0gdGhpcy5saHMuZXZhbHVhdGUoZGF0YSk7XG5cbiAgICAgICAgbGhzLmFzc2lnbih0aGlzLnJocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZih1bmRlZmluZWQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuaW1wb3J0IHsgQ29tcG9zaW5nRXhwcmVzc2lvbiB9IGZyb20gJy4vQ29tcG9zaW5nRXhwcmVzc2lvbic7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCaW5hcnlFeHByZXNzaW9uIGV4dGVuZHMgQ29tcG9zaW5nRXhwcmVzc2lvbiB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgbGhzOiBFeHByZXNzaW9uLCBwcm90ZWN0ZWQgcmhzOiBFeHByZXNzaW9uLCBwcm90ZWN0ZWQgcm93OiBudW1iZXIsIHByb3RlY3RlZCBjb2x1bW46IG51bWJlcikge1xuICAgICAgICBzdXBlcihyaHMsIHJvdywgY29sdW1uKTtcbiAgICB9XG5cbiAgICBnZXRTdWJqZWN0KCk6IEV4cHJlc3Npb24ge1xuICAgICAgICByZXR1cm4gdGhpcy5yaHM7XG4gICAgfVxuXG4gICAgcmVwbGFjZVN1YmplY3QoZXhwcmVzc2lvbjogRXhwcmVzc2lvbik6IHZvaWQge1xuICAgICAgICB0aGlzLnJocyA9IGV4cHJlc3Npb247XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgZ2V0T3BlcmF0b3IoKTogc3RyaW5nO1xuXG4gICAgYWJzdHJhY3QgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlO1xufVxuIiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuaW1wb3J0IHsgTGl0ZXJhbCwgUmVmZXJlbmNlLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5pbXBvcnQgKiBhcyBCdWlsdGlucyBmcm9tICcuLi9idWlsdGluJztcblxuZXhwb3J0IGNsYXNzIENhbGxCdWlsdGluRXhwcmVzc2lvbiBpbXBsZW1lbnRzIEV4cHJlc3Npb24ge1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzdWJqZWN0OiBFeHByZXNzaW9uLCBwcml2YXRlIG5hbWU6IHN0cmluZywgcHJpdmF0ZSBhcmdzOiBFeHByZXNzaW9uW10sIHByaXZhdGUgcm93OiBudW1iZXIsIHByaXZhdGUgY29sdW1uOiBudW1iZXIpIHtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuXG4gICAgICAgIGNvbnN0IGV4cCA9IHRoaXMuc3ViamVjdC5ldmFsdWF0ZShkYXRhKTtcblxuICAgICAgICBjb25zdCBpc0xvb3BWYXJpYWJsZSA9IChleHAgaW5zdGFuY2VvZiBSZWZlcmVuY2UgJiYgT2JqZWN0LmtleXMoZGF0YSkuaW5jbHVkZXMoYCQke2V4cC5nZXROYW1lKCl9JGApKTtcbiAgICAgICAgaWYgKGlzTG9vcFZhcmlhYmxlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5uYW1lID09PSAnY291bnRlcicpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hcmdzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0aGlzLnJvdywgdGhpcy5jb2x1bW4sYGNvdW50ZXIgYnVpbHRpbiByZXF1aXJlcyBubyBhcmd1bWVudHNgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoZGF0YVtgJCR7ZXhwLmdldE5hbWUoKX1faW5kZXgkYF0gKyAxKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5uYW1lID09PSAnaW5kZXgnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXJncy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodGhpcy5yb3csIHRoaXMuY29sdW1uLGBpbmRleCBidWlsdGluIHJlcXVpcmVzIG5vIGFyZ3VtZW50c2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihkYXRhW2AkJHtleHAuZ2V0TmFtZSgpfV9pbmRleCRgXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubmFtZSA9PT0gJ2hhc19uZXh0Jykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFyZ3MubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbixgaGFzX25leHQgYnVpbHRpbiByZXF1aXJlcyBubyBhcmd1bWVudHNgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoZGF0YVtgJCR7ZXhwLmdldE5hbWUoKX1faW5kZXgkYF0gPCBkYXRhW2AkJHtleHAuZ2V0TmFtZSgpfV9sZW5ndGgkYF0gLSAxKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5uYW1lID09PSAnaXNfbGFzdCcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hcmdzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0aGlzLnJvdywgdGhpcy5jb2x1bW4sYGlzX2xhc3QgYnVpbHRpbiByZXF1aXJlcyBubyBhcmd1bWVudHNgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBkYXRhW2AkJHtleHAuZ2V0TmFtZSgpfV9pbmRleCRgXTtcbiAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBkYXRhW2AkJHtleHAuZ2V0TmFtZSgpfV9sZW5ndGgkYF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoaW5kZXggPT09IGxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm5hbWUgPT09ICdpc19maXJzdCcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hcmdzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0aGlzLnJvdywgdGhpcy5jb2x1bW4sYGlzX2ZpcnN0IGJ1aWx0aW4gcmVxdWlyZXMgbm8gYXJndW1lbnRzYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKGRhdGFbYCQke2V4cC5nZXROYW1lKCl9X2luZGV4JGBdID09PSAwKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5uYW1lID09PSAnaXNfZXZlbl9pdGVtJykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFyZ3MubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbixgaXNfZXZlbl9pdGVtIGJ1aWx0aW4gcmVxdWlyZXMgbm8gYXJndW1lbnRzYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKChkYXRhW2AkJHtleHAuZ2V0TmFtZSgpfV9pbmRleCRgXSArIDEpICUgMiA9PT0gMCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubmFtZSA9PT0gJ2lzX29kZF9pdGVtJykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFyZ3MubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbixgaXNfb2RkX2l0ZW0gYnVpbHRpbiByZXF1aXJlcyBubyBhcmd1bWVudHNgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoZGF0YVtgJCR7ZXhwLmdldE5hbWUoKX1faW5kZXgkYF0gJSAyID09PSAwKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5uYW1lID09PSAnaXRlbV9jeWNsZScpIHtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbixgaXRlbV9jeWNsZSBidWlsdGluIHJlcXVpcmVzIGF0IGxlYXN0IG9uZSBhcmd1bWVudGApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzLmFyZ3MubWFwKGEgPT4gYS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihhcmdzW2RhdGFbYCQke2V4cC5nZXROYW1lKCl9X2luZGV4JGBdICUgYXJncy5sZW5ndGhdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5uYW1lID09PSAnaXRlbV9wYXJpdHknKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hcmdzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0aGlzLnJvdywgdGhpcy5jb2x1bW4sYGl0ZW1fcGFyaXR5IGJ1aWx0aW4gcmVxdWlyZXMgbm8gYXJndW1lbnRzYCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoKGRhdGFbYCQke2V4cC5nZXROYW1lKCl9X2luZGV4JGBdICsgMSkgJSAyID09PSAwID8gXCJldmVuXCIgOiBcIm9kZFwiKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5uYW1lID09PSAnaXRlbV9wYXJpdHlfY2FwJykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFyZ3MubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbixgaXRlbV9wYXJpdHlfY2FwIGJ1aWx0aW4gcmVxdWlyZXMgbm8gYXJndW1lbnRzYCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoKGRhdGFbYCQke2V4cC5nZXROYW1lKCl9X2luZGV4JGBdICsgMSkgJSAyID09PSAwID8gXCJFdmVuXCIgOiBcIk9kZFwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodGhpcy5yb3csIHRoaXMuY29sdW1uLGBVbnN1cHBvcnRlZCBidWlsdGluICgke3RoaXMubmFtZX0pIGZvciBzdWJqZWN0ICR7dGhpcy5yb3d9OiR7dGhpcy5jb2x1bW59YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdWJqZWN0ID0gZXhwLnJldHJpZXZlKCk7XG5cbiAgICAgICAgY29uc3QgYnVpbHRpbiA9IEJ1aWx0aW5zLmZpbmQoc3ViamVjdCwgdGhpcy5uYW1lKTtcbiAgICAgICAgaWYgKGJ1aWx0aW4pIHtcbiAgICAgICAgICAgIHJldHVybiBidWlsdGluLmNhbGN1bGF0ZShzdWJqZWN0LCB0aGlzLmFyZ3MsIGRhdGEsIHRoaXMucm93LCB0aGlzLmNvbHVtbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0aGlzLnJvdywgdGhpcy5jb2x1bW4sYFVuc3VwcG9ydGVkIGJ1aWx0aW4gKCR7dGhpcy5uYW1lfSkgZm9yIHN1YmplY3QgJHt0aGlzLnJvd306JHt0aGlzLmNvbHVtbn1gKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBSZWZlcmVuY2VFeHByZXNzaW9uIH0gZnJvbSAnLi9SZWZlcmVuY2VFeHByZXNzaW9uJztcbmltcG9ydCB7IFRlbXBsYXRlRXJyb3IgfSBmcm9tICcuLi9UZW1wbGF0ZUVycm9yJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5pbXBvcnQgeyBEZXJlZmVyZW5jZUV4cHJlc3Npb24gfSBmcm9tICcuL0RlcmVmZXJlbmNlRXhwcmVzc2lvbic7XG5cbmV4cG9ydCBjbGFzcyBDYWxsTWV0aG9kRXhwcmVzc2lvbiBpbXBsZW1lbnRzIEV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVmZXJlbmNlOiBFeHByZXNzaW9uLCBwcml2YXRlIGFyZ3M6IEV4cHJlc3Npb25bXSwgcHJpdmF0ZSByb3c6IG51bWJlciwgcHJpdmF0ZSBjb2x1bW46IG51bWJlcikge1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgaWYgKHRoaXMucmVmZXJlbmNlIGluc3RhbmNlb2YgUmVmZXJlbmNlRXhwcmVzc2lvbikge1xuICAgICAgICAgICAgY29uc3QgbWV0aG9kID0gdGhpcy5yZWZlcmVuY2UuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YobWV0aG9kKC4uLnRoaXMuYXJncy5tYXAoYXJnID0+IGFyZy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKSkpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVmZXJlbmNlIGluc3RhbmNlb2YgRGVyZWZlcmVuY2VFeHByZXNzaW9uKSB7XG4gICAgICAgICAgICBjb25zdCBtZXRob2QgPSB0aGlzLnJlZmVyZW5jZS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihtZXRob2QoLi4udGhpcy5hcmdzLm1hcChhcmcgPT4gYXJnLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0aGlzLnJvdywgdGhpcy5jb2x1bW4sIGBJbnZhbGlkIHN1YmplY3Qgb2YgbWV0aG9kIGNhbGwsIGV4cGVjdGVkIHJlZmVyZW5jZSByZXNvbHZpbmcgdG8gYSBtZXRob2QuYCk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbXBvc2luZ0V4cHJlc3Npb24gaW1wbGVtZW50cyBFeHByZXNzaW9uIHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBzdWJqZWN0OiBFeHByZXNzaW9uLCBwcm90ZWN0ZWQgcm93OiBudW1iZXIsIHByb3RlY3RlZCBjb2x1bW46IG51bWJlcikge1xuICAgIH1cblxuICAgIGdldFN1YmplY3QoKTogRXhwcmVzc2lvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YmplY3Q7XG4gICAgfVxuXG4gICAgcmVwbGFjZVN1YmplY3QoZXhwcmVzc2lvbjogRXhwcmVzc2lvbik6IHZvaWQge1xuICAgICAgICB0aGlzLnN1YmplY3QgPSBleHByZXNzaW9uO1xuICAgIH1cblxuICAgIGFic3RyYWN0IGdldE9wZXJhdG9yKCk6IHN0cmluZztcblxuICAgIGFic3RyYWN0IGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29tcG9zaW5nRXhwcmVzc2lvbih0ZXN0OiBhbnkpOiB0ZXN0IGlzIENvbXBvc2luZ0V4cHJlc3Npb24ge1xuICAgIHJldHVybiB0ZXN0IGluc3RhbmNlb2YgQ29tcG9zaW5nRXhwcmVzc2lvbjtcbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuaW1wb3J0IHsgQ29tcG9zaW5nRXhwcmVzc2lvbiB9IGZyb20gJy4vQ29tcG9zaW5nRXhwcmVzc2lvbic7XG5cbmV4cG9ydCBjbGFzcyBEZWNyZW1lbnRFeHByZXNzaW9uIGV4dGVuZHMgQ29tcG9zaW5nRXhwcmVzc2lvbiB7XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLnN1YmplY3QuZXZhbHVhdGUoZGF0YSk7XG5cbiAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSBjdXJyZW50LnJldHJpZXZlKCk7XG5cbiAgICAgICAgY3VycmVudC5hc3NpZ24ob3JpZ2luYWwgLSAxKTtcblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZih1bmRlZmluZWQpO1xuICAgIH1cblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnLS0nO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCaW5hcnlFeHByZXNzaW9uIH0gZnJvbSAnLi9CaW5hcnlFeHByZXNzaW9uJztcbmltcG9ydCB7IFJlZmVyZW5jZU5vdEZvdW5kRXJyb3IgfSBmcm9tICcuLi9SZWZlcmVuY2VOb3RGb3VuZEVycm9yJztcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0RXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdkZWZhdWx0JztcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBsaHMgPSB0aGlzLmxocy5ldmFsdWF0ZShkYXRhKTtcblxuICAgICAgICAgICAgaWYgKGxocy5yZXRyaWV2ZSgpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yaHMuZXZhbHVhdGUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGhzO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBSZWZlcmVuY2VOb3RGb3VuZEVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuaW1wb3J0IHsgaXNIYXNoIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL2lzSGFzaCc7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgRGVyZWZlcmVuY2VFeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5RXhwcmVzc2lvbiB7XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJy4nO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5saHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcblxuICAgICAgICBpZiAob2JqID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbiwgYFN1YmplY3QgaXMgdW5kZWZpbmVkIGZvciBkZXJlZmVyZW5jZSBvcGVyYXRvcmApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc0hhc2gob2JqKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodGhpcy5yb3csIHRoaXMuY29sdW1uLCBgSW52YWxpZCBzdWJqZWN0IGZvciBkZXJlZmVyZW5jZSBvcGVyYXRvcmApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnJocy5ldmFsdWF0ZShvYmopLnJldHJpZXZlKCk7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmNhbGwob2JqLCAuLi5hcmd1bWVudHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodmFsdWUpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCaW5hcnlFeHByZXNzaW9uIH0gZnJvbSAnLi9CaW5hcnlFeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBEaXZpZGVBbmRBc3NpZ25FeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5RXhwcmVzc2lvbiB7XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJy89JztcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLmxocy5ldmFsdWF0ZShkYXRhKTtcblxuICAgICAgICBjdXJyZW50LmFzc2lnbihjdXJyZW50LnJldHJpZXZlKCkgLyB0aGlzLnJocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZih1bmRlZmluZWQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCaW5hcnlFeHByZXNzaW9uIH0gZnJvbSAnLi9CaW5hcnlFeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBEaXZpc2lvbkV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodGhpcy5saHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSAvIHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCaW5hcnlFeHByZXNzaW9uIH0gZnJvbSAnLi9CaW5hcnlFeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBFcXVhbEV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnPT0nO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHRoaXMubGhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkgPT09IHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgRmFsc2VFeHByZXNzaW9uIGltcGxlbWVudHMgRXhwcmVzc2lvbiB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJvdzogbnVtYmVyLCBwcml2YXRlIGNvbHVtbjogbnVtYmVyKSB7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoZmFsc2UpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCaW5hcnlFeHByZXNzaW9uIH0gZnJvbSAnLi9CaW5hcnlFeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBHcmVhdGVyVGhhbkV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnPic7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodGhpcy5saHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSA+IHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCaW5hcnlFeHByZXNzaW9uIH0gZnJvbSAnLi9CaW5hcnlFeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBHcmVhdGVyVGhhbk9yRXF1YWxFeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5RXhwcmVzc2lvbiB7XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJz49JztcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSA6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodGhpcy5saHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSA+PSB0aGlzLnJocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIEhhc2hFeHByZXNzaW9uIGltcGxlbWVudHMgRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBoYXNoOiBSZWNvcmQ8c3RyaW5nLCBFeHByZXNzaW9uPikge1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdDogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgZXhwcmVzc2lvbl0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5oYXNoKSkge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBleHByZXNzaW9uLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihyZXN1bHQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuaW1wb3J0IHsgQ29tcG9zaW5nRXhwcmVzc2lvbiB9IGZyb20gJy4vQ29tcG9zaW5nRXhwcmVzc2lvbic7XG5cbmV4cG9ydCBjbGFzcyBJbmNyZW1lbnRFeHByZXNzaW9uIGV4dGVuZHMgQ29tcG9zaW5nRXhwcmVzc2lvbiB7XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLnN1YmplY3QuZXZhbHVhdGUoZGF0YSk7XG5cbiAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSBjdXJyZW50LnJldHJpZXZlKCk7XG5cbiAgICAgICAgY3VycmVudC5hc3NpZ24ob3JpZ2luYWwgKyAxKTtcblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZih1bmRlZmluZWQpO1xuICAgIH1cblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnKysnO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZWZlcmVuY2VOb3RGb3VuZEVycm9yIH0gZnJvbSAnLi4vUmVmZXJlbmNlTm90Rm91bmRFcnJvcic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuaW1wb3J0IHsgQ29tcG9zaW5nRXhwcmVzc2lvbiB9IGZyb20gJy4vQ29tcG9zaW5nRXhwcmVzc2lvbic7XG5cbmV4cG9ydCBjbGFzcyBJc0RlZmluZWRFeHByZXNzaW9uIGV4dGVuZHMgQ29tcG9zaW5nRXhwcmVzc2lvbiB7XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3ViamVjdCA9IHRoaXMuc3ViamVjdC5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZighKHN1YmplY3QgPT09IHVuZGVmaW5lZCB8fCBzdWJqZWN0ID09PSBudWxsKSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIFJlZmVyZW5jZU5vdEZvdW5kRXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJz8/JztcbiAgICB9XG59IiwiaW1wb3J0IHsgQmluYXJ5RXhwcmVzc2lvbiB9IGZyb20gJy4vQmluYXJ5RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgTGFtYmRhRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICctPic7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgY29uc3QgbG9jYWwgPSB7IC4uLmRhdGEgfTtcblxuICAgICAgICBjb25zdCBsaHMgPSB0aGlzLmxocy5ldmFsdWF0ZShsb2NhbCk7XG5cbiAgICAgICAgbGhzLmFzc2lnbihkYXRhWyckJCddKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5yaHMuZXZhbHVhdGUobG9jYWwpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIExlc3NUaGFuRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICc8JztcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZih0aGlzLmxocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpIDwgdGhpcy5yaHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSk7XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIExlc3NUaGFuT3JFcXVhbEV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnPCc7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodGhpcy5saHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSA8PSB0aGlzLnJocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQmluYXJ5RXhwcmVzc2lvbiB9IGZyb20gJy4vQmluYXJ5RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgTW9kdWx1c0FuZEFzc2lnbkV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnJT0nO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMubGhzLmV2YWx1YXRlKGRhdGEpO1xuXG4gICAgICAgIGN1cnJlbnQuYXNzaWduKGN1cnJlbnQucmV0cmlldmUoKSAlIHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHVuZGVmaW5lZCk7XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIE1vZHVsdXNFeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5RXhwcmVzc2lvbiB7XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJyUnO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHRoaXMubGhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkgJSB0aGlzLnJocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQmluYXJ5RXhwcmVzc2lvbiB9IGZyb20gJy4vQmluYXJ5RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgTXVsdGlwbGljYXRpb25FeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5RXhwcmVzc2lvbiB7XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJyonO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHRoaXMubGhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkgKiB0aGlzLnJocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQmluYXJ5RXhwcmVzc2lvbiB9IGZyb20gJy4vQmluYXJ5RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgTXVsdGlwbHlBbmRBc3NpZ25FeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5RXhwcmVzc2lvbiB7XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJyo9JztcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLmxocy5ldmFsdWF0ZShkYXRhKTtcblxuICAgICAgICBjdXJyZW50LmFzc2lnbihjdXJyZW50LnJldHJpZXZlKCkgKiB0aGlzLnJocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZih1bmRlZmluZWQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuaW1wb3J0IHsgQ29tcG9zaW5nRXhwcmVzc2lvbiB9IGZyb20gJy4vQ29tcG9zaW5nRXhwcmVzc2lvbic7XG5cbmV4cG9ydCBjbGFzcyBOZWdhdGl2ZUV4cHJlc3Npb24gZXh0ZW5kcyBDb21wb3NpbmdFeHByZXNzaW9uIHtcblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKC0xICogdGhpcy5zdWJqZWN0LmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuICAgIH1cblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnLSc7XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIE5vdEVxdWFsRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICchPSc7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodGhpcy5saHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSAhPSB0aGlzLnJocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcbmltcG9ydCB7IENvbXBvc2luZ0V4cHJlc3Npb24gfSBmcm9tICcuL0NvbXBvc2luZ0V4cHJlc3Npb24nO1xuXG5leHBvcnQgY2xhc3MgTm90RXhwcmVzc2lvbiBleHRlbmRzIENvbXBvc2luZ0V4cHJlc3Npb24ge1xuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoIXRoaXMuc3ViamVjdC5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcbiAgICB9XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ25vdCc7XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBOdW1iZXJFeHByZXNzaW9uIGltcGxlbWVudHMgRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzdWJqZWN0OiBzdHJpbmcsIHByaXZhdGUgcm93OiBudW1iZXIsIHByaXZhdGUgY29sdW1uOiBudW1iZXIpIHtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihOdW1iZXIodGhpcy5zdWJqZWN0KSk7XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIE9yRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICd8fCc7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodGhpcy5saHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSB8fCB0aGlzLnJocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcbmltcG9ydCB7IENvbXBvc2luZ0V4cHJlc3Npb24gfSBmcm9tICcuL0NvbXBvc2luZ0V4cHJlc3Npb24nO1xuXG5leHBvcnQgY2xhc3MgUGFyZW50aGVzaXNFeHByZXNzaW9uIGV4dGVuZHMgQ29tcG9zaW5nRXhwcmVzc2lvbiB7XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJqZWN0LmV2YWx1YXRlKGRhdGEpO1xuICAgIH1cblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnKCc7XG4gICAgfVxufSIsImltcG9ydCB7IFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5pbXBvcnQgeyBDb21wb3NpbmdFeHByZXNzaW9uIH0gZnJvbSAnLi9Db21wb3NpbmdFeHByZXNzaW9uJztcblxuZXhwb3J0IGNsYXNzIFBvc2l0aXZlRXhwcmVzc2lvbiBleHRlbmRzIENvbXBvc2luZ0V4cHJlc3Npb24ge1xuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ViamVjdC5ldmFsdWF0ZShkYXRhKTtcbiAgICB9XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJysnO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCaW5hcnlFeHByZXNzaW9uIH0gZnJvbSAnLi9CaW5hcnlFeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBSYW5nZUV4Y2x1c2l2ZUV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnLi4nO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0OiBudW1iZXJbXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGxocyA9IHRoaXMubGhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG4gICAgICAgIGNvbnN0IHJocyA9IHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG5cbiAgICAgICAgaWYgKGxocyA8IHJocykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGxoczsgaSA8IHJoczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobGhzID4gcmhzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gbGhzOyBpID4gcmhzOyBpLS0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxocyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihyZXN1bHQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCaW5hcnlFeHByZXNzaW9uIH0gZnJvbSAnLi9CaW5hcnlFeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBSYW5nZUluY2x1c2l2ZUV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnLi4nO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0OiBudW1iZXJbXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGxocyA9IHRoaXMubGhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG4gICAgICAgIGNvbnN0IHJocyA9IHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG5cbiAgICAgICAgaWYgKGxocyA8IHJocykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGxoczsgaSA8PSByaHM7IGkrKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGxocyA+IHJocykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGxoczsgaSA+PSByaHM7IGktLSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobGhzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHJlc3VsdCk7XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIFJhbmdlTGVuZ3RoRGVjcmVtZW50RXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcuLic7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcblxuICAgICAgICBjb25zdCByZXN1bHQ6IG51bWJlcltdID0gW107XG5cbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmxocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLnJocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHN0YXJ0IC0gaSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihyZXN1bHQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCaW5hcnlFeHByZXNzaW9uIH0gZnJvbSAnLi9CaW5hcnlFeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBSYW5nZUxlbmd0aEluY3JlbWVudEV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnLi4nO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pIDogVmFsdWUge1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdDogbnVtYmVyW10gPSBbXTtcblxuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMubGhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICByZXN1bHQucHVzaChzdGFydCArIGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YocmVzdWx0KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcbmltcG9ydCB7IENvbXBvc2luZ0V4cHJlc3Npb24gfSBmcm9tICcuL0NvbXBvc2luZ0V4cHJlc3Npb24nO1xuXG5leHBvcnQgY2xhc3MgUmFuZ2VTdGFydGluZ0V4cHJlc3Npb24gZXh0ZW5kcyBDb21wb3NpbmdFeHByZXNzaW9uIHtcblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YmplY3QuZXZhbHVhdGUoZGF0YSk7XG4gICAgfVxuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdbJztcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgUmVmZXJlbmNlLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgUmVmZXJlbmNlRXhwcmVzc2lvbiBpbXBsZW1lbnRzIEV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVmZXJlbmNlOiBzdHJpbmcsIHByaXZhdGUgcm93OiBudW1iZXIsIHByaXZhdGUgY29sdW1uOiBudW1iZXIpIHtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gUmVmZXJlbmNlLm9mKHRoaXMucmVmZXJlbmNlLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIFNlcXVlbmNlRXhwcmVzc2lvbiBpbXBsZW1lbnRzIEV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZWxlbWVudHM6IEV4cHJlc3Npb25bXSkge1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHRoaXMuZWxlbWVudHMubWFwKGVsID0+IGVsLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuaW1wb3J0IHsgUmFuZ2VTdGFydGluZ0V4cHJlc3Npb24gfSBmcm9tICcuL1JhbmdlU3RhcnRpbmdFeHByZXNzaW9uJztcbmltcG9ydCB7IFJhbmdlTGVuZ3RoSW5jcmVtZW50RXhwcmVzc2lvbiB9IGZyb20gJy4vUmFuZ2VMZW5ndGhJbmNyZW1lbnRFeHByZXNzaW9uJztcbmltcG9ydCB7IFJhbmdlTGVuZ3RoRGVjcmVtZW50RXhwcmVzc2lvbiB9IGZyb20gJy4vUmFuZ2VMZW5ndGhEZWNyZW1lbnRFeHByZXNzaW9uJztcbmltcG9ydCB7IGlzSGFzaCB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9pc0hhc2gnO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcbmltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuXG5leHBvcnQgY2xhc3MgU2xpY2VFeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5RXhwcmVzc2lvbiB7XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuXG4gICAgICAgIGNvbnN0IHN1YmplY3QgPSB0aGlzLmxocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuICAgICAgICBjb25zdCBhcmcgPSB0aGlzLnJocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgIGNvbnN0IGxlbmllbnQgPSB0aGlzLnJocyBpbnN0YW5jZW9mIFJhbmdlTGVuZ3RoSW5jcmVtZW50RXhwcmVzc2lvbiB8fCB0aGlzLnJocyBpbnN0YW5jZW9mIFJhbmdlTGVuZ3RoRGVjcmVtZW50RXhwcmVzc2lvbjtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzdWJqZWN0KSkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5yaHMgaW5zdGFuY2VvZiBSYW5nZVN0YXJ0aW5nRXhwcmVzc2lvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3Quc2xpY2UoYXJnKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogYW55W10gPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGluZGV4IG9mIGFyZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHN1YmplY3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzdWJqZWN0W2luZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWxlbmllbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbiwgYEludmFsaWQgaW5kZXggZm9yIHNsaWNlYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YocmVzdWx0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZyA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3RbYXJnXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbiwgYFVuc3VwcG9ydGVkIGFyZyBvZiBzbGljZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzSGFzaChzdWJqZWN0KSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0W2FyZ10pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0aGlzLnJvdywgdGhpcy5jb2x1bW4sIGBVbnN1cHBvcnRlZCBhcmcgb2Ygc2xpY2Ugd2hlbiBhcHBsaWVkIHRvIGhhc2hgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yaHMgaW5zdGFuY2VvZiBSYW5nZVN0YXJ0aW5nRXhwcmVzc2lvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3Quc2xpY2UoYXJnKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGluZGV4IG9mIGFyZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHN1YmplY3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzdWJqZWN0LmNoYXJBdChpbmRleCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFsZW5pZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0aGlzLnJvdywgdGhpcy5jb2x1bW4sIGBJbnZhbGlkIGluZGV4IGZvciBzbGljZWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHJlc3VsdC5qb2luKFwiXCIpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZyA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QuY2hhckF0KGFyZykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0aGlzLnJvdywgdGhpcy5jb2x1bW4sIGBVbnN1cHBvcnRlZCBhcmcgb2Ygc2xpY2VgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbiwgYFVuc3VwcG9ydGVkIHN1YmplY3Qgb2Ygc2xpY2VgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnc2xpY2UnO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuaW1wb3J0IHsgU3RyaW5nQnVmZmVyIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL1N0cmluZ0J1ZmZlcic7XG5pbXBvcnQgeyBFeHByZXNzaW9uRW5naW5lIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi1lbmdpbmUnO1xuXG5lbnVtIFN0YWdlIHtcbiAgICBPUEVOLFxuICAgIElOVEVSUE9MQVRJT05cbn1cblxuXG5leHBvcnQgY2xhc3MgU3RyaW5nRXhwcmVzc2lvbiBpbXBsZW1lbnRzIEV4cHJlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc3RyOiBzdHJpbmcsIHByaXZhdGUgcm93OiBudW1iZXIsIHByaXZhdGUgY29sdW1uOiBudW1iZXIpIHtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuXG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBTdHJpbmdCdWZmZXIodGhpcy5zdHIsIHRoaXMucm93LCB0aGlzLmNvbHVtbik7XG5cbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgbGV0IHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcblxuICAgICAgICBsZXQgY29sdW1uLCByb3c7XG5cbiAgICAgICAgbGV0IHN0YWdlID0gU3RhZ2UuT1BFTjtcblxuICAgICAgICB3aGlsZSAocmVhZGVyLmhhc05leHQoKSkge1xuXG4gICAgICAgICAgICBsZXQgY2hhcmFjdGVyID0gcmVhZGVyLm5leHQoKTtcblxuXG4gICAgICAgICAgICBpZiAoc3RhZ2UgPT09IFN0YWdlLk9QRU4pIHtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgaWYgKHdyaXRlci5lbmRzV2l0aCgnJHsnKSkge1xuICAgICAgICAgICAgICAgICAgICByb3cgPSBjaGFyYWN0ZXIuZ2V0Um93KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGNoYXJhY3Rlci5nZXRDb2x1bW4oKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHdyaXRlci50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKHRleHQuc3Vic3RyaW5nKDAsIHRleHQubGVuZ3RoIC0gMikpO1xuICAgICAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLklOVEVSUE9MQVRJT047XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0YWdlID09PSBTdGFnZS5JTlRFUlBPTEFUSU9OKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ30nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSB3cml0ZXIudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHIgPSBuZXcgRXhwcmVzc2lvbkVuZ2luZSgpLmJ1aWxkKHRleHQsIHJvdyEsIGNvbHVtbiEpLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nKHN0cikpO1xuICAgICAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLk9QRU47XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LmFwcGVuZCh3cml0ZXIudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YocmVzdWx0LnRvU3RyaW5nKCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCaW5hcnlFeHByZXNzaW9uIH0gZnJvbSAnLi9CaW5hcnlFeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBTdWJ0cmFjdEFuZEFzc2lnbkV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnLT0nO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMubGhzLmV2YWx1YXRlKGRhdGEpO1xuXG4gICAgICAgIGN1cnJlbnQuYXNzaWduKGN1cnJlbnQucmV0cmlldmUoKSAtIHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHVuZGVmaW5lZCk7XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIFN1YnRyYWN0aW9uRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICctJztcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZih0aGlzLmxocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpIC0gdGhpcy5yaHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSk7XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBUcnVlRXhwcmVzc2lvbiBpbXBsZW1lbnRzIEV4cHJlc3Npb24ge1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByb3c6IG51bWJlciwgcHJpdmF0ZSBjb2x1bW46IG51bWJlcikge1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHRydWUpO1xuICAgIH1cbn0iLCJleHBvcnQgaW50ZXJmYWNlIFZhbHVlIHtcbiAgICBhc3NpZ24odmFsOiBhbnkpOiB2b2lkO1xuXG4gICAgcmV0cmlldmUoKTogYW55O1xufVxuXG5leHBvcnQgY2xhc3MgTGl0ZXJhbCBpbXBsZW1lbnRzIFZhbHVlIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgdmFsdWU6IGFueSkge1xuICAgIH1cblxuICAgIGFzc2lnbih2YWw6IGFueSk6IHZvaWQge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFzc2lnbm1lbnQgdGFyZ2V0XCIpO1xuICAgIH1cblxuICAgIHJldHJpZXZlKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cblxuICAgIHN0YXRpYyBvZih2YWx1ZTogYW55KSB7XG4gICAgICAgIHJldHVybiBuZXcgTGl0ZXJhbCh2YWx1ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVmZXJlbmNlIGltcGxlbWVudHMgVmFsdWUge1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBuYW1lOiBzdHJpbmcsIHByaXZhdGUgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pikge1xuICAgIH1cblxuICAgIGFzc2lnbih2YWw6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLmRhdGFbdGhpcy5uYW1lXSA9IHZhbDtcbiAgICB9XG5cbiAgICByZXRyaWV2ZSgpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhW3RoaXMubmFtZV07XG4gICAgfVxuXG4gICAgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgb2YobmFtZTogc3RyaW5nLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVmZXJlbmNlKG5hbWUsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBTdHJpbmdCdWZmZXIgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvU3RyaW5nQnVmZmVyJztcbmltcG9ydCB7IGlzV2hpdGVzcGFjZSB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9pc1doaXRlc3BhY2UnO1xuaW1wb3J0IHsgaXNBbHBoYWJldGljIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL2lzQWxwaGFiZXRpYyc7XG5pbXBvcnQgeyBpc0FscGhhbnVtZXJpYyB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9pc0FscGhhbnVtZXJpYyc7XG5pbXBvcnQgeyBpc051bWVyaWMgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaXNOdW1lcmljJztcbmltcG9ydCB7IFRlbXBsYXRlRXJyb3IgfSBmcm9tICcuLi9UZW1wbGF0ZUVycm9yJztcblxuY29uc3QgZW51bSBTdGFnZSB7XG4gICAgT1BFTixcbiAgICBPUEVSQVRPUixcbiAgICBSRUZFUkVOQ0UsXG4gICAgU1RSSU5HLFxuICAgIFJBV19TVFJJTkcsXG4gICAgTlVNQkVSXG59XG5cbmV4cG9ydCBjb25zdCBUb2tlblR5cGUgPSB7XG4gICAgRVFVQUw6ICdFUVVBTCcsXG4gICAgTk9UX0VRVUFMOiAnTk9UX0VRVUFMJyxcbiAgICBMRVNTX1RIQU46ICdMRVNTX1RIQU4nLFxuICAgIExFU1NfVEhBTl9PUl9FUVVBTDogJ0xFU1NfVEhBTl9PUl9FUVVBTCcsXG4gICAgR1JFQVRFUl9USEFOOiAnR1JFQVRFUl9USEFOJyxcbiAgICBHUkVBVEVSX1RIQU5fT1JfRVFVQUw6ICdHUkVBVEVSX1RIQU5fT1JfRVFVQUwnLFxuICAgIE9SOiAnT1InLFxuICAgIEFORDogJ0FORCcsXG4gICAgQkFORzogJ0JBTkcnLFxuICAgIFJFRkVSRU5DRTogJ1JFRkVSRU5DRScsXG4gICAgQlVJTFRJTjogJ0JVSUxUSU4nLFxuICAgIEdMT0JBTF9WQVJJQUJMRTogJ0dMT0JBTF9WQVJJQUJMRScsXG4gICAgVFJVRTogJ1RSVUUnLFxuICAgIEZBTFNFOiAnRkFMU0UnLFxuICAgIFNUUklORzogJ1NUUklORycsXG4gICAgTlVNQkVSOiAnTlVNQkVSJyxcbiAgICBPUEVOX1BBUkVOVEhFU0lTOiAnT1BFTl9QQVJFTlRIRVNJUycsXG4gICAgQ0xPU0VfUEFSRU5USEVTSVM6ICdDTE9TRV9QQVJFTlRIRVNJUycsXG4gICAgT1BFTl9TRVFVRU5DRTogJ09QRU5fU0VRVUVOQ0UnLFxuICAgIENMT1NFX1NFUVVFTkNFOiAnQ0xPU0VfU0VRVUVOQ0UnLFxuICAgIE9QRU5fU0xJQ0U6ICdPUEVOX1NMSUNFJyxcbiAgICBPUEVOX0hBU0g6ICdPUEVOX0hBU0gnLFxuICAgIENMT1NFX0hBU0g6ICdDTE9TRV9IQVNIJyxcbiAgICBDT01NQTogJ0NPTU1BJyxcbiAgICBDT0xPTjogJ0NPTE9OJyxcbiAgICBBU1NJR046ICdBU1NJR04nLFxuICAgIEFERF9BTkRfQVNTSUdOOiAnQUREX0FORF9BU1NJR04nLFxuICAgIFNVQlRSQUNUX0FORF9BU1NJR046ICdTVUJUUkFDVF9BTkRfQVNTSUdOJyxcbiAgICBNVUxUSVBMWV9BTkRfQVNTSUdOOiAnTVVMVElQTFlfQU5EX0FTU0lHTicsXG4gICAgRElWSURFX0FORF9BU1NJR046ICdESVZJREVfQU5EX0FTU0lHTicsXG4gICAgTU9EVUxVU19BTkRfQVNTSUdOOiAnTU9EVUxVU19BTkRfQVNTSUdOJyxcbiAgICBQTFVTOiAnUExVUycsXG4gICAgTUlOVVM6ICdNSU5VUycsXG4gICAgTVVMVElQTFk6ICdNVUxUSVBMWScsXG4gICAgRElWSURFOiAnRElWSURFJyxcbiAgICBNT0RVTFVTOiAnTU9EVUxVUycsXG4gICAgUkFOR0VfSU5DTFVTSVZFOiAnUkFOR0VfSU5DTFVTSVZFJyxcbiAgICBSQU5HRV9FWENMVVNJVkU6ICdSQU5HRV9FWENMVVNJVkUnLFxuICAgIFJBTkdFX0xFTkdUSF9JTkM6ICdSQU5HRV9MRU5HVEhfSU5DJyxcbiAgICBSQU5HRV9MRU5HVEhfREVDOiAnUkFOR0VfTEVOR1RIX0RFQycsXG4gICAgREVSRUZFUkVOQ0U6ICdERVJFRkVSRU5DRScsXG4gICAgQ0FMTF9CVUlMVElOOiAnQ0FMTF9CVUlMVElOJyxcbiAgICBDQUxMX01FVEhPRDogJ0NBTExfTUVUSE9EJyxcbiAgICBJU19ERUZJTkVEOiAnSVNfREVGSU5FRCcsXG4gICAgTEFNQkRBOiAnTEFNQkRBJyxcbiAgICBQTFVTX1BMVVM6ICdQTFVTX1BMVVMnLFxuICAgIE1JTlVTX01JTlVTOiAnTUlOVVNfTUlOVVMnLFxufTtcblxuZXhwb3J0IGNsYXNzIFRva2VuIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgdHlwZTogc3RyaW5nLCBwcml2YXRlIHRva2VuOiBzdHJpbmcsIHByaXZhdGUgcm93OiBudW1iZXIsIHByaXZhdGUgY29sdW1uOiBudW1iZXIpIHtcbiAgICB9XG5cbiAgICBnZXRUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50eXBlO1xuICAgIH1cblxuICAgIGdldFRva2VuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbjtcbiAgICB9XG5cbiAgICBnZXRSb3coKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdztcbiAgICB9XG5cbiAgICBnZXRDb2x1bW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbHVtbjtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2tlbml6ZShleHByZXNzaW9uOiBzdHJpbmcsIHJvdzogbnVtYmVyID0gMCwgY29sdW1uOiBudW1iZXIgPSAwKSB7XG5cbiAgICBjb25zdCByZWFkZXIgPSBuZXcgU3RyaW5nQnVmZmVyKGV4cHJlc3Npb24sIHJvdywgY29sdW1uKTtcbiAgICBsZXQgc3RhZ2UgPSBTdGFnZS5PUEVOO1xuXG4gICAgbGV0IHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcblxuICAgIGNvbnN0IHJlc3VsdHM6IFRva2VuW10gPSBbXTtcblxuICAgIGZ1bmN0aW9uIGFwcGVuZFRva2VuKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcikge1xuXG4gICAgICAgIGZ1bmN0aW9uIHRha2UocGFydGlhbDogc3RyaW5nLCB0eXBlOiBzdHJpbmcpIHtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgVG9rZW4odHlwZSwgcGFydGlhbCwgcm93LCBjb2x1bW4gLSBwYXJ0aWFsLmxlbmd0aCkpO1xuICAgICAgICAgICAgcmV0dXJuIHRva2VuLnN1YnN0cmluZyhwYXJ0aWFsLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdG9rZW4gPSB3cml0ZXIudG9TdHJpbmcoKTtcblxuICAgICAgICBpZiAoc3RhZ2UgPT09IFN0YWdlLk5VTUJFUikge1xuICAgICAgICAgICAgaWYgKGlzTmFOKE51bWJlcih0b2tlbikpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBJbnZhbGlkIG51bWJlcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBUb2tlbihUb2tlblR5cGUuTlVNQkVSLCB0b2tlbiwgcm93LCBjb2x1bW4gLSB0b2tlbi5sZW5ndGgpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICh0b2tlbi5sZW5ndGgpIHtcblxuICAgICAgICAgICAgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJy4uKi0nKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnLi4qLScsIFRva2VuVHlwZS5SQU5HRV9MRU5HVEhfREVDKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnLi4qKycpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCcuLiorJywgVG9rZW5UeXBlLlJBTkdFX0xFTkdUSF9JTkMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCcuLionKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnLi4qJywgVG9rZW5UeXBlLlJBTkdFX0xFTkdUSF9JTkMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCcuLjwnKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnLi48JywgVG9rZW5UeXBlLlJBTkdFX0VYQ0xVU0lWRSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJy4uIScpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCcuLjwnLCBUb2tlblR5cGUuUkFOR0VfRVhDTFVTSVZFKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnPT0nKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnPT0nLCBUb2tlblR5cGUuRVFVQUwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCcrPScpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCcrPScsIFRva2VuVHlwZS5BRERfQU5EX0FTU0lHTik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJysrJykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJysrJywgVG9rZW5UeXBlLlBMVVNfUExVUyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJy09JykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJy09JywgVG9rZW5UeXBlLlNVQlRSQUNUX0FORF9BU1NJR04pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCctLScpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCctLScsIFRva2VuVHlwZS5NSU5VU19NSU5VUyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJy89JykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJy89JywgVG9rZW5UeXBlLkRJVklERV9BTkRfQVNTSUdOKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnJT0nKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnJT0nLCBUb2tlblR5cGUuTU9EVUxVU19BTkRfQVNTSUdOKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnKj0nKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnKj0nLCBUb2tlblR5cGUuTVVMVElQTFlfQU5EX0FTU0lHTik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJy0+JykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJy0+JywgVG9rZW5UeXBlLkxBTUJEQSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJyE9JykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJyE9JywgVG9rZW5UeXBlLk5PVF9FUVVBTCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJzw9JykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJzw9JywgVG9rZW5UeXBlLkxFU1NfVEhBTl9PUl9FUVVBTCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJyZndDsnKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnPicsIFRva2VuVHlwZS5HUkVBVEVSX1RIQU4pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCcmbHQ7JykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJzwnLCBUb2tlblR5cGUuTEVTU19USEFOKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnbHQnKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnPCcsIFRva2VuVHlwZS5MRVNTX1RIQU4pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCdsdGUnKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnPD0nLCBUb2tlblR5cGUuTEVTU19USEFOX09SX0VRVUFMKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnZ3QnKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnPicsIFRva2VuVHlwZS5HUkVBVEVSX1RIQU4pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCdndGUnKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnPj0nLCBUb2tlblR5cGUuR1JFQVRFUl9USEFOX09SX0VRVUFMKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnPj0nKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnPj0nLCBUb2tlblR5cGUuR1JFQVRFUl9USEFOX09SX0VRVUFMKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnJmd0OycpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCc+PScsIFRva2VuVHlwZS5HUkVBVEVSX1RIQU5fT1JfRVFVQUwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCcuLicpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCcuLicsIFRva2VuVHlwZS5SQU5HRV9JTkNMVVNJVkUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCc/PycpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCc/PycsIFRva2VuVHlwZS5JU19ERUZJTkVEKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnfHwnKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnfHwnLCBUb2tlblR5cGUuT1IpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCcmJicpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCcmJicsIFRva2VuVHlwZS5BTkQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCcmYW1wOyZhbXA7JykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJyYmJywgVG9rZW5UeXBlLkFORCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJ3RydWUnKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgndHJ1ZScsIFRva2VuVHlwZS5UUlVFKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnZmFsc2UnKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnZmFsc2UnLCBUb2tlblR5cGUuRkFMU0UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCc9JykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJz0nLCBUb2tlblR5cGUuQVNTSUdOKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnIScpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCchJywgVG9rZW5UeXBlLkJBTkcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCcrJykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJysnLCBUb2tlblR5cGUuUExVUyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJy0nKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnLScsIFRva2VuVHlwZS5NSU5VUyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnLycsIFRva2VuVHlwZS5ESVZJREUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCcqJykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJyonLCBUb2tlblR5cGUuTVVMVElQTFkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCclJykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJyUnLCBUb2tlblR5cGUuTU9EVUxVUyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJz4nKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnPicsIFRva2VuVHlwZS5HUkVBVEVSX1RIQU4pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCc8JykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJzwnLCBUb2tlblR5cGUuTEVTU19USEFOKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnPycpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCc/JywgVG9rZW5UeXBlLkNBTExfQlVJTFRJTik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCAmJiByZXN1bHRzW3Jlc3VsdHMubGVuZ3RoIC0gMV0uZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQ0FMTF9CVUlMVElOKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgVG9rZW4oVG9rZW5UeXBlLkJVSUxUSU4sIHRva2VuLCByb3csIGNvbHVtbiAtIHRva2VuLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgVG9rZW4oVG9rZW5UeXBlLlJFRkVSRU5DRSwgdG9rZW4sIHJvdywgY29sdW1uIC0gdG9rZW4ubGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzZXRUb2tlbigpIHtcbiAgICAgICAgc3RhZ2UgPSBTdGFnZS5PUEVOO1xuICAgICAgICB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgfVxuXG4gICAgbGV0IHN0cmluZ0RlbGltaXRlciA9IG51bGw7XG5cbiAgICBsZXQgZXNjYXBlID0gZmFsc2U7XG4gICAgbGV0IGZ1bGxTdG9wID0gZmFsc2U7XG4gICAgbGV0IGxhc3RGdWxsU3RvcCA9IGZhbHNlO1xuXG4gICAgd2hpbGUgKHJlYWRlci5oYXNOZXh0KCkpIHtcblxuICAgICAgICBsZXQgY2hhcmFjdGVyID0gcmVhZGVyLm5leHQoKTtcblxuICAgICAgICBpZiAoc3RhZ2UgPT09IFN0YWdlLlNUUklORykge1xuXG4gICAgICAgICAgICBpZiAoZXNjYXBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoJ1wiJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT0gJ1xcJycpIHtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZCgnXFwnJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICd7Jykge1xuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKCd7Jyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICc9Jykge1xuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKCc9Jyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKCdcXFxcJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICduJykge1xuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKFwiXFxuXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAncicpIHtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChcIlxcclwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoXCJcXHRcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICdiJykge1xuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKFwiXFxiXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnZicpIHtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChcIlxcZlwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ2wnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoXCI8XCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnZycpIHtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChcIj5cIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICdhJykge1xuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKFwiJlwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ3gnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vZG8gbm90IGVzY2FwZSBzcGVjaWFsIHN0cmluZ3NcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChcIlxcXFx4XCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpLCBgVW5zdXBwb3J0ZWQgZXNjYXBlIHNlcXVlbmNlICdcXFxcJHtjaGFyYWN0ZXIuZ2V0U3RyaW5nKCl9J2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlc2NhcGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgIGVzY2FwZSA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gc3RyaW5nRGVsaW1pdGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyaW5nID0gd3JpdGVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBUb2tlbihUb2tlblR5cGUuU1RSSU5HLCBzdHJpbmcsIGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpIC0gc3RyaW5nLmxlbmd0aCAtIDEpKTtcblxuICAgICAgICAgICAgICAgIHJlc2V0VG9rZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YWdlID09PSBTdGFnZS5SQVdfU1RSSU5HKSB7XG4gICAgICAgICAgICBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSBzdHJpbmdEZWxpbWl0ZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmcgPSB3cml0ZXIudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gobmV3IFRva2VuKFRva2VuVHlwZS5TVFJJTkcsIHN0cmluZywgY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkgLSBzdHJpbmcubGVuZ3RoIC0gMikpO1xuXG4gICAgICAgICAgICAgICAgcmVzZXRUb2tlbigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaXNXaGl0ZXNwYWNlKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSkpIHtcbiAgICAgICAgICAgIGFwcGVuZFRva2VuKGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcblxuICAgICAgICAgICAgcmVzZXRUb2tlbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJygnKSB7XG4gICAgICAgICAgICBhcHBlbmRUb2tlbihjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG5cbiAgICAgICAgICAgIGlmIChzdGFnZSA9PT0gU3RhZ2UuUkVGRVJFTkNFKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBUb2tlbihUb2tlblR5cGUuQ0FMTF9NRVRIT0QsIFwiKFwiLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gobmV3IFRva2VuKFRva2VuVHlwZS5PUEVOX1BBUkVOVEhFU0lTLCBcIihcIiwgY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzZXRUb2tlbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ1snKSB7XG4gICAgICAgICAgICBhcHBlbmRUb2tlbihjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG4gICAgICAgICAgICBpZiAoc3RhZ2UgPT09IFN0YWdlLlJFRkVSRU5DRSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgVG9rZW4oVG9rZW5UeXBlLk9QRU5fU0xJQ0UsIFwiW1wiLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gobmV3IFRva2VuKFRva2VuVHlwZS5PUEVOX1NFUVVFTkNFLCBcIltcIiwgY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzZXRUb2tlbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ3snKSB7XG4gICAgICAgICAgICBhcHBlbmRUb2tlbihjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG5cbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgVG9rZW4oVG9rZW5UeXBlLk9QRU5fSEFTSCwgXCJ7XCIsIGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKSk7XG5cbiAgICAgICAgICAgIHJlc2V0VG9rZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICcsJykge1xuICAgICAgICAgICAgYXBwZW5kVG9rZW4oY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpO1xuXG4gICAgICAgICAgICByZXN1bHRzLnB1c2gobmV3IFRva2VuKFRva2VuVHlwZS5DT01NQSwgXCIsXCIsIGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKSk7XG5cbiAgICAgICAgICAgIHJlc2V0VG9rZW4oKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJzonKSB7XG4gICAgICAgICAgICBhcHBlbmRUb2tlbihjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG5cbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgVG9rZW4oVG9rZW5UeXBlLkNPTE9OLCBcIjpcIiwgY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpKTtcblxuICAgICAgICAgICAgcmVzZXRUb2tlbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJyknKSB7XG4gICAgICAgICAgICBhcHBlbmRUb2tlbihjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG5cbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgVG9rZW4oVG9rZW5UeXBlLkNMT1NFX1BBUkVOVEhFU0lTLCBcIilcIiwgY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpKTtcblxuICAgICAgICAgICAgcmVzZXRUb2tlbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ10nKSB7XG4gICAgICAgICAgICBhcHBlbmRUb2tlbihjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG5cbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgVG9rZW4oVG9rZW5UeXBlLkNMT1NFX1NFUVVFTkNFLCBcIl1cIiwgY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpKTtcblxuICAgICAgICAgICAgcmVzZXRUb2tlbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ30nKSB7XG4gICAgICAgICAgICBhcHBlbmRUb2tlbihjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG5cbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgVG9rZW4oVG9rZW5UeXBlLkNMT1NFX0hBU0gsIFwifVwiLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSkpO1xuXG4gICAgICAgICAgICByZXNldFRva2VuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLlJFRkVSRU5DRSkge1xuICAgICAgICAgICAgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJy4nKSB7XG4gICAgICAgICAgICAgICAgYXBwZW5kVG9rZW4oY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpO1xuXG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBUb2tlbihUb2tlblR5cGUuREVSRUZFUkVOQ0UsIFwiLlwiLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSkpO1xuXG4gICAgICAgICAgICAgICAgcmVzZXRUb2tlbigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICdcIicgJiYgd3JpdGVyLnRvU3RyaW5nKCkgPT09ICdyJykge1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuUkFXX1NUUklORztcbiAgICAgICAgICAgICAgICBzdHJpbmdEZWxpbWl0ZXIgPSAnXCInO1xuICAgICAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnXFwnJyAmJiB3cml0ZXIudG9TdHJpbmcoKSA9PT0gJ3InKSB7XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5SQVdfU1RSSU5HO1xuICAgICAgICAgICAgICAgIHN0cmluZ0RlbGltaXRlciA9ICdcXCcnO1xuICAgICAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBbHBoYW51bWVyaWMoY2hhcmFjdGVyLmdldFN0cmluZygpKSkge1xuICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoY2hhcmFjdGVyLmdldFN0cmluZygpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnXycpIHtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFwcGVuZFRva2VuKGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcblxuICAgICAgICAgICAgICAgIC8vZW5jb3VudGVyZWQgd2VpcmQgY2hhcmFjdGVyIC0gb3BlcmF0b3IuXG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5PUEVSQVRPUjtcblxuICAgICAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnXCInKSB7XG4gICAgICAgICAgICBhcHBlbmRUb2tlbihjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG5cbiAgICAgICAgICAgIHN0cmluZ0RlbGltaXRlciA9ICdcIic7XG4gICAgICAgICAgICBzdGFnZSA9IFN0YWdlLlNUUklORztcbiAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICdcXCcnKSB7XG4gICAgICAgICAgICBhcHBlbmRUb2tlbihjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG5cbiAgICAgICAgICAgIHN0cmluZ0RlbGltaXRlciA9ICdcXCcnO1xuICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5TVFJJTkc7XG4gICAgICAgICAgICB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLk9QRVJBVE9SKSB7XG4gICAgICAgICAgICBpZiAoaXNBbHBoYWJldGljKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRUb2tlbihjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG5cbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLlJFRkVSRU5DRTtcblxuICAgICAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTnVtZXJpYyhjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpKSB7XG4gICAgICAgICAgICAgICAgYXBwZW5kVG9rZW4oY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpO1xuXG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5OVU1CRVI7XG5cbiAgICAgICAgICAgICAgICB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLk5VTUJFUikge1xuICAgICAgICAgICAgaWYgKGxhc3RGdWxsU3RvcCkge1xuICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICcuJykge1xuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUb2tlbihjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSAtIDEpO1xuXG4gICAgICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuT1BFUkFUT1I7XG4gICAgICAgICAgICAgICAgICAgIGZ1bGxTdG9wID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RGdWxsU3RvcCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZCgnLicpO1xuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEZ1bGxTdG9wID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoJy4nKTtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnLicpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEZ1bGxTdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vZG91YmxlIGZ1bGxTdG9wIC0gd2UgaGF2ZSBhIHJhbmdlIG9wZXJhdG9yLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZnVsbFN0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IoY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCksIGBJbnZhbGlkIGRlY2ltYWwgcG9pbnQsIGRlY2ltYWwgcG9pbnQgYWxyZWFkeSBwcm9jZXNzZWRgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnVsbFN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxhc3RGdWxsU3RvcCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTnVtZXJpYyhjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpKSB7XG4gICAgICAgICAgICAgICAgbGFzdEZ1bGxTdG9wID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FscGhhYmV0aWMoY2hhcmFjdGVyLmdldFN0cmluZygpKSkge1xuICAgICAgICAgICAgICAgIGFwcGVuZFRva2VuKGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcblxuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuUkVGRVJFTkNFO1xuXG4gICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoY2hhcmFjdGVyLmdldFN0cmluZygpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXBwZW5kVG9rZW4oY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpO1xuXG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5PUEVSQVRPUjtcblxuICAgICAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnLicpIHtcbiAgICAgICAgICAgIGFwcGVuZFRva2VuKGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcblxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBUb2tlbihUb2tlblR5cGUuREVSRUZFUkVOQ0UsIFwiLlwiLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSkpO1xuXG4gICAgICAgICAgICByZXNldFRva2VuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBbHBoYWJldGljKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSkpIHtcbiAgICAgICAgICAgIC8vIHJlZmVyZW5jZSBpcyBhIHNwZWNpYWwgbW9kZSB3aGVyZSBhbHBoYW51bWVyaWNzIGZvciBhIHRva2VuLCBhbmQgYW55dGhpbmcgZWxzZSB0ZXJtaW5hdGVzIHRoZSB0b2tlbi5cbiAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuUkVGRVJFTkNFO1xuICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTnVtZXJpYyhjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpKSB7XG4gICAgICAgICAgICAvLyBudW1iZXIgaXMgYSBzcGVjaWFsIG1vZGUgd2hlcmUgZnVsbHN0b3AgbWVhbnMgc29tZXRoaW5nIHNwZWNpZmljLCBhIGRlY2ltYWwgcG9pbnQuIEFscGhhYmV0aWMgY2hhcmFjdGVycyBhcmUgaW52YWxpZC5cbiAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuTlVNQkVSO1xuICAgICAgICAgICAgZnVsbFN0b3AgPSBmYWxzZTtcbiAgICAgICAgICAgIGxhc3RGdWxsU3RvcCA9IGZhbHNlO1xuICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJy4nKSB7XG4gICAgICAgICAgICBhcHBlbmRUb2tlbihjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG5cbiAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoXCIuXCIpO1xuICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5SRUZFUkVOQ0U7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuT1BFUkFUT1I7XG4gICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGlmIChzdGFnZSA9PT0gU3RhZ2UuU1RSSU5HIHx8IHN0YWdlID09PSBTdGFnZS5SQVdfU1RSSU5HKSB7XG4gICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgVW5jbG9zZWQgc3RyaW5nYCk7XG4gICAgfVxuXG4gICAgYXBwZW5kVG9rZW4ocmVhZGVyLmdldFJvdygpLCByZWFkZXIuZ2V0Q29sdW1uKCkpO1xuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbiIsImV4cG9ydCBjbGFzcyBMZXhpY2FsVG9rZW4ge1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSB0eXBlOiBzdHJpbmcsIHByaXZhdGUgY29sdW1uOiBudW1iZXIsIHByaXZhdGUgcm93OiBudW1iZXIsIHByaXZhdGUgdGV4dDogc3RyaW5nLCBwcml2YXRlIHBhcmFtcz86IHN0cmluZywgcHJpdmF0ZSBwYXJhbXNSb3c/OiBudW1iZXIsIHByaXZhdGUgcGFyYW1zQ29sdW1uPzogbnVtYmVyKSB7XG4gICAgfVxuXG4gICAgZ2V0VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZTtcbiAgICB9XG5cbiAgICBnZXRSb3coKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdztcbiAgICB9XG5cbiAgICBnZXRDb2x1bW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbHVtbjtcbiAgICB9XG5cbiAgICBnZXRUZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0O1xuICAgIH1cblxuICAgIGdldFBhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyYW1zO1xuICAgIH1cblxuICAgIGdldFBhcmFtc1JvdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyYW1zUm93O1xuICAgIH1cblxuICAgIGdldFBhcmFtc0NvbHVtbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyYW1zQ29sdW1uO1xuICAgIH1cbn0iLCJleHBvcnQgY29uc3QgTGV4aWNhbFRva2VuVHlwZSA9IHtcbiAgICBPUEVOX0RJUkVDVElWRTogJ09QRU5fRElSRUNUSVZFJyxcbiAgICBDTE9TRV9ESVJFQ1RJVkU6ICdDTE9TRV9ESVJFQ1RJVkUnLFxuICAgIFRFWFQ6ICdURVhUJyxcbiAgICBJTlRFUlBPTEFUSU9OOiAnSU5URVJQT0xBVElPTicsXG59OyIsImltcG9ydCB7IExleGljYWxUb2tlbiB9IGZyb20gJy4vTGV4aWNhbFRva2VuJztcbmltcG9ydCB7IFN0cmluZ0J1ZmZlciB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9TdHJpbmdCdWZmZXInO1xuaW1wb3J0IHsgTGV4aWNhbFRva2VuVHlwZSB9IGZyb20gJy4vTGV4aWNhbFRva2VuVHlwZSc7XG5pbXBvcnQgeyBpc1doaXRlc3BhY2UgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaXNXaGl0ZXNwYWNlJztcblxuXG5lbnVtIEludGVycG9sYXRpb25TdGFnZSB7XG4gICAgT1BFTixcbiAgICBTVFJJTkcsXG4gICAgUkFXX1NUUklOR1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZSh0ZW1wbGF0ZTogc3RyaW5nKTogTGV4aWNhbFRva2VuW10ge1xuXG4gICAgY29uc3QgcmVzdWx0czogTGV4aWNhbFRva2VuW10gPSBbXTtcblxuICAgIGxldCB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgbGV0IHN0YXJ0Q29sdW1uID0gMCwgc3RhcnRSb3cgPSAwO1xuXG4gICAgY29uc3QgcmVhZGVyID0gbmV3IFN0cmluZ0J1ZmZlcih0ZW1wbGF0ZSk7XG5cbiAgICB3aGlsZSAocmVhZGVyLmhhc05leHQoKSkge1xuXG4gICAgICAgIGxldCBjaGFyYWN0ZXIgPSByZWFkZXIubmV4dCgpO1xuICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG5cbiAgICAgICAgaWYgKHdyaXRlci5lbmRzV2l0aCgnPC8jJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSB3cml0ZXIudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCAtIDMpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gobmV3IExleGljYWxUb2tlbihMZXhpY2FsVG9rZW5UeXBlLlRFWFQsIHN0YXJ0Q29sdW1uLCBzdGFydFJvdywgdGV4dC5zdWJzdHJpbmcoMCwgdGV4dC5sZW5ndGggLSAzKSwgdW5kZWZpbmVkKSk7XG4gICAgICAgICAgICAgICAgc3RhcnRDb2x1bW4gPSBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkgLSAyO1xuICAgICAgICAgICAgICAgIHN0YXJ0Um93ID0gY2hhcmFjdGVyLmdldFJvdygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG5cbiAgICAgICAgICAgIHdoaWxlIChyZWFkZXIuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyID0gcmVhZGVyLm5leHQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoY2hhcmFjdGVyLmdldFN0cmluZygpKSB8fCBjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICc+Jykge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHdyaXRlci50b1N0cmluZygpO1xuICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuXG4gICAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLmhhc05leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXIgPSByZWFkZXIubmV4dCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICc+Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN1bHRzLnB1c2gobmV3IExleGljYWxUb2tlbihMZXhpY2FsVG9rZW5UeXBlLkNMT1NFX0RJUkVDVElWRSwgc3RhcnRDb2x1bW4sIHN0YXJ0Um93LCBkaXJlY3RpdmUsIHdyaXRlci50b1N0cmluZygpKSk7XG4gICAgICAgICAgICB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG5cbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gY2hhcmFjdGVyLmdldENvbHVtbigpICsgMTtcbiAgICAgICAgICAgIHN0YXJ0Um93ID0gY2hhcmFjdGVyLmdldFJvdygpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAod3JpdGVyLmVuZHNXaXRoKCc8IycpKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gd3JpdGVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggLSAyKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBMZXhpY2FsVG9rZW4oTGV4aWNhbFRva2VuVHlwZS5URVhULCBzdGFydENvbHVtbiwgc3RhcnRSb3csIHRleHQuc3Vic3RyaW5nKDAsIHRleHQubGVuZ3RoIC0gMikpKTtcblxuICAgICAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gY2hhcmFjdGVyLmdldENvbHVtbigpIC0gMTtcbiAgICAgICAgICAgICAgICBzdGFydFJvdyA9IGNoYXJhY3Rlci5nZXRSb3coKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuXG4gICAgICAgICAgICB3aGlsZSAocmVhZGVyLmhhc05leHQoKSkge1xuICAgICAgICAgICAgICAgIGNoYXJhY3RlciA9IHJlYWRlci5uZXh0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSkgfHwgY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnPicpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSB3cml0ZXIudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcblxuICAgICAgICAgICAgbGV0IHBhcmFtc1JvdywgcGFyYW1zQ29sdW1uO1xuXG4gICAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgbGVhZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgcGFyYW1zUm93ID0gY2hhcmFjdGVyLmdldFJvdygpO1xuICAgICAgICAgICAgICAgIHBhcmFtc0NvbHVtbiA9IGNoYXJhY3Rlci5nZXRDb2x1bW4oKTtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlciA9IHJlYWRlci5uZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoY2hhcmFjdGVyLmdldFN0cmluZygpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zUm93ID0gY2hhcmFjdGVyLmdldFJvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zQ29sdW1uID0gY2hhcmFjdGVyLmdldENvbHVtbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxlYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnPicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ1wiJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLmhhc05leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlciA9IHJlYWRlci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoY2hhcmFjdGVyLmdldFN0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlYWRlci5oYXNOZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlciA9IHJlYWRlci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ1wiJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICByZXN1bHRzLnB1c2gobmV3IExleGljYWxUb2tlbihMZXhpY2FsVG9rZW5UeXBlLk9QRU5fRElSRUNUSVZFLCBzdGFydENvbHVtbiwgc3RhcnRSb3csIGRpcmVjdGl2ZSwgd3JpdGVyLnRvU3RyaW5nKCksIHBhcmFtc1JvdywgcGFyYW1zQ29sdW1uKSk7XG4gICAgICAgICAgICB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG5cbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gY2hhcmFjdGVyLmdldENvbHVtbigpICsgMTtcbiAgICAgICAgICAgIHN0YXJ0Um93ID0gY2hhcmFjdGVyLmdldFJvdygpO1xuICAgICAgICB9IGVsc2UgaWYgKHdyaXRlci5lbmRzV2l0aCgnJHsnKSkge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IHdyaXRlci50b1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKHRleHQubGVuZ3RoIC0gMikge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgTGV4aWNhbFRva2VuKExleGljYWxUb2tlblR5cGUuVEVYVCwgc3RhcnRDb2x1bW4sIHN0YXJ0Um93LCB0ZXh0LnN1YnN0cmluZygwLCB0ZXh0Lmxlbmd0aCAtIDIpLCB1bmRlZmluZWQpKTtcbiAgICAgICAgICAgICAgICBzdGFydENvbHVtbiA9IGNoYXJhY3Rlci5nZXRDb2x1bW4oKSAtIDE7XG4gICAgICAgICAgICAgICAgc3RhcnRSb3cgPSBjaGFyYWN0ZXIuZ2V0Um93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG5cbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gY2hhcmFjdGVyLmdldENvbHVtbigpIC0gMTtcbiAgICAgICAgICAgIHN0YXJ0Um93ID0gY2hhcmFjdGVyLmdldFJvdygpO1xuXG4gICAgICAgICAgICBsZXQgcGFyYW1zUm93LCBwYXJhbXNDb2x1bW4sIGxlYWRpbmcgPSB0cnVlLCBpc1JhdyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBsZXQgc3RhZ2UgPSBJbnRlcnBvbGF0aW9uU3RhZ2UuT1BFTjtcblxuICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5oYXNOZXh0KCkpIHtcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXIgPSByZWFkZXIubmV4dCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGxlYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZWFkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtc1JvdyA9IGNoYXJhY3Rlci5nZXRSb3coKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zQ29sdW1uID0gY2hhcmFjdGVyLmdldENvbHVtbigpO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgaWYgKHN0YWdlID09PSBJbnRlcnBvbGF0aW9uU3RhZ2UuT1BFTikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNSYXcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFnZSA9IEludGVycG9sYXRpb25TdGFnZS5SQVdfU1RSSU5HO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFnZSA9IEludGVycG9sYXRpb25TdGFnZS5TVFJJTkc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1JhdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gXCJyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUmF3ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09IFwifVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUmF3ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IEludGVycG9sYXRpb25TdGFnZS5SQVdfU1RSSU5HKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICdcIicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWdlID0gSW50ZXJwb2xhdGlvblN0YWdlLk9QRU47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IEludGVycG9sYXRpb25TdGFnZS5TVFJJTkcpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWFkZXIuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyID0gcmVhZGVyLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFnZSA9IEludGVycG9sYXRpb25TdGFnZS5PUEVOO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBMZXhpY2FsVG9rZW4oTGV4aWNhbFRva2VuVHlwZS5JTlRFUlBPTEFUSU9OLCBzdGFydENvbHVtbiwgc3RhcnRSb3csICcnLCB3cml0ZXIudG9TdHJpbmcoKSwgcGFyYW1zUm93LCBwYXJhbXNDb2x1bW4pKTtcbiAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcblxuICAgICAgICAgICAgc3RhcnRDb2x1bW4gPSBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkgKyAxO1xuICAgICAgICAgICAgc3RhcnRSb3cgPSBjaGFyYWN0ZXIuZ2V0Um93KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0ID0gd3JpdGVyLnRvU3RyaW5nKCk7XG4gICAgaWYgKHRleHQubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChuZXcgTGV4aWNhbFRva2VuKExleGljYWxUb2tlblR5cGUuVEVYVCwgc3RhcnRDb2x1bW4sIHN0YXJ0Um93LCB0ZXh0LCB1bmRlZmluZWQpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbn0iLCIjISAvdXNyL2Jpbi9lbnYgbm9kZVxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBFbGVtZW50LCBwYXJzZSB9IGZyb20gJy4vcGFyc2VyJztcblxuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdub2RlOnBhdGgnO1xuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi9wcm9wZXJ0aWVzJztcbmltcG9ydCB7IFRlbXBsYXRlRW5naW5lIH0gZnJvbSAnLi9mcmVlbWFya2VyJztcbmltcG9ydCBTdG9yZSBmcm9tICcuL3N0b3JlL1N0b3JlJztcbmltcG9ydCBmb3JtYXQgZnJvbSAnaHRtbC1mb3JtYXQnO1xuaW1wb3J0IHsgUGxhbnRhaW5TdWJzdGl0dXRpb25zLCBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi9TdWJzdGl0dXRpb25zJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi9SZW5kZXJpbmdFbmdpbmUnO1xuaW1wb3J0IHsgRnJlZW1hcmtlckVycm9yIH0gZnJvbSAnLi9mcmVlbWFya2VyL0ZyZWVtYXJrZXJFcnJvcic7XG5pbXBvcnQgY29tbWFuZGVyID0gcmVxdWlyZSgnY29tbWFuZGVyJyk7XG5cbmNvbnN0IG9wdGlvbnMgPSBjb21tYW5kZXJcbiAgICAudmVyc2lvbignMS4wLjAnLCAnLXYsIC0tdmVyc2lvbicpXG4gICAgLnVzYWdlKCdbT1BUSU9OU10uLi4nKVxuICAgIC5vcHRpb24oJy1kLCAtLWRpciA8dmFsdWU+JywgJ1NwZWNpZmllcyBsb2NhdGlvbiBvZiB0aGUgbWF0ZXJpYWxzLicsICcuLycpXG4gICAgLm9wdGlvbignLW8sIC0tb3V0cHV0IDx2YWx1ZT4nLCAnU3BlY2lmaWVzIGxvY2F0aW9uIG9mIHRoZSBvdXRwdXQuJywgJy4vaHRtbCcpXG4gICAgLm9wdGlvbignLXMsIC0tcGFnZSA8dmFsdWU+JywgJ1NwZWNpZmllcyBhIHNpbmdsZSBwYWdlIHRvIHByb2Nlc3MuJylcbiAgICAucGFyc2UocHJvY2Vzcy5hcmd2KVxuICAgIC5vcHRzKCk7XG5cblxuaWYgKCFmcy5leGlzdHNTeW5jKHBhdGguam9pbihwcm9jZXNzLmVudi5JTklUX0NXRCEsIG9wdGlvbnMub3V0cHV0KSkpIHtcbiAgICBmcy5ta2RpclN5bmMocGF0aC5qb2luKHByb2Nlc3MuZW52LklOSVRfQ1dEISwgb3B0aW9ucy5vdXRwdXQpKTtcbn1cblxuY29uc3QgY2xhc3NNYXBwaW5nc0RhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuZW52LklOSVRfQ1dEISwgb3B0aW9ucy5kaXIsICdjbGFzcy1tYXBwaW5ncy5wcm9wZXJ0aWVzJyksICd1dGY4Jyk7XG5cbmNvbnN0IGNsYXNzTWFwcGluZ3MgPSBuZXcgUHJvcGVydGllcyhjbGFzc01hcHBpbmdzRGF0YSk7XG5cbmNvbnN0IHBsYW50YWluU3Vic3RpdHV0aW9ucyA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihwcm9jZXNzLmVudi5JTklUX0NXRCEsIG9wdGlvbnMuZGlyLCAncGxhbnRhaW4tc3Vic3RpdHV0aW9ucy5qc29uJyksICd1dGY4JykpIGFzIFBsYW50YWluU3Vic3RpdHV0aW9ucztcblxuZnVuY3Rpb24gcHJvY2Vzc0RpcmVjdG9yeShkaXI6IHN0cmluZywgc3VmZml4OiBzdHJpbmcsIGJhc2VUZW1wbGF0ZTogc3RyaW5nKSB7XG5cbiAgICBmcy5yZWFkZGlyKHBhdGguam9pbihwcm9jZXNzLmVudi5JTklUX0NXRCEsIG9wdGlvbnMuZGlyLCBkaXIpLCBmdW5jdGlvbihlcnI6IE5vZGVKUy5FcnJub0V4Y2VwdGlvbiB8IG51bGwsIGZpbGVzOiBzdHJpbmdbXSkge1xuXG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZygnVW5hYmxlIHRvIHNjYW4gZGlyZWN0b3J5OiAnICsgZXJyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZpbGVzLmZvckVhY2goZnVuY3Rpb24oZmlsZSkge1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5wYWdlICYmIGZpbGUgIT09IG9wdGlvbnMucGFnZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgU3RvcmUuY2xlYXIoKTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Byb2Nlc3NpbmcgJyArIGZpbGUpO1xuXG4gICAgICAgICAgICBjb25zdCBzdWJzdGl0dXRpb25zID0gcGxhbnRhaW5TdWJzdGl0dXRpb25zW2ZpbGVdIHx8IHt9IGFzIFN1YnN0aXR1dGlvbnM7XG5cbiAgICAgICAgICAgIGNvbnN0IGRvbSA9IHBhcnNlKGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4ocHJvY2Vzcy5lbnYuSU5JVF9DV0QhLCBvcHRpb25zLmRpciwgZGlyLCBmaWxlKSwgJ3V0ZjgnKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmluZ0VuZ2luZSA9IG5ldyBSZW5kZXJpbmdFbmdpbmUoZmlsZSwgY2xhc3NNYXBwaW5ncywgc3Vic3RpdHV0aW9ucywgb3B0aW9ucy5kaXIpO1xuXG4gICAgICAgICAgICBjb25zdCBib2R5ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckVsZW1lbnQoZG9tLnJvb3QgYXMgRWxlbWVudCk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1haW5UZW1wbGF0ZSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4ocHJvY2Vzcy5lbnYuSU5JVF9DV0QhLCBvcHRpb25zLmRpciwgYmFzZVRlbXBsYXRlKSwgJ3V0ZjgnKTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBodG1sID0gbmV3IFRlbXBsYXRlRW5naW5lKCkucmVuZGVyKG1haW5UZW1wbGF0ZSwge1xuICAgICAgICAgICAgICAgICAgICBib2R5OiBib2R5LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogKGRvbS5yb290IGFzIEVsZW1lbnQpLmF0dHJpYnV0ZXMudGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZnMud3JpdGVGaWxlU3luYyhwYXRoLmpvaW4ocHJvY2Vzcy5lbnYuSU5JVF9DV0QhLCBvcHRpb25zLm91dHB1dCwgZmlsZS5yZXBsYWNlQWxsKHN1ZmZpeCwgXCIuaHRtbFwiKSksIGZvcm1hdChodG1sKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRnJlZW1hcmtlckVycm9yKGBFcnJvciBwcm9jZXNzaW5nIGZ0bCB0ZW1wbGF0ZSAnbWFpbi5mdGwnYCwgZXJyIGFzIEVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbnByb2Nlc3NEaXJlY3RvcnkoJ3BhZ2VzJywgXCIucGFnZS54bWxcIiwgXCJtYWluLmZ0bFwiKTtcbnByb2Nlc3NEaXJlY3RvcnkoJ2VtYWlscycsIFwiLmVtYWlsLnhtbFwiLCBcImVtYWlsLmZ0bFwiKTtcbiIsImltcG9ydCB7IFN0cmluZ0J1ZmZlciB9IGZyb20gJy4vdXRpbGl0aWVzL1N0cmluZ0J1ZmZlcic7XG5pbXBvcnQgeyBpc1doaXRlc3BhY2UgfSBmcm9tICcuL3V0aWxpdGllcy9pc1doaXRlc3BhY2UnO1xuaW1wb3J0IHsgaXNBbHBoYWJldGljIH0gZnJvbSAnLi91dGlsaXRpZXMvaXNBbHBoYWJldGljJztcbmltcG9ydCB7IGlzQWxwaGFudW1lcmljIH0gZnJvbSAnLi91dGlsaXRpZXMvaXNBbHBoYW51bWVyaWMnO1xuXG5pbnRlcmZhY2UgRGljdGlvbmFyeTxUPiB7XG4gICAgW0tleTogc3RyaW5nXTogVDtcbn1cblxuZXhwb3J0IGNsYXNzIERvY3VtZW50IHtcbiAgICBwdWJsaWMgcHJvY2Vzc2luZzogRGljdGlvbmFyeTxEaWN0aW9uYXJ5PHN0cmluZz4+O1xuICAgIHB1YmxpYyByb290OiBOb2RlO1xuXG4gICAgY29uc3RydWN0b3IocHJvY2Vzc2luZzogRGljdGlvbmFyeTxEaWN0aW9uYXJ5PHN0cmluZz4+LCByb290OiBOb2RlKSB7XG4gICAgICAgIHRoaXMucHJvY2Vzc2luZyA9IHByb2Nlc3Npbmc7XG4gICAgICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gICAgfVxufVxuXG5pbnRlcmZhY2UgTm9kZSB7XG5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRWxlbWVudChzdWJqZWN0OiBOb2RlKTogc3ViamVjdCBpcyBFbGVtZW50IHtcbiAgICByZXR1cm4gKHN1YmplY3QgYXMgRWxlbWVudCkubmFtZSAhPT0gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNUZXh0KHN1YmplY3Q6IE5vZGUpOiBzdWJqZWN0IGlzIFRleHQge1xuICAgIHJldHVybiAoc3ViamVjdCBhcyBUZXh0KS50ZXh0ICE9PSB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5KG5vZGVzOiBOb2RlW10pIHtcbiAgICBpZiAobm9kZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY29uc3QgZmlyc3QgPSBub2Rlc1swXTtcbiAgICAgICAgaWYgKGZpcnN0IGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICAgICAgaWYgKGZpcnN0LnRleHQudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGNsYXNzIEVsZW1lbnQgaW1wbGVtZW50cyBOb2RlIHtcbiAgICBuYW1lOiBzdHJpbmcgPSAnJztcbiAgICBhdHRyaWJ1dGVzOiBEaWN0aW9uYXJ5PHN0cmluZz4gPSB7fTtcbiAgICBjaGlsZHJlbjogTm9kZVtdID0gW107XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lPzogc3RyaW5nLCBhdHRyaWJ1dGVzPzogRGljdGlvbmFyeTxzdHJpbmc+LCBjaGlsZHJlbjogTm9kZVtdID0gW10pIHtcbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGV4dCBpbXBsZW1lbnRzIE5vZGUge1xuICAgIHRleHQ6IHN0cmluZyA9ICcnO1xuXG4gICAgY29uc3RydWN0b3IodGV4dDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgfVxufVxuXG5jb25zdCBTdGFnZSA9IHtcbiAgICBPUEVOOiAnT1BFTicsXG4gICAgVEFHOiAnVEFHJyxcbiAgICBDTE9TSU5HX1RBRzogJ0NMT1NJTkdfVEFHJyxcbiAgICBDTE9TSU5HX1RBR19PUEVOOiAnQ0xPU0lOR19UQUdfT1BFTicsXG4gICAgUFJPQ0VTU0lOR19UQUc6ICdQUk9DRVNTSU5HX1RBRycsXG4gICAgUFJPQ0VTU0lOR19UQUdfTkFNRTogJ1BST0NFU1NJTkdfVEFHX05BTUUnLFxuICAgIFBST0NFU1NJTkdfVEFHX09QRU46ICdQUk9DRVNTSU5HX1RBR19PUEVOJyxcbiAgICBQUk9DRVNTSU5HX1RBR19BVFRSSUJVVEVfTkFNRTogJ1BST0NFU1NJTkdfVEFHX0FUVFJJQlVURV9OQU1FJyxcbiAgICBQUk9DRVNTSU5HX1RBR19BVFRSSUJVVEVfRVFVQUxTOiAnUFJPQ0VTU0lOR19UQUdfQVRUUklCVVRFX0VRVUFMUycsXG4gICAgUFJPQ0VTU0lOR19UQUdfQVRUUklCVVRFX1ZBTFVFOiAnUFJPQ0VTU0lOR19UQUdfQVRUUklCVVRFX1ZBTFVFJyxcbiAgICBQUk9DRVNTSU5HX1RBR19DTE9TSU5HOiAnUFJPQ0VTU0lOR19UQUdfQ0xPU0lORycsXG4gICAgRUxFTUVOVF9OQU1FOiAnRUxFTUVOVF9OQU1FJyxcbiAgICBFTEVNRU5UX09QRU46ICdFTEVNRU5UX09QRU4nLFxuICAgIEVMRU1FTlRfQVRUUklCVVRFX05BTUU6ICdFTEVNRU5UX0FUVFJJQlVURV9OQU1FJyxcbiAgICBFTEVNRU5UX0FUVFJJQlVURV9FUVVBTFM6ICdFTEVNRU5UX0FUVFJJQlVURV9FUVVBTFMnLFxuICAgIEVMRU1FTlRfQVRUUklCVVRFX1ZBTFVFOiAnRUxFTUVOVF9BVFRSSUJVVEVfVkFMVUUnLFxuICAgIEVMRU1FTlRfQ09OVEVOVDogJ0VMRU1FTlRfQ09OVEVOVCcsXG4gICAgRUxFTUVOVF9BVVRPX0NMT1NJTkc6ICdFTEVNRU5UX0FVVE9fQ0xPU0lORycsXG4gICAgQ09NTUVOVDogJ0NPTU1FTlQnLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHhtbDogc3RyaW5nKTogRG9jdW1lbnQge1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBTdHJpbmdCdWZmZXIoeG1sKTtcblxuICAgIGxldCBhdHRyaWJ1dGVOYW1lID0gdW5kZWZpbmVkO1xuXG4gICAgbGV0IHByb2Nlc3Npbmc6IERpY3Rpb25hcnk8RGljdGlvbmFyeTxzdHJpbmc+PiA9IHt9O1xuICAgIGxldCBwcm9jZXNzaW5nVGFnTmFtZSA9IHVuZGVmaW5lZDtcbiAgICBsZXQgcHJvY2Vzc2luZ0F0dHJpYnV0ZXM6IERpY3Rpb25hcnk8c3RyaW5nPiA9IHt9O1xuXG5cbiAgICBsZXQgc3RhY2s6IEVsZW1lbnRbXSA9IFtdO1xuICAgIGxldCBjdXJyZW50OiBhbnkgPSB1bmRlZmluZWQ7XG5cblxuICAgIGxldCBzdGFnZSA9IFN0YWdlLk9QRU47XG4gICAgbGV0IHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcblxuICAgIGxldCBlc2NhcGUgPSBmYWxzZTtcblxuICAgIHdoaWxlIChyZWFkZXIuaGFzTmV4dCgpKSB7XG5cbiAgICAgICAgbGV0IGNoYXJhY3RlciA9IHJlYWRlci5uZXh0KCk7XG4gICAgICAgIGxldCBjID0gY2hhcmFjdGVyLmdldFN0cmluZygpO1xuXG4gICAgICAgIGlmIChjLmNoYXJDb2RlQXQoMCkgPT09IDEwKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGFnZSA9PT0gU3RhZ2UuT1BFTikge1xuICAgICAgICAgICAgaWYgKGMgPT09ICc8Jykge1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuVEFHO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YWdlID09PSBTdGFnZS5DT01NRU5UKSB7XG4gICAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5FTEVNRU5UX0NPTlRFTlQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vZG8gbm90aGluZ1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YWdlID09PSBTdGFnZS5UQUcpIHtcbiAgICAgICAgICAgIGlmIChjID09PSAnLycpIHtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLkNMT1NJTkdfVEFHO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPycpIHtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLlBST0NFU1NJTkdfVEFHO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnIScpIHtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLkNPTU1FTlQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FscGhhYmV0aWMoYykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IG5ldyBFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGNoaWxkO1xuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5FTEVNRU5UX05BTUU7XG4gICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3dFcnJvcihjLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLlBST0NFU1NJTkdfVEFHKSB7XG5cbiAgICAgICAgICAgIGlmIChpc0FscGhhYmV0aWMoYykpIHtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLlBST0NFU1NJTkdfVEFHX05BTUU7XG4gICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93RXJyb3IoYywgY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YWdlID09PSBTdGFnZS5QUk9DRVNTSU5HX1RBR19OQU1FKSB7XG4gICAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5QUk9DRVNTSU5HX1RBR19PUEVOO1xuICAgICAgICAgICAgICAgIHByb2Nlc3NpbmdUYWdOYW1lID0gd3JpdGVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHByb2Nlc3NpbmdBdHRyaWJ1dGVzID0ge307XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQWxwaGFudW1lcmljKGMpKSB7XG4gICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3dFcnJvcihjLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLlBST0NFU1NJTkdfVEFHX09QRU4pIHtcbiAgICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBbHBoYWJldGljKGMpKSB7XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5QUk9DRVNTSU5HX1RBR19BVFRSSUJVVEVfTkFNRTtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPycpIHtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLlBST0NFU1NJTkdfVEFHX0NMT1NJTkc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93RXJyb3IoYywgY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YWdlID09PSBTdGFnZS5QUk9DRVNTSU5HX1RBR19BVFRSSUJVVEVfTkFNRSkge1xuICAgICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgICAgIHRocm93RXJyb3IoYywgY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPScpIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lID0gd3JpdGVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuUFJPQ0VTU0lOR19UQUdfQVRUUklCVVRFX0VRVUFMUztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBbHBoYW51bWVyaWMoYykpIHtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YWdlID09PSBTdGFnZS5QUk9DRVNTSU5HX1RBR19BVFRSSUJVVEVfRVFVQUxTKSB7XG4gICAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICdcIicpIHtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLlBST0NFU1NJTkdfVEFHX0FUVFJJQlVURV9WQUxVRTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3dFcnJvcihjLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLlBST0NFU1NJTkdfVEFHX0FUVFJJQlVURV9WQUxVRSkge1xuICAgICAgICAgICAgaWYgKCFlc2NhcGUgJiYgYyA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICAgICAgZXNjYXBlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWVzY2FwZSAmJiBjID09PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc2luZ0F0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZSBhcyBzdHJpbmddID0gd3JpdGVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuUFJPQ0VTU0lOR19UQUdfT1BFTjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjKTtcbiAgICAgICAgICAgICAgICBlc2NhcGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzdGFnZSA9PT0gU3RhZ2UuUFJPQ0VTU0lOR19UQUdfQ0xPU0lORykge1xuICAgICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NpbmdbcHJvY2Vzc2luZ1RhZ05hbWUgYXMgc3RyaW5nXSA9IHByb2Nlc3NpbmdBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuT1BFTjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3dFcnJvcihjLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLkVMRU1FTlRfTkFNRSkge1xuICAgICAgICAgICAgaWYgKGMgPT09ICcvJykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQubmFtZSA9IHdyaXRlci50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLkVMRU1FTlRfQVVUT19DTE9TSU5HO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Lm5hbWUgPSB3cml0ZXIudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5FTEVNRU5UX0NPTlRFTlQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQubmFtZSA9IHdyaXRlci50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLkVMRU1FTlRfT1BFTjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzdGFnZSA9PT0gU3RhZ2UuRUxFTUVOVF9PUEVOKSB7XG4gICAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuRUxFTUVOVF9DT05URU5UO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnLycpIHtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLkVMRU1FTlRfQVVUT19DTE9TSU5HO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FscGhhYmV0aWMoYykpIHtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGMpO1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuRUxFTUVOVF9BVFRSSUJVVEVfTkFNRTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3dFcnJvcihjLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLkVMRU1FTlRfQVRUUklCVVRFX05BTUUpIHtcbiAgICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgICAgICB0aHJvd0Vycm9yKGMsIGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz0nKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9IHdyaXRlci50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLkVMRU1FTlRfQVRUUklCVVRFX0VRVUFMUztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBbHBoYW51bWVyaWMoYykpIHtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YWdlID09PSBTdGFnZS5FTEVNRU5UX0FUVFJJQlVURV9FUVVBTFMpIHtcbiAgICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJ1wiJykge1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuRUxFTUVOVF9BVFRSSUJVVEVfVkFMVUU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93RXJyb3IoYywgY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YWdlID09PSBTdGFnZS5FTEVNRU5UX0FUVFJJQlVURV9WQUxVRSkge1xuICAgICAgICAgICAgaWYgKCFlc2NhcGUgJiYgYyA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICAgICAgZXNjYXBlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWVzY2FwZSAmJiBjID09PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWUgYXMgc3RyaW5nXSA9IGRlc2NhcGVTdHJpbmcod3JpdGVyLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLkVMRU1FTlRfT1BFTjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZXNjYXBlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzdGFnZSA9PT0gU3RhZ2UuRUxFTUVOVF9DT05URU5UKSB7XG4gICAgICAgICAgICBpZiAoYyA9PT0gJzwnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHdyaXRlci50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudC5jaGlsZHJlbi5sZW5ndGggPiAwICYmIGlzVGV4dChjdXJyZW50LmNoaWxkcmVuW2N1cnJlbnQuY2hpbGRyZW4ubGVuZ3RoIC0gMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMgb25seSBoYXBwZW5zIGlmIHdlIGhhdmUgYSBjb21tZW50LiAgV2UgbmVlZCB0byBtZXJnZSB0aGUgY3VycmVudCBjb250ZXh0IGludG8gdGhlIHByZXZpb3VzIHRleHQuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gY3VycmVudC5jaGlsZHJlbltjdXJyZW50LmNoaWxkcmVuLmxlbmd0aCAtIDFdIGFzIFRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LnRleHQgPSB0ZXh0LnRleHQgKyBkZXNjYXBlU3RyaW5nKHdyaXRlci50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuY2hpbGRyZW4ucHVzaChuZXcgVGV4dChkZXNjYXBlU3RyaW5nKHdyaXRlci50b1N0cmluZygpKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuVEFHO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YWdlID09PSBTdGFnZS5DTE9TSU5HX1RBRykge1xuICAgICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsb3NlVGFnID0gd3JpdGVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIGlmIChjbG9zZVRhZyAhPT0gY3VycmVudC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2xvc2UgdGFnICgke2Nsb3NlVGFnfSkgZG9lc24ndCBtYXRjaCBzdGFydCB0YWcgJHtjdXJyZW50Lm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLkVMRU1FTlRfQ09OVEVOVDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5DTE9TSU5HX1RBR19PUEVOO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YWdlID09PSBTdGFnZS5DTE9TSU5HX1RBR19PUEVOKSB7XG4gICAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xvc2VUYWcgPSB3cml0ZXIudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNsb3NlVGFnICE9PSBjdXJyZW50Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjbG9zZSB0YWcgKCR7Y2xvc2VUYWd9KSBkb2Vzbid0IG1hdGNoIHN0YXJ0IHRhZyAke2N1cnJlbnQubmFtZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuRUxFTUVOVF9DT05URU5UO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1doaXRlc3BhY2UoYykpIHtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvd0Vycm9yKGMsIGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzdGFnZSA9PT0gU3RhZ2UuRUxFTUVOVF9BVVRPX0NMT1NJTkcpIHtcbiAgICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5FTEVNRU5UX0NPTlRFTlQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93RXJyb3IoYywgY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjdXJyZW50ID0gbmV3IFRleHQod3JpdGVyLnRvU3RyaW5nKCkpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRG9jdW1lbnQocHJvY2Vzc2luZywgY3VycmVudCk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHRocm93RXJyb3IoYzogc3RyaW5nLCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENoYXJhY3RlciAoJHtjfSkgbm90IGFsbG93ZWQgYXQgcG9zaXRpb24gJHtyb3d9OiR7Y29sdW1ufS5gKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplRG9jdW1lbnQoZG9jdW1lbnQ6IERvY3VtZW50KSB7XG4gICAgY29uc3QgcHJvY2Vzc2luZyA9IE9iamVjdC5lbnRyaWVzKGRvY3VtZW50LnByb2Nlc3NpbmcpXG4gICAgICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuXG4gICAgICAgICAgICB3cml0ZXIuYXBwZW5kKFwiPD9cIik7XG4gICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGtleSk7XG4gICAgICAgICAgICB3cml0ZXIuYXBwZW5kKFwiIFwiKTtcbiAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoT2JqZWN0LmVudHJpZXModmFsdWUpXG4gICAgICAgICAgICAgICAgLm1hcCgoW2tleTIsIHZhbHVlMl0pID0+IGAke2tleTJ9PVwiJHtlc2NhcGVTdHJpbmcodmFsdWUyKX1cImApLmpvaW4oJyAnKSk7XG4gICAgICAgICAgICB3cml0ZXIuYXBwZW5kKFwiIFwiKTtcbiAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoXCI/PlwiKTtcbiAgICAgICAgICAgIHJldHVybiB3cml0ZXIudG9TdHJpbmcoKTtcbiAgICAgICAgfSkuam9pbignICcpO1xuXG4gICAgcmV0dXJuIGAke3Byb2Nlc3Npbmd9JHtzZXJpYWxpemVOb2RlKGRvY3VtZW50LnJvb3QpfWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVOb2RlKG5vZGU6IE5vZGUpOiBzdHJpbmcge1xuICAgIGlmIChub2RlIGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICByZXR1cm4gZXNjYXBlU3RyaW5nKG5vZGUudGV4dCk7XG4gICAgfSBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gT2JqZWN0LmVudHJpZXMobm9kZS5hdHRyaWJ1dGVzKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGAke2tleX09XCIke2VzY2FwZVN0cmluZyh2YWx1ZSl9XCJgO1xuICAgICAgICB9KS5qb2luKCcgJyk7XG5cbiAgICAgICAgY29uc3QgYm9keSA9IHNlcmlhbGl6ZU5vZGVzKG5vZGUuY2hpbGRyZW4pO1xuICAgICAgICBpZiAoYm9keSA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybiBgPCR7bm9kZS5uYW1lfSAke2F0dHJpYnV0ZXN9Lz5gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgPCR7bm9kZS5uYW1lfSAke2F0dHJpYnV0ZXN9PiR7Ym9keX08LyR7bm9kZS5uYW1lfT5gO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNob3VsZCBuZXZlciBoYXBwZW5cIik7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplTm9kZXMobm9kZXM6IE5vZGVbXSkge1xuICAgIHJldHVybiBub2Rlcy5tYXAobm9kZSA9PiBzZXJpYWxpemVOb2RlKG5vZGUpKS5qb2luKCcnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZVN0cmluZyhpbnB1dDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5yZXBsYWNlKC8mL2csICcmYW1wOycpXG4gICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcbiAgICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG4gICAgICAgIC5yZXBsYWNlKC8nL2csICcmYXBvczsnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlc2NhcGVTdHJpbmcoaW5wdXQ6IHN0cmluZykge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAucmVwbGFjZSgvJmFtcDsvZywgJyYnKVxuICAgICAgICAucmVwbGFjZSgvJnF1b3Q7L2csICdcIicpXG4gICAgICAgIC5yZXBsYWNlKC8mbHQ7L2csICc8JylcbiAgICAgICAgLnJlcGxhY2UoLyZndDsvZywgJz4nKVxuICAgICAgICAucmVwbGFjZSgvJmFwb3M7L2csICdcXCcnKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZGVlcENvcHlOb2RlKG5vZGU6IE5vZGUpIHtcblxuICAgIGZ1bmN0aW9uIGNvcHkobm9kZTogTm9kZSk6IE5vZGUge1xuICAgICAgICBpZiAoaXNFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4ubWFwKGNvcHkpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFbGVtZW50KG5vZGUubmFtZSwgT2JqZWN0LmFzc2lnbih7fSwgbm9kZS5hdHRyaWJ1dGVzKSwgY2hpbGRyZW4pO1xuICAgICAgICB9IGVsc2UgaWYgKGlzVGV4dChub2RlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXh0KG5vZGUudGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOZXZlciBoYXBwZW5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY29weShub2RlKTtcbn1cblxuXG4vLyBleHBvcnQgPSB7XG4vLyAgICAgZGVlcENvcHlOb2RlLFxuLy8gICAgIGVzY2FwZVN0cmluZyxcbi8vICAgICBzZXJpYWxpemVOb2Rlcyxcbi8vICAgICBzZXJpYWxpemVEb2N1bWVudCxcbi8vICAgICBwYXJzZSxcbi8vICAgICBUZXh0LFxuLy8gICAgIEVsZW1lbnQ6IEVsZW1lbnQsXG4vLyAgICAgRG9jdW1lbnQsXG4vLyAgICAgaXNBbHBoYWJldGljLFxuLy8gICAgIGlzQWxwaGFudW1lcmljLFxuLy8gICAgIGlzV2hpdGVzcGFjZSxcbi8vICAgICBpc0VtcHR5LFxuLy8gICAgIFN0cmluZ0J1ZmZlclxuLy8gfTtcbi8vXG4vLyBjb25zb2xlLmxvZyhtb2R1bGUpIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvcGVydGllcyB7XG5cbiAgICBwcml2YXRlIGRhdGE6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IHN0cmluZykge1xuICAgICAgICBkYXRhLnNwbGl0KFwiXFxuXCIpLmZvckVhY2gobGluZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGxpbmUuaW5kZXhPZihcIj1cIik7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGxpbmUuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFba2V5XSA9IGxpbmUuc3Vic3RyaW5nKGluZGV4ICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldChrZXk6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhW2tleV07XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc3NhZ2Uge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgaWQ6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSBkYXRlVGltZTogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIHdpcElkOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUga2FzZUlkOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgd2l6YXJkSWQ6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSB3b3JrZmxvd0lkOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgZ3JvdXA6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSBxdWV1ZTogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIHByaW5jaXBhbDogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIHNlc3Npb25JZDogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIHRpbWVTdGFtcDogbnVtYmVyXG4gICAgKSB7XG4gICAgfVxuXG4gICAgcHVibGljIGdldElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RGF0ZVRpbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGVUaW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRXaXBJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2lwSWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEthc2VJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2FzZUlkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRXaXphcmRJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l6YXJkSWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFdvcmtmbG93SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndvcmtmbG93SWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEdyb3VwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncm91cDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UXVldWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnF1ZXVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRQcmluY2lwYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByaW5jaXBhbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2Vzc2lvbklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uSWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRpbWVTdGFtcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGltZVN0YW1wO1xuICAgIH1cblxufVxuXG5cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2Uge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgbmFtZTogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIHZlcnNpb246IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSBncm91cDogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIHRpdGxlOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgZGVzY3JpcHRpb246IHN0cmluZyxcbiAgICApIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VmVyc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVyc2lvbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0R3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRUaXRsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGl0bGU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldERlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZXNjcmlwdGlvbjtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBRdWV1ZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBuYW1lOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgdGl0bGU6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSBkZXNjcmlwdGlvbjogc3RyaW5nLFxuICAgICkge1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRUaXRsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGl0bGU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldERlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZXNjcmlwdGlvbjtcbiAgICB9XG59XG4iLCJpbXBvcnQgVXNlciBmcm9tICcuL1VzZXInO1xuaW1wb3J0IEdyb3VwIGZyb20gJy4vR3JvdXAnO1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi9NZXNzYWdlJztcbmltcG9ydCBXaXphcmQgZnJvbSAnLi9XaXphcmQnO1xuaW1wb3J0IFdvcmtmbG93IGZyb20gJy4vV29ya2Zsb3cnO1xuaW1wb3J0IFBhZ2UgZnJvbSAnLi9QYWdlJztcbmltcG9ydCBRdWV1ZSBmcm9tICcuL1F1ZXVlJztcblxuXG5jbGFzcyBTdG9yZSB7XG5cbiAgICBwcml2YXRlIHRlc3RDb250ZXh0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSB1c2VyczogVXNlcltdID0gW10sXG4gICAgICAgIHByaXZhdGUgZ3JvdXBzOiBHcm91cFtdID0gW10sXG4gICAgICAgIHByaXZhdGUgbWVzc2FnZXM6IE1lc3NhZ2VbXSA9IFtdLFxuICAgICAgICBwcml2YXRlIHdpemFyZHM6IFdpemFyZFtdID0gW10sXG4gICAgICAgIHByaXZhdGUgd29ya2Zsb3dzOiBXb3JrZmxvd1tdID0gW10sXG4gICAgICAgIHByaXZhdGUgcGFnZXM6IFBhZ2VbXSA9IFtdLFxuICAgICAgICBwcml2YXRlIHF1ZXVlczogUXVldWVbXSA9IFtdLFxuICAgICkge1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRVc2VycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlcnM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEdyb3VwcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JvdXBzO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRNZXNzYWdlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZXM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFdpemFyZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpemFyZHM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFdvcmtmbG93cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud29ya2Zsb3dzO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRQYWdlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFnZXM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFF1ZXVlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVldWVzO1xuICAgIH1cblxuICAgIHNldFRlc3RDb250ZXh0KCkge1xuICAgICAgICB0aGlzLnRlc3RDb250ZXh0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpc1Rlc3RDb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXN0Q29udGV4dDtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy51c2VycyA9IFtdO1xuICAgICAgICB0aGlzLmdyb3VwcyA9IFtdO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzID0gW107XG4gICAgICAgIHRoaXMud2l6YXJkcyA9IFtdO1xuICAgICAgICB0aGlzLndvcmtmbG93cyA9IFtdO1xuICAgICAgICB0aGlzLnBhZ2VzID0gW107XG4gICAgICAgIHRoaXMudGVzdENvbnRleHQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBhZGRVc2VyKHVzZXI6IFVzZXIpIHtcbiAgICAgICAgdGhpcy51c2Vycy5wdXNoKHVzZXIpO1xuICAgIH1cblxuICAgIGFkZE1lc3NhZ2UobWVzc2FnZTogTWVzc2FnZSkge1xuICAgICAgICB0aGlzLm1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgYWRkV2l6YXJkKHdpemFyZDogV2l6YXJkKSB7XG4gICAgICAgIHRoaXMud2l6YXJkcy5wdXNoKHdpemFyZCk7XG4gICAgfVxuXG4gICAgYWRkV29ya2Zsb3cod29ya2Zsb3c6IFdvcmtmbG93KSB7XG4gICAgICAgIHRoaXMud29ya2Zsb3dzLnB1c2god29ya2Zsb3cpO1xuICAgIH1cblxuICAgIGFkZFBhZ2UocGFnZTogUGFnZSkge1xuICAgICAgICB0aGlzLnBhZ2VzLnB1c2gocGFnZSk7XG4gICAgfVxuXG4gICAgYWRkUXVldWUocXVldWU6IFF1ZXVlKSB7XG4gICAgICAgIHRoaXMucXVldWVzLnB1c2gocXVldWUpO1xuICAgIH1cbn1cblxuY29uc3QgSU5TVEFOQ0UgPSBuZXcgU3RvcmUoKTtcblxuZXhwb3J0IGRlZmF1bHQgSU5TVEFOQ0U7XG5cbi8qXG4gcHJpdmF0ZSBmaW5hbCBIYXNoTWFwPERvY3VtZW50R3JvdXBJZCwgUGFnZVZpZXc+IHBhZ2VzID0gbmV3IEhhc2hNYXA8PigpO1xuICAgIHByaXZhdGUgZmluYWwgSGFzaE1hcDxEb2N1bWVudElkLCBXaXphcmQ+IHdpemFyZHMgPSBuZXcgSGFzaE1hcDw+KCk7XG4gICAgcHJpdmF0ZSBmaW5hbCBIYXNoTWFwPERvY3VtZW50R3JvdXBJZCwgV29ya2Zsb3c+IHdvcmtmbG93cyA9IG5ldyBIYXNoTWFwPD4oKTtcbiAgICBwcml2YXRlIGZpbmFsIEhhc2hNYXA8TWVzc2FnZUlkLCBNZXNzYWdlPiBtZXNzYWdlcyA9IG5ldyBIYXNoTWFwPD4oKTtcbiAgICBwcml2YXRlIGZpbmFsIEhhc2hNYXA8U3RyaW5nLCBLYXNlPiBrYXNlcyA9IG5ldyBIYXNoTWFwPD4oKTtcbiAgICBwcml2YXRlIGZpbmFsIEhhc2hNYXA8VVVJRCwgV2l6YXJkSW5Qcm9ncmVzcz4gd2lwcyA9IG5ldyBIYXNoTWFwPD4oKTtcbiAqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXIge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgdXNlcm5hbWU6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSB0aXRsZTogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIGZpcnN0TmFtZTogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIGxhc3ROYW1lOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgZW1haWw6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSBjb250YWN0TnVtYmVyOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgZGF0ZU9mQmlydGg6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSB0aW1lem9uZTogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIGdyb3Vwczogc3RyaW5nW10sXG4gICAgICAgIHByaXZhdGUgdXNlckRhdGE6IGFueVxuICAgICkge1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRVc2VybmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlcm5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRpdGxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aXRsZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Rmlyc3ROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maXJzdE5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldExhc3ROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXN0TmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RW1haWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVtYWlsO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDb250YWN0TnVtYmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWN0TnVtYmVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXREYXRlT2ZCaXJ0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZU9mQmlydGg7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRpbWV6b25lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aW1lem9uZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0R3JvdXBzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncm91cHM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFVzZXJEYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51c2VybmFtZTtcbiAgICB9XG59XG5cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFdpemFyZCB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBuYW1lOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgdmVyc2lvbjogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIHRpdGxlOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgZGVzY3JpcHRpb246IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSBhY3RpdmU6IGJvb2xlYW4sXG4gICAgICAgIHByaXZhdGUgcmVsZWFzZWQ6IGJvb2xlYW4sXG4gICAgKSB7XG4gICAgfVxuXG4gICAgcHVibGljIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZlcnNpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlcnNpb247XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRpdGxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aXRsZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlc2NyaXB0aW9uO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRBY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UmVsZWFzZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbGVhc2VkO1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmtmbG93IHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIG5hbWU6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSB2ZXJzaW9uOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgZ3JvdXA6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSB0aXRsZTogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gICAgKSB7XG4gICAgfVxuXG4gICAgcHVibGljIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZlcnNpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlcnNpb247XG4gICAgfVxuXG4gICAgcHVibGljIGdldEdyb3VwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncm91cDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VGl0bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpdGxlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXREZXNjcmlwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRpb247XG4gICAgfVxufVxuIiwiaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi9wcm9wZXJ0aWVzJztcbmltcG9ydCB7IFN0cmluZ0J1ZmZlciB9IGZyb20gJy4vdXRpbGl0aWVzL1N0cmluZ0J1ZmZlcic7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4vQ2xhc3NNYW5hZ2VyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRleHRTdHlsZVN1cHBvcnQoZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiwgY2xhc3NNYW5hZ2VyOiBDbGFzc01hbmFnZXIsIGF0dHJpYnV0ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMpIHtcblxuICAgIGNvbnN0IHN0eWxlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuXG4gICAgaWYgKGF0dHJpYnV0ZXMudGV4dEFsaWduKSB7XG4gICAgICAgIHN0eWxlc1sndGV4dC1hbGlnbiddID0gYXR0cmlidXRlcy50ZXh0QWlnbi50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGlmIChhdHRyaWJ1dGVzLmZvbnRTaXplKSB7XG4gICAgICAgIHN0eWxlc1snZm9udC1zaXplJ10gPSBhdHRyaWJ1dGVzLmZvbnRTaXplO1xuICAgIH1cblxuICAgIGlmIChhdHRyaWJ1dGVzLnRleHREZWNvcmF0aW9uKSB7XG4gICAgICAgIHN0eWxlc1sndGV4dC1kZWNvcmF0aW9uJ10gPSBhdHRyaWJ1dGVzLnRleHREZWNvcmF0aW9uLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKGF0dHJpYnV0ZXMuZm9udFN0eWxlKSB7XG4gICAgICAgIHN0eWxlc1snZm9udC1zdHlsZSddID0gYXR0cmlidXRlcy5mb250U3R5bGUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoYXR0cmlidXRlcy5mb250V2VpZ2h0KSB7XG4gICAgICAgIHN0eWxlc1snZm9udC13ZWlnaHQnXSA9IGF0dHJpYnV0ZXMuZm9udFdlaWdodC50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGlmIChhdHRyaWJ1dGVzLmZvbnQpIHtcbiAgICAgICAgc3R5bGVzWydmb250J10gPSBjbGFzc01hcHBpbmdzLmdldCgnZm9udC0nICsgYXR0cmlidXRlcy5mb250LnRvTG93ZXJDYXNlKCkucmVwbGFjZUFsbChcIl9cIiwgXCItXCIpKTtcbiAgICB9XG5cbiAgICBpZiAoYXR0cmlidXRlcy5mb250Rmxhdm91cikge1xuICAgICAgICBjbGFzc01hbmFnZXIuYXBwZW5kKGF0dHJpYnV0ZXMuZm9udEZsYXZvdXIsICd0ZXh0LScsICcnKTtcbiAgICB9XG5cblxuICAgIGlmIChhdHRyaWJ1dGVzLmJhY2tncm91bmRGbGF2b3VyKSB7XG4gICAgICAgIGNsYXNzTWFuYWdlci5hcHBlbmQoYXR0cmlidXRlcy5iYWNrZ3JvdW5kRmxhdm91ciwgJ2JnLScsICcnKTtcbiAgICB9XG5cbiAgICBjb25zdCBidWZmZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc3R5bGVzKSkge1xuICAgICAgICBidWZmZXIuYXBwZW5kKGAke2tleX06ICR7dmFsdWV9O2ApO1xuICAgIH1cblxuICAgIGRhdGEudGV4dHVhbFN0eWxlcyA9IGJ1ZmZlci50b1N0cmluZygpO1xufSIsImV4cG9ydCBjbGFzcyBTdHJpbmdCdWZmZXIge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgYnVmZmVyOiBzdHJpbmdbXTtcbiAgICBwcml2YXRlIGluZGV4OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBjb2x1bW46IG51bWJlcjtcbiAgICBwcml2YXRlIHJvdzogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoaW5wdXQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCwgcm93OiBudW1iZXIgPSAwLCBjb2x1bW4gPSAwKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gaW5wdXQgPyBpbnB1dC5zcGxpdCgnJykgOiBbXTtcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICAgICAgICB0aGlzLnJvdyA9IHJvdztcbiAgICB9XG5cbiAgICBhcHBlbmQoYzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyLnB1c2goYyk7XG4gICAgfVxuXG4gICAgZW5kc1dpdGgoYzogc3RyaW5nKSB7XG4gICAgICAgIGlmIChjLmxlbmd0aCA+IHRoaXMuYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyLnNsaWNlKHRoaXMuYnVmZmVyLmxlbmd0aCAtIGMubGVuZ3RoKS5qb2luKFwiXCIpID09PSBjO1xuICAgIH1cblxuICAgIG5leHQoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYnVmZmVyW3RoaXMuaW5kZXhdO1xuICAgICAgICBjb25zdCBjb2x1bW4gPSB0aGlzLmNvbHVtbjtcbiAgICAgICAgY29uc3Qgcm93ID0gdGhpcy5yb3c7XG5cbiAgICAgICAgdGhpcy5pbmRleCsrO1xuXG4gICAgICAgIGlmIChyZXN1bHQgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICB0aGlzLnJvdysrO1xuICAgICAgICAgICAgdGhpcy5jb2x1bW4gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb2x1bW4rKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQ2hhcmFjdGVyKHJlc3VsdCwgY29sdW1uLCByb3cpO1xuICAgIH1cblxuICAgIGhhc05leHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4IDwgdGhpcy5idWZmZXIubGVuZ3RoO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIuam9pbignJyk7XG4gICAgfVxuXG4gICAgZ2V0Q29sdW1uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2x1bW47XG4gICAgfVxuXG4gICAgZ2V0Um93KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3c7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGM6IHN0cmluZywgcHJpdmF0ZSBjb2x1bW46IG51bWJlciwgcHJpdmF0ZSByb3c6IG51bWJlcikge1xuICAgIH1cblxuICAgIGdldFN0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYztcbiAgICB9XG5cbiAgICBnZXRDb2x1bW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbHVtbjtcbiAgICB9XG5cbiAgICBnZXRSb3coKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdztcbiAgICB9XG5cbn0iLCJjb25zdCBDSEFSQUNURVJTID0gXCJhYmNkZWZnaGlrbG1ub3BxcnN0dXZ3eHd6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVowMTIzNDU2Nzg5XCIuc3BsaXQoXCJcIik7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdlbmVyYXRlSWQoKSB7XG5cbiAgICBjb25zdCByZXN1bHQ6IHN0cmluZ1tdID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgcmVzdWx0LnB1c2goQ0hBUkFDVEVSU1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApICUgQ0hBUkFDVEVSUy5sZW5ndGhdKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xufSIsImV4cG9ydCBmdW5jdGlvbiBpc0FscGhhYmV0aWMoYzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIC9eW2EtekEtWl0rJC9pLnRlc3QoYyk7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGlzQWxwaGFudW1lcmljKGM6IHN0cmluZykge1xuICAgIHJldHVybiAvXlthLXpBLVowLTldKyQvaS50ZXN0KGMpO1xufSIsImV4cG9ydCBmdW5jdGlvbiBpc0RhdGUob2JqOiBhbnkpIHtcbiAgICBpZiAob2JqID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gb2JqLmNvbnN0cnVjdG9yID09PSBEYXRlO1xufSIsImV4cG9ydCBmdW5jdGlvbiBpc0hhc2gob2JqOiBhbnkpIHtcbiAgICBpZiAob2JqID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiO1xufSIsImV4cG9ydCBmdW5jdGlvbiBpc051bWVyaWMoYzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIC9eWzAtOV0rJC9pLnRlc3QoYyk7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGlzV2hpdGVzcGFjZShjOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gL1xccy8udGVzdChjKTtcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjaGlsZF9wcm9jZXNzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV2ZW50c1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJub2RlOnBhdGhcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTsiLCIvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxuY29uc3QgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xuY29uc3QgY2hpbGRQcm9jZXNzID0gcmVxdWlyZSgnY2hpbGRfcHJvY2VzcycpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcblxuLy8gQHRzLWNoZWNrXG5cbi8vIEFsdGhvdWdoIHRoaXMgaXMgYSBjbGFzcywgbWV0aG9kcyBhcmUgc3RhdGljIGluIHN0eWxlIHRvIGFsbG93IG92ZXJyaWRlIHVzaW5nIHN1YmNsYXNzIG9yIGp1c3QgZnVuY3Rpb25zLlxuY2xhc3MgSGVscCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaGVscFdpZHRoID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuc29ydFN1YmNvbW1hbmRzID0gZmFsc2U7XG4gICAgdGhpcy5zb3J0T3B0aW9ucyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbiBhcnJheSBvZiB0aGUgdmlzaWJsZSBzdWJjb21tYW5kcy4gSW5jbHVkZXMgYSBwbGFjZWhvbGRlciBmb3IgdGhlIGltcGxpY2l0IGhlbHAgY29tbWFuZCwgaWYgdGhlcmUgaXMgb25lLlxuICAgKlxuICAgKiBAcGFyYW0ge0NvbW1hbmR9IGNtZFxuICAgKiBAcmV0dXJucyB7Q29tbWFuZFtdfVxuICAgKi9cblxuICB2aXNpYmxlQ29tbWFuZHMoY21kKSB7XG4gICAgY29uc3QgdmlzaWJsZUNvbW1hbmRzID0gY21kLmNvbW1hbmRzLmZpbHRlcihjbWQgPT4gIWNtZC5faGlkZGVuKTtcbiAgICBpZiAoY21kLl9oYXNJbXBsaWNpdEhlbHBDb21tYW5kKCkpIHtcbiAgICAgIC8vIENyZWF0ZSBhIGNvbW1hbmQgbWF0Y2hpbmcgdGhlIGltcGxpY2l0IGhlbHAgY29tbWFuZC5cbiAgICAgIGNvbnN0IGFyZ3MgPSBjbWQuX2hlbHBDb21tYW5kbmFtZUFuZEFyZ3Muc3BsaXQoLyArLyk7XG4gICAgICBjb25zdCBoZWxwQ29tbWFuZCA9IGNtZC5jcmVhdGVDb21tYW5kKGFyZ3Muc2hpZnQoKSlcbiAgICAgICAgLmhlbHBPcHRpb24oZmFsc2UpO1xuICAgICAgaGVscENvbW1hbmQuZGVzY3JpcHRpb24oY21kLl9oZWxwQ29tbWFuZERlc2NyaXB0aW9uKTtcbiAgICAgIGhlbHBDb21tYW5kLl9wYXJzZUV4cGVjdGVkQXJncyhhcmdzKTtcbiAgICAgIHZpc2libGVDb21tYW5kcy5wdXNoKGhlbHBDb21tYW5kKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc29ydFN1YmNvbW1hbmRzKSB7XG4gICAgICB2aXNpYmxlQ29tbWFuZHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICByZXR1cm4gYS5uYW1lKCkubG9jYWxlQ29tcGFyZShiLm5hbWUoKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHZpc2libGVDb21tYW5kcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYW4gYXJyYXkgb2YgdGhlIHZpc2libGUgb3B0aW9ucy4gSW5jbHVkZXMgYSBwbGFjZWhvbGRlciBmb3IgdGhlIGltcGxpY2l0IGhlbHAgb3B0aW9uLCBpZiB0aGVyZSBpcyBvbmUuXG4gICAqXG4gICAqIEBwYXJhbSB7Q29tbWFuZH0gY21kXG4gICAqIEByZXR1cm5zIHtPcHRpb25bXX1cbiAgICovXG5cbiAgdmlzaWJsZU9wdGlvbnMoY21kKSB7XG4gICAgY29uc3QgdmlzaWJsZU9wdGlvbnMgPSBjbWQub3B0aW9ucy5maWx0ZXIoKG9wdGlvbikgPT4gIW9wdGlvbi5oaWRkZW4pO1xuICAgIC8vIEltcGxpY2l0IGhlbHBcbiAgICBjb25zdCBzaG93U2hvcnRIZWxwRmxhZyA9IGNtZC5faGFzSGVscE9wdGlvbiAmJiBjbWQuX2hlbHBTaG9ydEZsYWcgJiYgIWNtZC5fZmluZE9wdGlvbihjbWQuX2hlbHBTaG9ydEZsYWcpO1xuICAgIGNvbnN0IHNob3dMb25nSGVscEZsYWcgPSBjbWQuX2hhc0hlbHBPcHRpb24gJiYgIWNtZC5fZmluZE9wdGlvbihjbWQuX2hlbHBMb25nRmxhZyk7XG4gICAgaWYgKHNob3dTaG9ydEhlbHBGbGFnIHx8IHNob3dMb25nSGVscEZsYWcpIHtcbiAgICAgIGxldCBoZWxwT3B0aW9uO1xuICAgICAgaWYgKCFzaG93U2hvcnRIZWxwRmxhZykge1xuICAgICAgICBoZWxwT3B0aW9uID0gY21kLmNyZWF0ZU9wdGlvbihjbWQuX2hlbHBMb25nRmxhZywgY21kLl9oZWxwRGVzY3JpcHRpb24pO1xuICAgICAgfSBlbHNlIGlmICghc2hvd0xvbmdIZWxwRmxhZykge1xuICAgICAgICBoZWxwT3B0aW9uID0gY21kLmNyZWF0ZU9wdGlvbihjbWQuX2hlbHBTaG9ydEZsYWcsIGNtZC5faGVscERlc2NyaXB0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhlbHBPcHRpb24gPSBjbWQuY3JlYXRlT3B0aW9uKGNtZC5faGVscEZsYWdzLCBjbWQuX2hlbHBEZXNjcmlwdGlvbik7XG4gICAgICB9XG4gICAgICB2aXNpYmxlT3B0aW9ucy5wdXNoKGhlbHBPcHRpb24pO1xuICAgIH1cbiAgICBpZiAodGhpcy5zb3J0T3B0aW9ucykge1xuICAgICAgY29uc3QgZ2V0U29ydEtleSA9IChvcHRpb24pID0+IHtcbiAgICAgICAgLy8gV1lTSVdZRyBmb3Igb3JkZXIgZGlzcGxheWVkIGluIGhlbHAgd2l0aCBzaG9ydCBiZWZvcmUgbG9uZywgbm8gc3BlY2lhbCBoYW5kbGluZyBmb3IgbmVnYXRlZC5cbiAgICAgICAgcmV0dXJuIG9wdGlvbi5zaG9ydCA/IG9wdGlvbi5zaG9ydC5yZXBsYWNlKC9eLS8sICcnKSA6IG9wdGlvbi5sb25nLnJlcGxhY2UoL14tLS8sICcnKTtcbiAgICAgIH07XG4gICAgICB2aXNpYmxlT3B0aW9ucy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIHJldHVybiBnZXRTb3J0S2V5KGEpLmxvY2FsZUNvbXBhcmUoZ2V0U29ydEtleShiKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHZpc2libGVPcHRpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbiBhcnJheSBvZiB0aGUgYXJndW1lbnRzIHdoaWNoIGhhdmUgZGVzY3JpcHRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge0NvbW1hbmR9IGNtZFxuICAgKiBAcmV0dXJucyB7eyB0ZXJtOiBzdHJpbmcsIGRlc2NyaXB0aW9uOnN0cmluZyB9W119XG4gICAqL1xuXG4gIHZpc2libGVBcmd1bWVudHMoY21kKSB7XG4gICAgaWYgKGNtZC5fYXJnc0Rlc2NyaXB0aW9uICYmIGNtZC5fYXJncy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBjbWQuX2FyZ3MubWFwKChhcmd1bWVudCkgPT4ge1xuICAgICAgICByZXR1cm4geyB0ZXJtOiBhcmd1bWVudC5uYW1lLCBkZXNjcmlwdGlvbjogY21kLl9hcmdzRGVzY3JpcHRpb25bYXJndW1lbnQubmFtZV0gfHwgJycgfTtcbiAgICAgIH0sIDApO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjb21tYW5kIHRlcm0gdG8gc2hvdyBpbiB0aGUgbGlzdCBvZiBzdWJjb21tYW5kcy5cbiAgICpcbiAgICogQHBhcmFtIHtDb21tYW5kfSBjbWRcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG5cbiAgc3ViY29tbWFuZFRlcm0oY21kKSB7XG4gICAgLy8gTGVnYWN5LiBJZ25vcmVzIGN1c3RvbSB1c2FnZSBzdHJpbmcsIGFuZCBuZXN0ZWQgY29tbWFuZHMuXG4gICAgY29uc3QgYXJncyA9IGNtZC5fYXJncy5tYXAoYXJnID0+IGh1bWFuUmVhZGFibGVBcmdOYW1lKGFyZykpLmpvaW4oJyAnKTtcbiAgICByZXR1cm4gY21kLl9uYW1lICtcbiAgICAgIChjbWQuX2FsaWFzZXNbMF0gPyAnfCcgKyBjbWQuX2FsaWFzZXNbMF0gOiAnJykgK1xuICAgICAgKGNtZC5vcHRpb25zLmxlbmd0aCA/ICcgW29wdGlvbnNdJyA6ICcnKSArIC8vIHNpbXBsaXN0aWMgY2hlY2sgZm9yIG5vbi1oZWxwIG9wdGlvblxuICAgICAgKGFyZ3MgPyAnICcgKyBhcmdzIDogJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgb3B0aW9uIHRlcm0gdG8gc2hvdyBpbiB0aGUgbGlzdCBvZiBvcHRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge09wdGlvbn0gb3B0aW9uXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuXG4gIG9wdGlvblRlcm0ob3B0aW9uKSB7XG4gICAgcmV0dXJuIG9wdGlvbi5mbGFncztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxvbmdlc3QgY29tbWFuZCB0ZXJtIGxlbmd0aC5cbiAgICpcbiAgICogQHBhcmFtIHtDb21tYW5kfSBjbWRcbiAgICogQHBhcmFtIHtIZWxwfSBoZWxwZXJcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG5cbiAgbG9uZ2VzdFN1YmNvbW1hbmRUZXJtTGVuZ3RoKGNtZCwgaGVscGVyKSB7XG4gICAgcmV0dXJuIGhlbHBlci52aXNpYmxlQ29tbWFuZHMoY21kKS5yZWR1Y2UoKG1heCwgY29tbWFuZCkgPT4ge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KG1heCwgaGVscGVyLnN1YmNvbW1hbmRUZXJtKGNvbW1hbmQpLmxlbmd0aCk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbG9uZ2VzdCBvcHRpb24gdGVybSBsZW5ndGguXG4gICAqXG4gICAqIEBwYXJhbSB7Q29tbWFuZH0gY21kXG4gICAqIEBwYXJhbSB7SGVscH0gaGVscGVyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuXG4gIGxvbmdlc3RPcHRpb25UZXJtTGVuZ3RoKGNtZCwgaGVscGVyKSB7XG4gICAgcmV0dXJuIGhlbHBlci52aXNpYmxlT3B0aW9ucyhjbWQpLnJlZHVjZSgobWF4LCBvcHRpb24pID0+IHtcbiAgICAgIHJldHVybiBNYXRoLm1heChtYXgsIGhlbHBlci5vcHRpb25UZXJtKG9wdGlvbikubGVuZ3RoKTtcbiAgICB9LCAwKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBsb25nZXN0IGFyZ3VtZW50IHRlcm0gbGVuZ3RoLlxuICAgKlxuICAgKiBAcGFyYW0ge0NvbW1hbmR9IGNtZFxuICAgKiBAcGFyYW0ge0hlbHB9IGhlbHBlclxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cblxuICBsb25nZXN0QXJndW1lbnRUZXJtTGVuZ3RoKGNtZCwgaGVscGVyKSB7XG4gICAgcmV0dXJuIGhlbHBlci52aXNpYmxlQXJndW1lbnRzKGNtZCkucmVkdWNlKChtYXgsIGFyZ3VtZW50KSA9PiB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgobWF4LCBhcmd1bWVudC50ZXJtLmxlbmd0aCk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29tbWFuZCB1c2FnZSB0byBiZSBkaXNwbGF5ZWQgYXQgdGhlIHRvcCBvZiB0aGUgYnVpbHQtaW4gaGVscC5cbiAgICpcbiAgICogQHBhcmFtIHtDb21tYW5kfSBjbWRcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG5cbiAgY29tbWFuZFVzYWdlKGNtZCkge1xuICAgIC8vIFVzYWdlXG4gICAgbGV0IGNtZE5hbWUgPSBjbWQuX25hbWU7XG4gICAgaWYgKGNtZC5fYWxpYXNlc1swXSkge1xuICAgICAgY21kTmFtZSA9IGNtZE5hbWUgKyAnfCcgKyBjbWQuX2FsaWFzZXNbMF07XG4gICAgfVxuICAgIGxldCBwYXJlbnRDbWROYW1lcyA9ICcnO1xuICAgIGZvciAobGV0IHBhcmVudENtZCA9IGNtZC5wYXJlbnQ7IHBhcmVudENtZDsgcGFyZW50Q21kID0gcGFyZW50Q21kLnBhcmVudCkge1xuICAgICAgcGFyZW50Q21kTmFtZXMgPSBwYXJlbnRDbWQubmFtZSgpICsgJyAnICsgcGFyZW50Q21kTmFtZXM7XG4gICAgfVxuICAgIHJldHVybiBwYXJlbnRDbWROYW1lcyArIGNtZE5hbWUgKyAnICcgKyBjbWQudXNhZ2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGRlc2NyaXB0aW9uIGZvciB0aGUgY29tbWFuZC5cbiAgICpcbiAgICogQHBhcmFtIHtDb21tYW5kfSBjbWRcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG5cbiAgY29tbWFuZERlc2NyaXB0aW9uKGNtZCkge1xuICAgIC8vIEB0cy1pZ25vcmU6IG92ZXJsb2FkZWQgcmV0dXJuIHR5cGVcbiAgICByZXR1cm4gY21kLmRlc2NyaXB0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjb21tYW5kIGRlc2NyaXB0aW9uIHRvIHNob3cgaW4gdGhlIGxpc3Qgb2Ygc3ViY29tbWFuZHMuXG4gICAqXG4gICAqIEBwYXJhbSB7Q29tbWFuZH0gY21kXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuXG4gIHN1YmNvbW1hbmREZXNjcmlwdGlvbihjbWQpIHtcbiAgICAvLyBAdHMtaWdub3JlOiBvdmVybG9hZGVkIHJldHVybiB0eXBlXG4gICAgcmV0dXJuIGNtZC5kZXNjcmlwdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgb3B0aW9uIGRlc2NyaXB0aW9uIHRvIHNob3cgaW4gdGhlIGxpc3Qgb2Ygb3B0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtPcHRpb259IG9wdGlvblxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuXG4gIG9wdGlvbkRlc2NyaXB0aW9uKG9wdGlvbikge1xuICAgIGlmIChvcHRpb24ubmVnYXRlKSB7XG4gICAgICByZXR1cm4gb3B0aW9uLmRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBjb25zdCBleHRyYUluZm8gPSBbXTtcbiAgICBpZiAob3B0aW9uLmFyZ0Nob2ljZXMpIHtcbiAgICAgIGV4dHJhSW5mby5wdXNoKFxuICAgICAgICAvLyB1c2Ugc3RyaW5naWZ5IHRvIG1hdGNoIHRoZSBkaXNwbGF5IG9mIHRoZSBkZWZhdWx0IHZhbHVlXG4gICAgICAgIGBjaG9pY2VzOiAke29wdGlvbi5hcmdDaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiBKU09OLnN0cmluZ2lmeShjaG9pY2UpKS5qb2luKCcsICcpfWApO1xuICAgIH1cbiAgICBpZiAob3B0aW9uLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBleHRyYUluZm8ucHVzaChgZGVmYXVsdDogJHtvcHRpb24uZGVmYXVsdFZhbHVlRGVzY3JpcHRpb24gfHwgSlNPTi5zdHJpbmdpZnkob3B0aW9uLmRlZmF1bHRWYWx1ZSl9YCk7XG4gICAgfVxuICAgIGlmIChleHRyYUluZm8ubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGAke29wdGlvbi5kZXNjcmlwdGlvbn0gKCR7ZXh0cmFJbmZvLmpvaW4oJywgJyl9KWA7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb24uZGVzY3JpcHRpb247XG4gIH07XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHRoZSBidWlsdC1pbiBoZWxwIHRleHQuXG4gICAqXG4gICAqIEBwYXJhbSB7Q29tbWFuZH0gY21kXG4gICAqIEBwYXJhbSB7SGVscH0gaGVscGVyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuXG4gIGZvcm1hdEhlbHAoY21kLCBoZWxwZXIpIHtcbiAgICBjb25zdCB0ZXJtV2lkdGggPSBoZWxwZXIucGFkV2lkdGgoY21kLCBoZWxwZXIpO1xuICAgIGNvbnN0IGhlbHBXaWR0aCA9IGhlbHBlci5oZWxwV2lkdGggfHwgODA7XG4gICAgY29uc3QgaXRlbUluZGVudFdpZHRoID0gMjtcbiAgICBjb25zdCBpdGVtU2VwYXJhdG9yV2lkdGggPSAyOyAvLyBiZXR3ZWVuIHRlcm0gYW5kIGRlc2NyaXB0aW9uXG4gICAgZnVuY3Rpb24gZm9ybWF0SXRlbSh0ZXJtLCBkZXNjcmlwdGlvbikge1xuICAgICAgaWYgKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbnN0IGZ1bGxUZXh0ID0gYCR7dGVybS5wYWRFbmQodGVybVdpZHRoICsgaXRlbVNlcGFyYXRvcldpZHRoKX0ke2Rlc2NyaXB0aW9ufWA7XG4gICAgICAgIHJldHVybiBoZWxwZXIud3JhcChmdWxsVGV4dCwgaGVscFdpZHRoIC0gaXRlbUluZGVudFdpZHRoLCB0ZXJtV2lkdGggKyBpdGVtU2VwYXJhdG9yV2lkdGgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRlcm07XG4gICAgfTtcbiAgICBmdW5jdGlvbiBmb3JtYXRMaXN0KHRleHRBcnJheSkge1xuICAgICAgcmV0dXJuIHRleHRBcnJheS5qb2luKCdcXG4nKS5yZXBsYWNlKC9eL2dtLCAnICcucmVwZWF0KGl0ZW1JbmRlbnRXaWR0aCkpO1xuICAgIH1cblxuICAgIC8vIFVzYWdlXG4gICAgbGV0IG91dHB1dCA9IFtgVXNhZ2U6ICR7aGVscGVyLmNvbW1hbmRVc2FnZShjbWQpfWAsICcnXTtcblxuICAgIC8vIERlc2NyaXB0aW9uXG4gICAgY29uc3QgY29tbWFuZERlc2NyaXB0aW9uID0gaGVscGVyLmNvbW1hbmREZXNjcmlwdGlvbihjbWQpO1xuICAgIGlmIChjb21tYW5kRGVzY3JpcHRpb24ubGVuZ3RoID4gMCkge1xuICAgICAgb3V0cHV0ID0gb3V0cHV0LmNvbmNhdChbY29tbWFuZERlc2NyaXB0aW9uLCAnJ10pO1xuICAgIH1cblxuICAgIC8vIEFyZ3VtZW50c1xuICAgIGNvbnN0IGFyZ3VtZW50TGlzdCA9IGhlbHBlci52aXNpYmxlQXJndW1lbnRzKGNtZCkubWFwKChhcmd1bWVudCkgPT4ge1xuICAgICAgcmV0dXJuIGZvcm1hdEl0ZW0oYXJndW1lbnQudGVybSwgYXJndW1lbnQuZGVzY3JpcHRpb24pO1xuICAgIH0pO1xuICAgIGlmIChhcmd1bWVudExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgb3V0cHV0ID0gb3V0cHV0LmNvbmNhdChbJ0FyZ3VtZW50czonLCBmb3JtYXRMaXN0KGFyZ3VtZW50TGlzdCksICcnXSk7XG4gICAgfVxuXG4gICAgLy8gT3B0aW9uc1xuICAgIGNvbnN0IG9wdGlvbkxpc3QgPSBoZWxwZXIudmlzaWJsZU9wdGlvbnMoY21kKS5tYXAoKG9wdGlvbikgPT4ge1xuICAgICAgcmV0dXJuIGZvcm1hdEl0ZW0oaGVscGVyLm9wdGlvblRlcm0ob3B0aW9uKSwgaGVscGVyLm9wdGlvbkRlc2NyaXB0aW9uKG9wdGlvbikpO1xuICAgIH0pO1xuICAgIGlmIChvcHRpb25MaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgIG91dHB1dCA9IG91dHB1dC5jb25jYXQoWydPcHRpb25zOicsIGZvcm1hdExpc3Qob3B0aW9uTGlzdCksICcnXSk7XG4gICAgfVxuXG4gICAgLy8gQ29tbWFuZHNcbiAgICBjb25zdCBjb21tYW5kTGlzdCA9IGhlbHBlci52aXNpYmxlQ29tbWFuZHMoY21kKS5tYXAoKGNtZCkgPT4ge1xuICAgICAgcmV0dXJuIGZvcm1hdEl0ZW0oaGVscGVyLnN1YmNvbW1hbmRUZXJtKGNtZCksIGhlbHBlci5zdWJjb21tYW5kRGVzY3JpcHRpb24oY21kKSk7XG4gICAgfSk7XG4gICAgaWYgKGNvbW1hbmRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgIG91dHB1dCA9IG91dHB1dC5jb25jYXQoWydDb21tYW5kczonLCBmb3JtYXRMaXN0KGNvbW1hbmRMaXN0KSwgJyddKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0LmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgcGFkIHdpZHRoIGZyb20gdGhlIG1heGltdW0gdGVybSBsZW5ndGguXG4gICAqXG4gICAqIEBwYXJhbSB7Q29tbWFuZH0gY21kXG4gICAqIEBwYXJhbSB7SGVscH0gaGVscGVyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuXG4gIHBhZFdpZHRoKGNtZCwgaGVscGVyKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KFxuICAgICAgaGVscGVyLmxvbmdlc3RPcHRpb25UZXJtTGVuZ3RoKGNtZCwgaGVscGVyKSxcbiAgICAgIGhlbHBlci5sb25nZXN0U3ViY29tbWFuZFRlcm1MZW5ndGgoY21kLCBoZWxwZXIpLFxuICAgICAgaGVscGVyLmxvbmdlc3RBcmd1bWVudFRlcm1MZW5ndGgoY21kLCBoZWxwZXIpXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogV3JhcCB0aGUgZ2l2ZW4gc3RyaW5nIHRvIHdpZHRoIGNoYXJhY3RlcnMgcGVyIGxpbmUsIHdpdGggbGluZXMgYWZ0ZXIgdGhlIGZpcnN0IGluZGVudGVkLlxuICAgKiBEbyBub3Qgd3JhcCBpZiBpbnN1ZmZpY2llbnQgcm9vbSBmb3Igd3JhcHBpbmcgKG1pbkNvbHVtbldpZHRoKSwgb3Igc3RyaW5nIGlzIG1hbnVhbGx5IGZvcm1hdHRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGhcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGVudFxuICAgKiBAcGFyYW0ge251bWJlcn0gW21pbkNvbHVtbldpZHRoPTQwXVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqXG4gICAqL1xuXG4gIHdyYXAoc3RyLCB3aWR0aCwgaW5kZW50LCBtaW5Db2x1bW5XaWR0aCA9IDQwKSB7XG4gICAgLy8gRGV0ZWN0IG1hbnVhbGx5IHdyYXBwZWQgYW5kIGluZGVudGVkIHN0cmluZ3MgYnkgc2VhcmNoaW5nIGZvciBsaW5lIGJyZWFrc1xuICAgIC8vIGZvbGxvd2VkIGJ5IG11bHRpcGxlIHNwYWNlcy90YWJzLlxuICAgIGlmIChzdHIubWF0Y2goL1tcXG5dXFxzKy8pKSByZXR1cm4gc3RyO1xuICAgIC8vIERvIG5vdCB3cmFwIGlmIG5vdCBlbm91Z2ggcm9vbSBmb3IgYSB3cmFwcGVkIGNvbHVtbiBvZiB0ZXh0IChhcyBjb3VsZCBlbmQgdXAgd2l0aCBhIHdvcmQgcGVyIGxpbmUpLlxuICAgIGNvbnN0IGNvbHVtbldpZHRoID0gd2lkdGggLSBpbmRlbnQ7XG4gICAgaWYgKGNvbHVtbldpZHRoIDwgbWluQ29sdW1uV2lkdGgpIHJldHVybiBzdHI7XG5cbiAgICBjb25zdCBsZWFkaW5nU3RyID0gc3RyLnN1YnN0cigwLCBpbmRlbnQpO1xuICAgIGNvbnN0IGNvbHVtblRleHQgPSBzdHIuc3Vic3RyKGluZGVudCk7XG5cbiAgICBjb25zdCBpbmRlbnRTdHJpbmcgPSAnICcucmVwZWF0KGluZGVudCk7XG4gICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKCcuezEsJyArIChjb2x1bW5XaWR0aCAtIDEpICsgJ30oW1xcXFxzXFx1MjAwQl18JCl8W15cXFxcc1xcdTIwMEJdKz8oW1xcXFxzXFx1MjAwQl18JCknLCAnZycpO1xuICAgIGNvbnN0IGxpbmVzID0gY29sdW1uVGV4dC5tYXRjaChyZWdleCkgfHwgW107XG4gICAgcmV0dXJuIGxlYWRpbmdTdHIgKyBsaW5lcy5tYXAoKGxpbmUsIGkpID0+IHtcbiAgICAgIGlmIChsaW5lLnNsaWNlKC0xKSA9PT0gJ1xcbicpIHtcbiAgICAgICAgbGluZSA9IGxpbmUuc2xpY2UoMCwgbGluZS5sZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoKGkgPiAwKSA/IGluZGVudFN0cmluZyA6ICcnKSArIGxpbmUudHJpbVJpZ2h0KCk7XG4gICAgfSkuam9pbignXFxuJyk7XG4gIH1cbn1cblxuY2xhc3MgT3B0aW9uIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBuZXcgYE9wdGlvbmAgd2l0aCB0aGUgZ2l2ZW4gYGZsYWdzYCBhbmQgYGRlc2NyaXB0aW9uYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZsYWdzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGVzY3JpcHRpb25dXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKGZsYWdzLCBkZXNjcmlwdGlvbikge1xuICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24gfHwgJyc7XG5cbiAgICB0aGlzLnJlcXVpcmVkID0gZmxhZ3MuaW5jbHVkZXMoJzwnKTsgLy8gQSB2YWx1ZSBtdXN0IGJlIHN1cHBsaWVkIHdoZW4gdGhlIG9wdGlvbiBpcyBzcGVjaWZpZWQuXG4gICAgdGhpcy5vcHRpb25hbCA9IGZsYWdzLmluY2x1ZGVzKCdbJyk7IC8vIEEgdmFsdWUgaXMgb3B0aW9uYWwgd2hlbiB0aGUgb3B0aW9uIGlzIHNwZWNpZmllZC5cbiAgICAvLyB2YXJpYWRpYyB0ZXN0IGlnbm9yZXMgPHZhbHVlLC4uLj4gZXQgYWwgd2hpY2ggbWlnaHQgYmUgdXNlZCB0byBkZXNjcmliZSBjdXN0b20gc3BsaXR0aW5nIG9mIHNpbmdsZSBhcmd1bWVudFxuICAgIHRoaXMudmFyaWFkaWMgPSAvXFx3XFwuXFwuXFwuWz5cXF1dJC8udGVzdChmbGFncyk7IC8vIFRoZSBvcHRpb24gY2FuIHRha2UgbXVsdGlwbGUgdmFsdWVzLlxuICAgIHRoaXMubWFuZGF0b3J5ID0gZmFsc2U7IC8vIFRoZSBvcHRpb24gbXVzdCBoYXZlIGEgdmFsdWUgYWZ0ZXIgcGFyc2luZywgd2hpY2ggdXN1YWxseSBtZWFucyBpdCBtdXN0IGJlIHNwZWNpZmllZCBvbiBjb21tYW5kIGxpbmUuXG4gICAgY29uc3Qgb3B0aW9uRmxhZ3MgPSBfcGFyc2VPcHRpb25GbGFncyhmbGFncyk7XG4gICAgdGhpcy5zaG9ydCA9IG9wdGlvbkZsYWdzLnNob3J0RmxhZztcbiAgICB0aGlzLmxvbmcgPSBvcHRpb25GbGFncy5sb25nRmxhZztcbiAgICB0aGlzLm5lZ2F0ZSA9IGZhbHNlO1xuICAgIGlmICh0aGlzLmxvbmcpIHtcbiAgICAgIHRoaXMubmVnYXRlID0gdGhpcy5sb25nLnN0YXJ0c1dpdGgoJy0tbm8tJyk7XG4gICAgfVxuICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZGVmYXVsdFZhbHVlRGVzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5wYXJzZUFyZyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmhpZGRlbiA9IGZhbHNlO1xuICAgIHRoaXMuYXJnQ2hvaWNlcyA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGRlZmF1bHQgdmFsdWUsIGFuZCBvcHRpb25hbGx5IHN1cHBseSB0aGUgZGVzY3JpcHRpb24gdG8gYmUgZGlzcGxheWVkIGluIHRoZSBoZWxwLlxuICAgKlxuICAgKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7T3B0aW9ufVxuICAgKi9cblxuICBkZWZhdWx0KHZhbHVlLCBkZXNjcmlwdGlvbikge1xuICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5kZWZhdWx0VmFsdWVEZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGN1c3RvbSBoYW5kbGVyIGZvciBwcm9jZXNzaW5nIENMSSBvcHRpb24gYXJndW1lbnRzIGludG8gb3B0aW9uIHZhbHVlcy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICAgKiBAcmV0dXJuIHtPcHRpb259XG4gICAqL1xuXG4gIGFyZ1BhcnNlcihmbikge1xuICAgIHRoaXMucGFyc2VBcmcgPSBmbjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogV2hldGhlciB0aGUgb3B0aW9uIGlzIG1hbmRhdG9yeSBhbmQgbXVzdCBoYXZlIGEgdmFsdWUgYWZ0ZXIgcGFyc2luZy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBbbWFuZGF0b3J5PXRydWVdXG4gICAqIEByZXR1cm4ge09wdGlvbn1cbiAgICovXG5cbiAgbWFrZU9wdGlvbk1hbmRhdG9yeShtYW5kYXRvcnkgPSB0cnVlKSB7XG4gICAgdGhpcy5tYW5kYXRvcnkgPSAhIW1hbmRhdG9yeTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogSGlkZSBvcHRpb24gaW4gaGVscC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBbaGlkZT10cnVlXVxuICAgKiBAcmV0dXJuIHtPcHRpb259XG4gICAqL1xuXG4gIGhpZGVIZWxwKGhpZGUgPSB0cnVlKSB7XG4gICAgdGhpcy5oaWRkZW4gPSAhIWhpZGU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBfY29uY2F0VmFsdWUodmFsdWUsIHByZXZpb3VzKSB7XG4gICAgaWYgKHByZXZpb3VzID09PSB0aGlzLmRlZmF1bHRWYWx1ZSB8fCAhQXJyYXkuaXNBcnJheShwcmV2aW91cykpIHtcbiAgICAgIHJldHVybiBbdmFsdWVdO1xuICAgIH1cblxuICAgIHJldHVybiBwcmV2aW91cy5jb25jYXQodmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9ubHkgYWxsb3cgb3B0aW9uIHZhbHVlIHRvIGJlIG9uZSBvZiBjaG9pY2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSB2YWx1ZXNcbiAgICogQHJldHVybiB7T3B0aW9ufVxuICAgKi9cblxuICBjaG9pY2VzKHZhbHVlcykge1xuICAgIHRoaXMuYXJnQ2hvaWNlcyA9IHZhbHVlcztcbiAgICB0aGlzLnBhcnNlQXJnID0gKGFyZywgcHJldmlvdXMpID0+IHtcbiAgICAgIGlmICghdmFsdWVzLmluY2x1ZGVzKGFyZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRPcHRpb25Bcmd1bWVudEVycm9yKGBBbGxvd2VkIGNob2ljZXMgYXJlICR7dmFsdWVzLmpvaW4oJywgJyl9LmApO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudmFyaWFkaWMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmNhdFZhbHVlKGFyZywgcHJldmlvdXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFyZztcbiAgICB9O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gb3B0aW9uIG5hbWUuXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cbiAgbmFtZSgpIHtcbiAgICBpZiAodGhpcy5sb25nKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb25nLnJlcGxhY2UoL14tLS8sICcnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2hvcnQucmVwbGFjZSgvXi0vLCAnJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBvcHRpb24gbmFtZSwgaW4gYSBjYW1lbGNhc2UgZm9ybWF0IHRoYXQgY2FuIGJlIHVzZWRcbiAgICogYXMgYSBvYmplY3QgYXR0cmlidXRlIGtleS5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgYXR0cmlidXRlTmFtZSgpIHtcbiAgICByZXR1cm4gY2FtZWxjYXNlKHRoaXMubmFtZSgpLnJlcGxhY2UoL15uby0vLCAnJykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBgYXJnYCBtYXRjaGVzIHRoZSBzaG9ydCBvciBsb25nIGZsYWcuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhcmdcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGlzKGFyZykge1xuICAgIHJldHVybiB0aGlzLnNob3J0ID09PSBhcmcgfHwgdGhpcy5sb25nID09PSBhcmc7XG4gIH07XG59XG5cbi8qKlxuICogQ29tbWFuZGVyRXJyb3IgY2xhc3NcbiAqIEBjbGFzc1xuICovXG5jbGFzcyBDb21tYW5kZXJFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgdGhlIENvbW1hbmRlckVycm9yIGNsYXNzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBleGl0Q29kZSBzdWdnZXN0ZWQgZXhpdCBjb2RlIHdoaWNoIGNvdWxkIGJlIHVzZWQgd2l0aCBwcm9jZXNzLmV4aXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgYW4gaWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZXJyb3JcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgaHVtYW4tcmVhZGFibGUgZGVzY3JpcHRpb24gb2YgdGhlIGVycm9yXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoZXhpdENvZGUsIGNvZGUsIG1lc3NhZ2UpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAvLyBwcm9wZXJseSBjYXB0dXJlIHN0YWNrIHRyYWNlIGluIE5vZGUuanNcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB0aGlzLmV4aXRDb2RlID0gZXhpdENvZGU7XG4gICAgdGhpcy5uZXN0ZWRFcnJvciA9IHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIEludmFsaWRPcHRpb25Bcmd1bWVudEVycm9yIGNsYXNzXG4gKiBAY2xhc3NcbiAqL1xuY2xhc3MgSW52YWxpZE9wdGlvbkFyZ3VtZW50RXJyb3IgZXh0ZW5kcyBDb21tYW5kZXJFcnJvciB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIHRoZSBJbnZhbGlkT3B0aW9uQXJndW1lbnRFcnJvciBjbGFzc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW21lc3NhZ2VdIGV4cGxhbmF0aW9uIG9mIHdoeSBhcmd1bWVudCBpcyBpbnZhbGlkXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgIHN1cGVyKDEsICdjb21tYW5kZXIuaW52YWxpZE9wdGlvbkFyZ3VtZW50JywgbWVzc2FnZSk7XG4gICAgLy8gcHJvcGVybHkgY2FwdHVyZSBzdGFjayB0cmFjZSBpbiBOb2RlLmpzXG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICB9XG59XG5cbmNsYXNzIENvbW1hbmQgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgQ29tbWFuZGAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV1cbiAgICovXG5cbiAgY29uc3RydWN0b3IobmFtZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jb21tYW5kcyA9IFtdO1xuICAgIHRoaXMub3B0aW9ucyA9IFtdO1xuICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB0aGlzLl9hbGxvd1Vua25vd25PcHRpb24gPSBmYWxzZTtcbiAgICB0aGlzLl9hbGxvd0V4Y2Vzc0FyZ3VtZW50cyA9IHRydWU7XG4gICAgdGhpcy5fYXJncyA9IFtdO1xuICAgIHRoaXMucmF3QXJncyA9IG51bGw7XG4gICAgdGhpcy5fc2NyaXB0UGF0aCA9IG51bGw7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWUgfHwgJyc7XG4gICAgdGhpcy5fb3B0aW9uVmFsdWVzID0ge307XG4gICAgdGhpcy5fc3RvcmVPcHRpb25zQXNQcm9wZXJ0aWVzID0gZmFsc2U7XG4gICAgdGhpcy5fYWN0aW9uUmVzdWx0cyA9IFtdO1xuICAgIHRoaXMuX2FjdGlvbkhhbmRsZXIgPSBudWxsO1xuICAgIHRoaXMuX2V4ZWN1dGFibGVIYW5kbGVyID0gZmFsc2U7XG4gICAgdGhpcy5fZXhlY3V0YWJsZUZpbGUgPSBudWxsOyAvLyBjdXN0b20gbmFtZSBmb3IgZXhlY3V0YWJsZVxuICAgIHRoaXMuX2RlZmF1bHRDb21tYW5kTmFtZSA9IG51bGw7XG4gICAgdGhpcy5fZXhpdENhbGxiYWNrID0gbnVsbDtcbiAgICB0aGlzLl9hbGlhc2VzID0gW107XG4gICAgdGhpcy5fY29tYmluZUZsYWdBbmRPcHRpb25hbFZhbHVlID0gdHJ1ZTtcbiAgICB0aGlzLl9kZXNjcmlwdGlvbiA9ICcnO1xuICAgIHRoaXMuX2FyZ3NEZXNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9lbmFibGVQb3NpdGlvbmFsT3B0aW9ucyA9IGZhbHNlO1xuICAgIHRoaXMuX3Bhc3NUaHJvdWdoT3B0aW9ucyA9IGZhbHNlO1xuXG4gICAgLy8gc2VlIC5jb25maWd1cmVPdXRwdXQoKSBmb3IgZG9jc1xuICAgIHRoaXMuX291dHB1dENvbmZpZ3VyYXRpb24gPSB7XG4gICAgICB3cml0ZU91dDogKHN0cikgPT4gcHJvY2Vzcy5zdGRvdXQud3JpdGUoc3RyKSxcbiAgICAgIHdyaXRlRXJyOiAoc3RyKSA9PiBwcm9jZXNzLnN0ZGVyci53cml0ZShzdHIpLFxuICAgICAgZ2V0T3V0SGVscFdpZHRoOiAoKSA9PiBwcm9jZXNzLnN0ZG91dC5pc1RUWSA/IHByb2Nlc3Muc3Rkb3V0LmNvbHVtbnMgOiB1bmRlZmluZWQsXG4gICAgICBnZXRFcnJIZWxwV2lkdGg6ICgpID0+IHByb2Nlc3Muc3RkZXJyLmlzVFRZID8gcHJvY2Vzcy5zdGRlcnIuY29sdW1ucyA6IHVuZGVmaW5lZCxcbiAgICAgIG91dHB1dEVycm9yOiAoc3RyLCB3cml0ZSkgPT4gd3JpdGUoc3RyKVxuICAgIH07XG5cbiAgICB0aGlzLl9oaWRkZW4gPSBmYWxzZTtcbiAgICB0aGlzLl9oYXNIZWxwT3B0aW9uID0gdHJ1ZTtcbiAgICB0aGlzLl9oZWxwRmxhZ3MgPSAnLWgsIC0taGVscCc7XG4gICAgdGhpcy5faGVscERlc2NyaXB0aW9uID0gJ2Rpc3BsYXkgaGVscCBmb3IgY29tbWFuZCc7XG4gICAgdGhpcy5faGVscFNob3J0RmxhZyA9ICctaCc7XG4gICAgdGhpcy5faGVscExvbmdGbGFnID0gJy0taGVscCc7XG4gICAgdGhpcy5fYWRkSW1wbGljaXRIZWxwQ29tbWFuZCA9IHVuZGVmaW5lZDsgLy8gRGVsaWJlcmF0ZWx5IHVuZGVmaW5lZCwgbm90IGRlY2lkZWQgd2hldGhlciB0cnVlIG9yIGZhbHNlXG4gICAgdGhpcy5faGVscENvbW1hbmROYW1lID0gJ2hlbHAnO1xuICAgIHRoaXMuX2hlbHBDb21tYW5kbmFtZUFuZEFyZ3MgPSAnaGVscCBbY29tbWFuZF0nO1xuICAgIHRoaXMuX2hlbHBDb21tYW5kRGVzY3JpcHRpb24gPSAnZGlzcGxheSBoZWxwIGZvciBjb21tYW5kJztcbiAgICB0aGlzLl9oZWxwQ29uZmlndXJhdGlvbiA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIERlZmluZSBhIGNvbW1hbmQuXG4gICAqXG4gICAqIFRoZXJlIGFyZSB0d28gc3R5bGVzIG9mIGNvbW1hbmQ6IHBheSBhdHRlbnRpb24gdG8gd2hlcmUgdG8gcHV0IHRoZSBkZXNjcmlwdGlvbi5cbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgICAgLy8gQ29tbWFuZCBpbXBsZW1lbnRlZCB1c2luZyBhY3Rpb24gaGFuZGxlciAoZGVzY3JpcHRpb24gaXMgc3VwcGxpZWQgc2VwYXJhdGVseSB0byBgLmNvbW1hbmRgKVxuICAgKiAgICAgIHByb2dyYW1cbiAgICogICAgICAgIC5jb21tYW5kKCdjbG9uZSA8c291cmNlPiBbZGVzdGluYXRpb25dJylcbiAgICogICAgICAgIC5kZXNjcmlwdGlvbignY2xvbmUgYSByZXBvc2l0b3J5IGludG8gYSBuZXdseSBjcmVhdGVkIGRpcmVjdG9yeScpXG4gICAqICAgICAgICAuYWN0aW9uKChzb3VyY2UsIGRlc3RpbmF0aW9uKSA9PiB7XG4gICAqICAgICAgICAgIGNvbnNvbGUubG9nKCdjbG9uZSBjb21tYW5kIGNhbGxlZCcpO1xuICAgKiAgICAgICAgfSk7XG4gICAqXG4gICAqICAgICAgLy8gQ29tbWFuZCBpbXBsZW1lbnRlZCB1c2luZyBzZXBhcmF0ZSBleGVjdXRhYmxlIGZpbGUgKGRlc2NyaXB0aW9uIGlzIHNlY29uZCBwYXJhbWV0ZXIgdG8gYC5jb21tYW5kYClcbiAgICogICAgICBwcm9ncmFtXG4gICAqICAgICAgICAuY29tbWFuZCgnc3RhcnQgPHNlcnZpY2U+JywgJ3N0YXJ0IG5hbWVkIHNlcnZpY2UnKVxuICAgKiAgICAgICAgLmNvbW1hbmQoJ3N0b3AgW3NlcnZpY2VdJywgJ3N0b3AgbmFtZWQgc2VydmljZSwgb3IgYWxsIGlmIG5vIG5hbWUgc3VwcGxpZWQnKTtcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVBbmRBcmdzIC0gY29tbWFuZCBuYW1lIGFuZCBhcmd1bWVudHMsIGFyZ3MgYXJlIGA8cmVxdWlyZWQ+YCBvciBgW29wdGlvbmFsXWAgYW5kIGxhc3QgbWF5IGFsc28gYmUgYHZhcmlhZGljLi4uYFxuICAgKiBAcGFyYW0ge09iamVjdHxzdHJpbmd9IFthY3Rpb25PcHRzT3JFeGVjRGVzY10gLSBjb25maWd1cmF0aW9uIG9wdGlvbnMgKGZvciBhY3Rpb24pLCBvciBkZXNjcmlwdGlvbiAoZm9yIGV4ZWN1dGFibGUpXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZXhlY09wdHNdIC0gY29uZmlndXJhdGlvbiBvcHRpb25zIChmb3IgZXhlY3V0YWJsZSlcbiAgICogQHJldHVybiB7Q29tbWFuZH0gcmV0dXJucyBuZXcgY29tbWFuZCBmb3IgYWN0aW9uIGhhbmRsZXIsIG9yIGB0aGlzYCBmb3IgZXhlY3V0YWJsZSBjb21tYW5kXG4gICAqL1xuXG4gIGNvbW1hbmQobmFtZUFuZEFyZ3MsIGFjdGlvbk9wdHNPckV4ZWNEZXNjLCBleGVjT3B0cykge1xuICAgIGxldCBkZXNjID0gYWN0aW9uT3B0c09yRXhlY0Rlc2M7XG4gICAgbGV0IG9wdHMgPSBleGVjT3B0cztcbiAgICBpZiAodHlwZW9mIGRlc2MgPT09ICdvYmplY3QnICYmIGRlc2MgIT09IG51bGwpIHtcbiAgICAgIG9wdHMgPSBkZXNjO1xuICAgICAgZGVzYyA9IG51bGw7XG4gICAgfVxuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgIGNvbnN0IGFyZ3MgPSBuYW1lQW5kQXJncy5zcGxpdCgvICsvKTtcbiAgICBjb25zdCBjbWQgPSB0aGlzLmNyZWF0ZUNvbW1hbmQoYXJncy5zaGlmdCgpKTtcblxuICAgIGlmIChkZXNjKSB7XG4gICAgICBjbWQuZGVzY3JpcHRpb24oZGVzYyk7XG4gICAgICBjbWQuX2V4ZWN1dGFibGVIYW5kbGVyID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG9wdHMuaXNEZWZhdWx0KSB0aGlzLl9kZWZhdWx0Q29tbWFuZE5hbWUgPSBjbWQuX25hbWU7XG5cbiAgICBjbWQuX291dHB1dENvbmZpZ3VyYXRpb24gPSB0aGlzLl9vdXRwdXRDb25maWd1cmF0aW9uO1xuXG4gICAgY21kLl9oaWRkZW4gPSAhIShvcHRzLm5vSGVscCB8fCBvcHRzLmhpZGRlbik7IC8vIG5vSGVscCBpcyBkZXByZWNhdGVkIG9sZCBuYW1lIGZvciBoaWRkZW5cbiAgICBjbWQuX2hhc0hlbHBPcHRpb24gPSB0aGlzLl9oYXNIZWxwT3B0aW9uO1xuICAgIGNtZC5faGVscEZsYWdzID0gdGhpcy5faGVscEZsYWdzO1xuICAgIGNtZC5faGVscERlc2NyaXB0aW9uID0gdGhpcy5faGVscERlc2NyaXB0aW9uO1xuICAgIGNtZC5faGVscFNob3J0RmxhZyA9IHRoaXMuX2hlbHBTaG9ydEZsYWc7XG4gICAgY21kLl9oZWxwTG9uZ0ZsYWcgPSB0aGlzLl9oZWxwTG9uZ0ZsYWc7XG4gICAgY21kLl9oZWxwQ29tbWFuZE5hbWUgPSB0aGlzLl9oZWxwQ29tbWFuZE5hbWU7XG4gICAgY21kLl9oZWxwQ29tbWFuZG5hbWVBbmRBcmdzID0gdGhpcy5faGVscENvbW1hbmRuYW1lQW5kQXJncztcbiAgICBjbWQuX2hlbHBDb21tYW5kRGVzY3JpcHRpb24gPSB0aGlzLl9oZWxwQ29tbWFuZERlc2NyaXB0aW9uO1xuICAgIGNtZC5faGVscENvbmZpZ3VyYXRpb24gPSB0aGlzLl9oZWxwQ29uZmlndXJhdGlvbjtcbiAgICBjbWQuX2V4aXRDYWxsYmFjayA9IHRoaXMuX2V4aXRDYWxsYmFjaztcbiAgICBjbWQuX3N0b3JlT3B0aW9uc0FzUHJvcGVydGllcyA9IHRoaXMuX3N0b3JlT3B0aW9uc0FzUHJvcGVydGllcztcbiAgICBjbWQuX2NvbWJpbmVGbGFnQW5kT3B0aW9uYWxWYWx1ZSA9IHRoaXMuX2NvbWJpbmVGbGFnQW5kT3B0aW9uYWxWYWx1ZTtcbiAgICBjbWQuX2FsbG93RXhjZXNzQXJndW1lbnRzID0gdGhpcy5fYWxsb3dFeGNlc3NBcmd1bWVudHM7XG4gICAgY21kLl9lbmFibGVQb3NpdGlvbmFsT3B0aW9ucyA9IHRoaXMuX2VuYWJsZVBvc2l0aW9uYWxPcHRpb25zO1xuXG4gICAgY21kLl9leGVjdXRhYmxlRmlsZSA9IG9wdHMuZXhlY3V0YWJsZUZpbGUgfHwgbnVsbDsgLy8gQ3VzdG9tIG5hbWUgZm9yIGV4ZWN1dGFibGUgZmlsZSwgc2V0IG1pc3NpbmcgdG8gbnVsbCB0byBtYXRjaCBjb25zdHJ1Y3RvclxuICAgIHRoaXMuY29tbWFuZHMucHVzaChjbWQpO1xuICAgIGNtZC5fcGFyc2VFeHBlY3RlZEFyZ3MoYXJncyk7XG4gICAgY21kLnBhcmVudCA9IHRoaXM7XG5cbiAgICBpZiAoZGVzYykgcmV0dXJuIHRoaXM7XG4gICAgcmV0dXJuIGNtZDtcbiAgfTtcblxuICAvKipcbiAgICogRmFjdG9yeSByb3V0aW5lIHRvIGNyZWF0ZSBhIG5ldyB1bmF0dGFjaGVkIGNvbW1hbmQuXG4gICAqXG4gICAqIFNlZSAuY29tbWFuZCgpIGZvciBjcmVhdGluZyBhbiBhdHRhY2hlZCBzdWJjb21tYW5kLCB3aGljaCB1c2VzIHRoaXMgcm91dGluZSB0b1xuICAgKiBjcmVhdGUgdGhlIGNvbW1hbmQuIFlvdSBjYW4gb3ZlcnJpZGUgY3JlYXRlQ29tbWFuZCB0byBjdXN0b21pc2Ugc3ViY29tbWFuZHMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV1cbiAgICogQHJldHVybiB7Q29tbWFuZH0gbmV3IGNvbW1hbmRcbiAgICovXG5cbiAgY3JlYXRlQ29tbWFuZChuYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBDb21tYW5kKG5hbWUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBZb3UgY2FuIGN1c3RvbWlzZSB0aGUgaGVscCB3aXRoIGEgc3ViY2xhc3Mgb2YgSGVscCBieSBvdmVycmlkaW5nIGNyZWF0ZUhlbHAsXG4gICAqIG9yIGJ5IG92ZXJyaWRpbmcgSGVscCBwcm9wZXJ0aWVzIHVzaW5nIGNvbmZpZ3VyZUhlbHAoKS5cbiAgICpcbiAgICogQHJldHVybiB7SGVscH1cbiAgICovXG5cbiAgY3JlYXRlSGVscCgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgSGVscCgpLCB0aGlzLmNvbmZpZ3VyZUhlbHAoKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFlvdSBjYW4gY3VzdG9taXNlIHRoZSBoZWxwIGJ5IG92ZXJyaWRpbmcgSGVscCBwcm9wZXJ0aWVzIHVzaW5nIGNvbmZpZ3VyZUhlbHAoKSxcbiAgICogb3Igd2l0aCBhIHN1YmNsYXNzIG9mIEhlbHAgYnkgb3ZlcnJpZGluZyBjcmVhdGVIZWxwKCkuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlndXJhdGlvbl0gLSBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICogQHJldHVybiB7Q29tbWFuZHxPYmplY3R9IGB0aGlzYCBjb21tYW5kIGZvciBjaGFpbmluZywgb3Igc3RvcmVkIGNvbmZpZ3VyYXRpb25cbiAgICovXG5cbiAgY29uZmlndXJlSGVscChjb25maWd1cmF0aW9uKSB7XG4gICAgaWYgKGNvbmZpZ3VyYXRpb24gPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuX2hlbHBDb25maWd1cmF0aW9uO1xuXG4gICAgdGhpcy5faGVscENvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IG91dHB1dCBnb2VzIHRvIHN0ZG91dCBhbmQgc3RkZXJyLiBZb3UgY2FuIGN1c3RvbWlzZSB0aGlzIGZvciBzcGVjaWFsXG4gICAqIGFwcGxpY2F0aW9ucy4gWW91IGNhbiBhbHNvIGN1c3RvbWlzZSB0aGUgZGlzcGxheSBvZiBlcnJvcnMgYnkgb3ZlcnJpZGluZyBvdXRwdXRFcnJvci5cbiAgICpcbiAgICogVGhlIGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcyBhcmUgYWxsIGZ1bmN0aW9uczpcbiAgICpcbiAgICogICAgLy8gZnVuY3Rpb25zIHRvIGNoYW5nZSB3aGVyZSBiZWluZyB3cml0dGVuLCBzdGRvdXQgYW5kIHN0ZGVyclxuICAgKiAgICB3cml0ZU91dChzdHIpXG4gICAqICAgIHdyaXRlRXJyKHN0cilcbiAgICogICAgLy8gbWF0Y2hpbmcgZnVuY3Rpb25zIHRvIHNwZWNpZnkgd2lkdGggZm9yIHdyYXBwaW5nIGhlbHBcbiAgICogICAgZ2V0T3V0SGVscFdpZHRoKClcbiAgICogICAgZ2V0RXJySGVscFdpZHRoKClcbiAgICogICAgLy8gZnVuY3Rpb25zIGJhc2VkIG9uIHdoYXQgaXMgYmVpbmcgd3JpdHRlbiBvdXRcbiAgICogICAgb3V0cHV0RXJyb3Ioc3RyLCB3cml0ZSkgLy8gdXNlZCBmb3IgZGlzcGxheWluZyBlcnJvcnMsIGFuZCBub3QgdXNlZCBmb3IgZGlzcGxheWluZyBoZWxwXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlndXJhdGlvbl0gLSBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICogQHJldHVybiB7Q29tbWFuZHxPYmplY3R9IGB0aGlzYCBjb21tYW5kIGZvciBjaGFpbmluZywgb3Igc3RvcmVkIGNvbmZpZ3VyYXRpb25cbiAgICovXG5cbiAgY29uZmlndXJlT3V0cHV0KGNvbmZpZ3VyYXRpb24pIHtcbiAgICBpZiAoY29uZmlndXJhdGlvbiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5fb3V0cHV0Q29uZmlndXJhdGlvbjtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcy5fb3V0cHV0Q29uZmlndXJhdGlvbiwgY29uZmlndXJhdGlvbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgcHJlcGFyZWQgc3ViY29tbWFuZC5cbiAgICpcbiAgICogU2VlIC5jb21tYW5kKCkgZm9yIGNyZWF0aW5nIGFuIGF0dGFjaGVkIHN1YmNvbW1hbmQgd2hpY2ggaW5oZXJpdHMgc2V0dGluZ3MgZnJvbSBpdHMgcGFyZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0NvbW1hbmR9IGNtZCAtIG5ldyBzdWJjb21tYW5kXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0c10gLSBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICogQHJldHVybiB7Q29tbWFuZH0gYHRoaXNgIGNvbW1hbmQgZm9yIGNoYWluaW5nXG4gICAqL1xuXG4gIGFkZENvbW1hbmQoY21kLCBvcHRzKSB7XG4gICAgaWYgKCFjbWQuX25hbWUpIHRocm93IG5ldyBFcnJvcignQ29tbWFuZCBwYXNzZWQgdG8gLmFkZENvbW1hbmQoKSBtdXN0IGhhdmUgYSBuYW1lJyk7XG5cbiAgICAvLyBUbyBrZWVwIHRoaW5ncyBzaW1wbGUsIGJsb2NrIGF1dG9tYXRpYyBuYW1lIGdlbmVyYXRpb24gZm9yIGRlZXBseSBuZXN0ZWQgZXhlY3V0YWJsZXMuXG4gICAgLy8gRmFpbCBmYXN0IGFuZCBkZXRlY3Qgd2hlbiBhZGRpbmcgcmF0aGVyIHRoYW4gbGF0ZXIgd2hlbiBwYXJzaW5nLlxuICAgIGZ1bmN0aW9uIGNoZWNrRXhwbGljaXROYW1lcyhjb21tYW5kQXJyYXkpIHtcbiAgICAgIGNvbW1hbmRBcnJheS5mb3JFYWNoKChjbWQpID0+IHtcbiAgICAgICAgaWYgKGNtZC5fZXhlY3V0YWJsZUhhbmRsZXIgJiYgIWNtZC5fZXhlY3V0YWJsZUZpbGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE11c3Qgc3BlY2lmeSBleGVjdXRhYmxlRmlsZSBmb3IgZGVlcGx5IG5lc3RlZCBleGVjdXRhYmxlOiAke2NtZC5uYW1lKCl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hlY2tFeHBsaWNpdE5hbWVzKGNtZC5jb21tYW5kcyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY2hlY2tFeHBsaWNpdE5hbWVzKGNtZC5jb21tYW5kcyk7XG5cbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICBpZiAob3B0cy5pc0RlZmF1bHQpIHRoaXMuX2RlZmF1bHRDb21tYW5kTmFtZSA9IGNtZC5fbmFtZTtcbiAgICBpZiAob3B0cy5ub0hlbHAgfHwgb3B0cy5oaWRkZW4pIGNtZC5faGlkZGVuID0gdHJ1ZTsgLy8gbW9kaWZ5aW5nIHBhc3NlZCBjb21tYW5kIGR1ZSB0byBleGlzdGluZyBpbXBsZW1lbnRhdGlvblxuXG4gICAgdGhpcy5jb21tYW5kcy5wdXNoKGNtZCk7XG4gICAgY21kLnBhcmVudCA9IHRoaXM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIERlZmluZSBhcmd1bWVudCBzeW50YXggZm9yIHRoZSBjb21tYW5kLlxuICAgKi9cblxuICBhcmd1bWVudHMoZGVzYykge1xuICAgIHJldHVybiB0aGlzLl9wYXJzZUV4cGVjdGVkQXJncyhkZXNjLnNwbGl0KC8gKy8pKTtcbiAgfTtcblxuICAvKipcbiAgICogT3ZlcnJpZGUgZGVmYXVsdCBkZWNpc2lvbiB3aGV0aGVyIHRvIGFkZCBpbXBsaWNpdCBoZWxwIGNvbW1hbmQuXG4gICAqXG4gICAqICAgIGFkZEhlbHBDb21tYW5kKCkgLy8gZm9yY2Ugb25cbiAgICogICAgYWRkSGVscENvbW1hbmQoZmFsc2UpOyAvLyBmb3JjZSBvZmZcbiAgICogICAgYWRkSGVscENvbW1hbmQoJ2hlbHAgW2NtZF0nLCAnZGlzcGxheSBoZWxwIGZvciBbY21kXScpOyAvLyBmb3JjZSBvbiB3aXRoIGN1c3RvbSBkZXRhaWxzXG4gICAqXG4gICAqIEByZXR1cm4ge0NvbW1hbmR9IGB0aGlzYCBjb21tYW5kIGZvciBjaGFpbmluZ1xuICAgKi9cblxuICBhZGRIZWxwQ29tbWFuZChlbmFibGVPck5hbWVBbmRBcmdzLCBkZXNjcmlwdGlvbikge1xuICAgIGlmIChlbmFibGVPck5hbWVBbmRBcmdzID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5fYWRkSW1wbGljaXRIZWxwQ29tbWFuZCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9hZGRJbXBsaWNpdEhlbHBDb21tYW5kID0gdHJ1ZTtcbiAgICAgIGlmICh0eXBlb2YgZW5hYmxlT3JOYW1lQW5kQXJncyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5faGVscENvbW1hbmROYW1lID0gZW5hYmxlT3JOYW1lQW5kQXJncy5zcGxpdCgnICcpWzBdO1xuICAgICAgICB0aGlzLl9oZWxwQ29tbWFuZG5hbWVBbmRBcmdzID0gZW5hYmxlT3JOYW1lQW5kQXJncztcbiAgICAgIH1cbiAgICAgIHRoaXMuX2hlbHBDb21tYW5kRGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbiB8fCB0aGlzLl9oZWxwQ29tbWFuZERlc2NyaXB0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIF9oYXNJbXBsaWNpdEhlbHBDb21tYW5kKCkge1xuICAgIGlmICh0aGlzLl9hZGRJbXBsaWNpdEhlbHBDb21tYW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRzLmxlbmd0aCAmJiAhdGhpcy5fYWN0aW9uSGFuZGxlciAmJiAhdGhpcy5fZmluZENvbW1hbmQoJ2hlbHAnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2FkZEltcGxpY2l0SGVscENvbW1hbmQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBhcnNlIGV4cGVjdGVkIGBhcmdzYC5cbiAgICpcbiAgICogRm9yIGV4YW1wbGUgYFtcIlt0eXBlXVwiXWAgYmVjb21lcyBgW3sgcmVxdWlyZWQ6IGZhbHNlLCBuYW1lOiAndHlwZScgfV1gLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzXG4gICAqIEByZXR1cm4ge0NvbW1hbmR9IGB0aGlzYCBjb21tYW5kIGZvciBjaGFpbmluZ1xuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgX3BhcnNlRXhwZWN0ZWRBcmdzKGFyZ3MpIHtcbiAgICBpZiAoIWFyZ3MubGVuZ3RoKSByZXR1cm47XG4gICAgYXJncy5mb3JFYWNoKChhcmcpID0+IHtcbiAgICAgIGNvbnN0IGFyZ0RldGFpbHMgPSB7XG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHZhcmlhZGljOiBmYWxzZVxuICAgICAgfTtcblxuICAgICAgc3dpdGNoIChhcmdbMF0pIHtcbiAgICAgICAgY2FzZSAnPCc6XG4gICAgICAgICAgYXJnRGV0YWlscy5yZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgYXJnRGV0YWlscy5uYW1lID0gYXJnLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnWyc6XG4gICAgICAgICAgYXJnRGV0YWlscy5uYW1lID0gYXJnLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKGFyZ0RldGFpbHMubmFtZS5sZW5ndGggPiAzICYmIGFyZ0RldGFpbHMubmFtZS5zbGljZSgtMykgPT09ICcuLi4nKSB7XG4gICAgICAgIGFyZ0RldGFpbHMudmFyaWFkaWMgPSB0cnVlO1xuICAgICAgICBhcmdEZXRhaWxzLm5hbWUgPSBhcmdEZXRhaWxzLm5hbWUuc2xpY2UoMCwgLTMpO1xuICAgICAgfVxuICAgICAgaWYgKGFyZ0RldGFpbHMubmFtZSkge1xuICAgICAgICB0aGlzLl9hcmdzLnB1c2goYXJnRGV0YWlscyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fYXJncy5mb3JFYWNoKChhcmcsIGkpID0+IHtcbiAgICAgIGlmIChhcmcudmFyaWFkaWMgJiYgaSA8IHRoaXMuX2FyZ3MubGVuZ3RoIC0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG9ubHkgdGhlIGxhc3QgYXJndW1lbnQgY2FuIGJlIHZhcmlhZGljICcke2FyZy5uYW1lfSdgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogUmVnaXN0ZXIgY2FsbGJhY2sgdG8gdXNlIGFzIHJlcGxhY2VtZW50IGZvciBjYWxsaW5nIHByb2Nlc3MuZXhpdC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXSBvcHRpb25hbCBjYWxsYmFjayB3aGljaCB3aWxsIGJlIHBhc3NlZCBhIENvbW1hbmRlckVycm9yLCBkZWZhdWx0cyB0byB0aHJvd2luZ1xuICAgKiBAcmV0dXJuIHtDb21tYW5kfSBgdGhpc2AgY29tbWFuZCBmb3IgY2hhaW5pbmdcbiAgICovXG5cbiAgZXhpdE92ZXJyaWRlKGZuKSB7XG4gICAgaWYgKGZuKSB7XG4gICAgICB0aGlzLl9leGl0Q2FsbGJhY2sgPSBmbjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZXhpdENhbGxiYWNrID0gKGVycikgPT4ge1xuICAgICAgICBpZiAoZXJyLmNvZGUgIT09ICdjb21tYW5kZXIuZXhlY3V0ZVN1YkNvbW1hbmRBc3luYycpIHtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQXN5bmMgY2FsbGJhY2sgZnJvbSBzcGF3biBldmVudHMsIG5vdCB1c2VmdWwgdG8gdGhyb3cuXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDYWxsIHByb2Nlc3MuZXhpdCwgYW5kIF9leGl0Q2FsbGJhY2sgaWYgZGVmaW5lZC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGV4aXRDb2RlIGV4aXQgY29kZSBmb3IgdXNpbmcgd2l0aCBwcm9jZXNzLmV4aXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgYW4gaWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZXJyb3JcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgaHVtYW4tcmVhZGFibGUgZGVzY3JpcHRpb24gb2YgdGhlIGVycm9yXG4gICAqIEByZXR1cm4gbmV2ZXJcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIF9leGl0KGV4aXRDb2RlLCBjb2RlLCBtZXNzYWdlKSB7XG4gICAgaWYgKHRoaXMuX2V4aXRDYWxsYmFjaykge1xuICAgICAgdGhpcy5fZXhpdENhbGxiYWNrKG5ldyBDb21tYW5kZXJFcnJvcihleGl0Q29kZSwgY29kZSwgbWVzc2FnZSkpO1xuICAgICAgLy8gRXhwZWN0aW5nIHRoaXMgbGluZSBpcyBub3QgcmVhY2hlZC5cbiAgICB9XG4gICAgcHJvY2Vzcy5leGl0KGV4aXRDb2RlKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVnaXN0ZXIgY2FsbGJhY2sgYGZuYCBmb3IgdGhlIGNvbW1hbmQuXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAgIHByb2dyYW1cbiAgICogICAgICAgIC5jb21tYW5kKCdoZWxwJylcbiAgICogICAgICAgIC5kZXNjcmlwdGlvbignZGlzcGxheSB2ZXJib3NlIGhlbHAnKVxuICAgKiAgICAgICAgLmFjdGlvbihmdW5jdGlvbigpIHtcbiAgICogICAgICAgICAgIC8vIG91dHB1dCBoZWxwIGhlcmVcbiAgICogICAgICAgIH0pO1xuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICAgKiBAcmV0dXJuIHtDb21tYW5kfSBgdGhpc2AgY29tbWFuZCBmb3IgY2hhaW5pbmdcbiAgICovXG5cbiAgYWN0aW9uKGZuKSB7XG4gICAgY29uc3QgbGlzdGVuZXIgPSAoYXJncykgPT4ge1xuICAgICAgLy8gVGhlIC5hY3Rpb24gY2FsbGJhY2sgdGFrZXMgYW4gZXh0cmEgcGFyYW1ldGVyIHdoaWNoIGlzIHRoZSBjb21tYW5kIG9yIG9wdGlvbnMuXG4gICAgICBjb25zdCBleHBlY3RlZEFyZ3NDb3VudCA9IHRoaXMuX2FyZ3MubGVuZ3RoO1xuICAgICAgY29uc3QgYWN0aW9uQXJncyA9IGFyZ3Muc2xpY2UoMCwgZXhwZWN0ZWRBcmdzQ291bnQpO1xuICAgICAgaWYgKHRoaXMuX3N0b3JlT3B0aW9uc0FzUHJvcGVydGllcykge1xuICAgICAgICBhY3Rpb25BcmdzW2V4cGVjdGVkQXJnc0NvdW50XSA9IHRoaXM7IC8vIGJhY2t3YXJkcyBjb21wYXRpYmxlIFwib3B0aW9uc1wiXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3Rpb25BcmdzW2V4cGVjdGVkQXJnc0NvdW50XSA9IHRoaXMub3B0cygpO1xuICAgICAgfVxuICAgICAgYWN0aW9uQXJncy5wdXNoKHRoaXMpO1xuXG4gICAgICBjb25zdCBhY3Rpb25SZXN1bHQgPSBmbi5hcHBseSh0aGlzLCBhY3Rpb25BcmdzKTtcbiAgICAgIC8vIFJlbWVtYmVyIHJlc3VsdCBpbiBjYXNlIGl0IGlzIGFzeW5jLiBBc3N1bWUgcGFyc2VBc3luYyBnZXR0aW5nIGNhbGxlZCBvbiByb290LlxuICAgICAgbGV0IHJvb3RDb21tYW5kID0gdGhpcztcbiAgICAgIHdoaWxlIChyb290Q29tbWFuZC5wYXJlbnQpIHtcbiAgICAgICAgcm9vdENvbW1hbmQgPSByb290Q29tbWFuZC5wYXJlbnQ7XG4gICAgICB9XG4gICAgICByb290Q29tbWFuZC5fYWN0aW9uUmVzdWx0cy5wdXNoKGFjdGlvblJlc3VsdCk7XG4gICAgfTtcbiAgICB0aGlzLl9hY3Rpb25IYW5kbGVyID0gbGlzdGVuZXI7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEZhY3Rvcnkgcm91dGluZSB0byBjcmVhdGUgYSBuZXcgdW5hdHRhY2hlZCBvcHRpb24uXG4gICAqXG4gICAqIFNlZSAub3B0aW9uKCkgZm9yIGNyZWF0aW5nIGFuIGF0dGFjaGVkIG9wdGlvbiwgd2hpY2ggdXNlcyB0aGlzIHJvdXRpbmUgdG9cbiAgICogY3JlYXRlIHRoZSBvcHRpb24uIFlvdSBjYW4gb3ZlcnJpZGUgY3JlYXRlT3B0aW9uIHRvIHJldHVybiBhIGN1c3RvbSBvcHRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmbGFnc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHtPcHRpb259IG5ldyBvcHRpb25cbiAgICovXG5cbiAgY3JlYXRlT3B0aW9uKGZsYWdzLCBkZXNjcmlwdGlvbikge1xuICAgIHJldHVybiBuZXcgT3B0aW9uKGZsYWdzLCBkZXNjcmlwdGlvbik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBvcHRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7T3B0aW9ufSBvcHRpb25cbiAgICogQHJldHVybiB7Q29tbWFuZH0gYHRoaXNgIGNvbW1hbmQgZm9yIGNoYWluaW5nXG4gICAqL1xuICBhZGRPcHRpb24ob3B0aW9uKSB7XG4gICAgY29uc3Qgb25hbWUgPSBvcHRpb24ubmFtZSgpO1xuICAgIGNvbnN0IG5hbWUgPSBvcHRpb24uYXR0cmlidXRlTmFtZSgpO1xuXG4gICAgbGV0IGRlZmF1bHRWYWx1ZSA9IG9wdGlvbi5kZWZhdWx0VmFsdWU7XG5cbiAgICAvLyBwcmVhc3NpZ24gZGVmYXVsdCB2YWx1ZSBmb3IgLS1uby0qLCBbb3B0aW9uYWxdLCA8cmVxdWlyZWQ+LCBvciBwbGFpbiBmbGFnIGlmIGJvb2xlYW4gdmFsdWVcbiAgICBpZiAob3B0aW9uLm5lZ2F0ZSB8fCBvcHRpb24ub3B0aW9uYWwgfHwgb3B0aW9uLnJlcXVpcmVkIHx8IHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09ICdib29sZWFuJykge1xuICAgICAgLy8gd2hlbiAtLW5vLWZvbyB3ZSBtYWtlIHN1cmUgZGVmYXVsdCBpcyB0cnVlLCB1bmxlc3MgYSAtLWZvbyBvcHRpb24gaXMgYWxyZWFkeSBkZWZpbmVkXG4gICAgICBpZiAob3B0aW9uLm5lZ2F0ZSkge1xuICAgICAgICBjb25zdCBwb3NpdGl2ZUxvbmdGbGFnID0gb3B0aW9uLmxvbmcucmVwbGFjZSgvXi0tbm8tLywgJy0tJyk7XG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9IHRoaXMuX2ZpbmRPcHRpb24ocG9zaXRpdmVMb25nRmxhZykgPyB0aGlzLl9nZXRPcHRpb25WYWx1ZShuYW1lKSA6IHRydWU7XG4gICAgICB9XG4gICAgICAvLyBwcmVhc3NpZ24gb25seSBpZiB3ZSBoYXZlIGEgZGVmYXVsdFxuICAgICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX3NldE9wdGlvblZhbHVlKG5hbWUsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gcmVnaXN0ZXIgdGhlIG9wdGlvblxuICAgIHRoaXMub3B0aW9ucy5wdXNoKG9wdGlvbik7XG5cbiAgICAvLyB3aGVuIGl0J3MgcGFzc2VkIGFzc2lnbiB0aGUgdmFsdWVcbiAgICAvLyBhbmQgY29uZGl0aW9uYWxseSBpbnZva2UgdGhlIGNhbGxiYWNrXG4gICAgdGhpcy5vbignb3B0aW9uOicgKyBvbmFtZSwgKHZhbCkgPT4ge1xuICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLl9nZXRPcHRpb25WYWx1ZShuYW1lKTtcblxuICAgICAgLy8gY3VzdG9tIHByb2Nlc3NpbmdcbiAgICAgIGlmICh2YWwgIT09IG51bGwgJiYgb3B0aW9uLnBhcnNlQXJnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFsID0gb3B0aW9uLnBhcnNlQXJnKHZhbCwgb2xkVmFsdWUgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IG9sZFZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaWYgKGVyci5jb2RlID09PSAnY29tbWFuZGVyLmludmFsaWRPcHRpb25Bcmd1bWVudCcpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgZXJyb3I6IG9wdGlvbiAnJHtvcHRpb24uZmxhZ3N9JyBhcmd1bWVudCAnJHt2YWx9JyBpcyBpbnZhbGlkLiAke2Vyci5tZXNzYWdlfWA7XG4gICAgICAgICAgICB0aGlzLl9kaXNwbGF5RXJyb3IoZXJyLmV4aXRDb2RlLCBlcnIuY29kZSwgbWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh2YWwgIT09IG51bGwgJiYgb3B0aW9uLnZhcmlhZGljKSB7XG4gICAgICAgIHZhbCA9IG9wdGlvbi5fY29uY2F0VmFsdWUodmFsLCBvbGRWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHVuYXNzaWduZWQgb3IgYm9vbGVhbiB2YWx1ZVxuICAgICAgaWYgKHR5cGVvZiBvbGRWYWx1ZSA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiBvbGRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gaWYgbm8gdmFsdWUsIG5lZ2F0ZSBmYWxzZSwgYW5kIHdlIGhhdmUgYSBkZWZhdWx0LCB0aGVuIHVzZSBpdCFcbiAgICAgICAgaWYgKHZhbCA9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5fc2V0T3B0aW9uVmFsdWUobmFtZSwgb3B0aW9uLm5lZ2F0ZVxuICAgICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgICAgOiBkZWZhdWx0VmFsdWUgfHwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fc2V0T3B0aW9uVmFsdWUobmFtZSwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh2YWwgIT09IG51bGwpIHtcbiAgICAgICAgLy8gcmVhc3NpZ25cbiAgICAgICAgdGhpcy5fc2V0T3B0aW9uVmFsdWUobmFtZSwgb3B0aW9uLm5lZ2F0ZSA/IGZhbHNlIDogdmFsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVybmFsIGltcGxlbWVudGF0aW9uIHNoYXJlZCBieSAub3B0aW9uKCkgYW5kIC5yZXF1aXJlZE9wdGlvbigpXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgX29wdGlvbkV4KGNvbmZpZywgZmxhZ3MsIGRlc2NyaXB0aW9uLCBmbiwgZGVmYXVsdFZhbHVlKSB7XG4gICAgY29uc3Qgb3B0aW9uID0gdGhpcy5jcmVhdGVPcHRpb24oZmxhZ3MsIGRlc2NyaXB0aW9uKTtcbiAgICBvcHRpb24ubWFrZU9wdGlvbk1hbmRhdG9yeSghIWNvbmZpZy5tYW5kYXRvcnkpO1xuICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG9wdGlvbi5kZWZhdWx0KGRlZmF1bHRWYWx1ZSkuYXJnUGFyc2VyKGZuKTtcbiAgICB9IGVsc2UgaWYgKGZuIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAvLyBkZXByZWNhdGVkXG4gICAgICBjb25zdCByZWdleCA9IGZuO1xuICAgICAgZm4gPSAodmFsLCBkZWYpID0+IHtcbiAgICAgICAgY29uc3QgbSA9IHJlZ2V4LmV4ZWModmFsKTtcbiAgICAgICAgcmV0dXJuIG0gPyBtWzBdIDogZGVmO1xuICAgICAgfTtcbiAgICAgIG9wdGlvbi5kZWZhdWx0KGRlZmF1bHRWYWx1ZSkuYXJnUGFyc2VyKGZuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9uLmRlZmF1bHQoZm4pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmFkZE9wdGlvbihvcHRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlZmluZSBvcHRpb24gd2l0aCBgZmxhZ3NgLCBgZGVzY3JpcHRpb25gIGFuZCBvcHRpb25hbFxuICAgKiBjb2VyY2lvbiBgZm5gLlxuICAgKlxuICAgKiBUaGUgYGZsYWdzYCBzdHJpbmcgY29udGFpbnMgdGhlIHNob3J0IGFuZC9vciBsb25nIGZsYWdzLFxuICAgKiBzZXBhcmF0ZWQgYnkgY29tbWEsIGEgcGlwZSBvciBzcGFjZS4gVGhlIGZvbGxvd2luZyBhcmUgYWxsIHZhbGlkXG4gICAqIGFsbCB3aWxsIG91dHB1dCB0aGlzIHdheSB3aGVuIGAtLWhlbHBgIGlzIHVzZWQuXG4gICAqXG4gICAqICAgIFwiLXAsIC0tcGVwcGVyXCJcbiAgICogICAgXCItcHwtLXBlcHBlclwiXG4gICAqICAgIFwiLXAgLS1wZXBwZXJcIlxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgIC8vIHNpbXBsZSBib29sZWFuIGRlZmF1bHRpbmcgdG8gdW5kZWZpbmVkXG4gICAqICAgICBwcm9ncmFtLm9wdGlvbignLXAsIC0tcGVwcGVyJywgJ2FkZCBwZXBwZXInKTtcbiAgICpcbiAgICogICAgIHByb2dyYW0ucGVwcGVyXG4gICAqICAgICAvLyA9PiB1bmRlZmluZWRcbiAgICpcbiAgICogICAgIC0tcGVwcGVyXG4gICAqICAgICBwcm9ncmFtLnBlcHBlclxuICAgKiAgICAgLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiAgICAgLy8gc2ltcGxlIGJvb2xlYW4gZGVmYXVsdGluZyB0byB0cnVlICh1bmxlc3Mgbm9uLW5lZ2F0ZWQgb3B0aW9uIGlzIGFsc28gZGVmaW5lZClcbiAgICogICAgIHByb2dyYW0ub3B0aW9uKCctQywgLS1uby1jaGVlc2UnLCAncmVtb3ZlIGNoZWVzZScpO1xuICAgKlxuICAgKiAgICAgcHJvZ3JhbS5jaGVlc2VcbiAgICogICAgIC8vID0+IHRydWVcbiAgICpcbiAgICogICAgIC0tbm8tY2hlZXNlXG4gICAqICAgICBwcm9ncmFtLmNoZWVzZVxuICAgKiAgICAgLy8gPT4gZmFsc2VcbiAgICpcbiAgICogICAgIC8vIHJlcXVpcmVkIGFyZ3VtZW50XG4gICAqICAgICBwcm9ncmFtLm9wdGlvbignLUMsIC0tY2hkaXIgPHBhdGg+JywgJ2NoYW5nZSB0aGUgd29ya2luZyBkaXJlY3RvcnknKTtcbiAgICpcbiAgICogICAgIC0tY2hkaXIgL3RtcFxuICAgKiAgICAgcHJvZ3JhbS5jaGRpclxuICAgKiAgICAgLy8gPT4gXCIvdG1wXCJcbiAgICpcbiAgICogICAgIC8vIG9wdGlvbmFsIGFyZ3VtZW50XG4gICAqICAgICBwcm9ncmFtLm9wdGlvbignLWMsIC0tY2hlZXNlIFt0eXBlXScsICdhZGQgY2hlZXNlIFttYXJibGVdJyk7XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmbGFnc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Rlc2NyaXB0aW9uXVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufCp9IFtmbl0gLSBjdXN0b20gb3B0aW9uIHByb2Nlc3NpbmcgZnVuY3Rpb24gb3IgZGVmYXVsdCB2YWx1ZVxuICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdXG4gICAqIEByZXR1cm4ge0NvbW1hbmR9IGB0aGlzYCBjb21tYW5kIGZvciBjaGFpbmluZ1xuICAgKi9cblxuICBvcHRpb24oZmxhZ3MsIGRlc2NyaXB0aW9uLCBmbiwgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX29wdGlvbkV4KHt9LCBmbGFncywgZGVzY3JpcHRpb24sIGZuLCBkZWZhdWx0VmFsdWUpO1xuICB9O1xuXG4gIC8qKlxuICAqIEFkZCBhIHJlcXVpcmVkIG9wdGlvbiB3aGljaCBtdXN0IGhhdmUgYSB2YWx1ZSBhZnRlciBwYXJzaW5nLiBUaGlzIHVzdWFsbHkgbWVhbnNcbiAgKiB0aGUgb3B0aW9uIG11c3QgYmUgc3BlY2lmaWVkIG9uIHRoZSBjb21tYW5kIGxpbmUuIChPdGhlcndpc2UgdGhlIHNhbWUgYXMgLm9wdGlvbigpLilcbiAgKlxuICAqIFRoZSBgZmxhZ3NgIHN0cmluZyBjb250YWlucyB0aGUgc2hvcnQgYW5kL29yIGxvbmcgZmxhZ3MsIHNlcGFyYXRlZCBieSBjb21tYSwgYSBwaXBlIG9yIHNwYWNlLlxuICAqXG4gICogQHBhcmFtIHtzdHJpbmd9IGZsYWdzXG4gICogQHBhcmFtIHtzdHJpbmd9IFtkZXNjcmlwdGlvbl1cbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufCp9IFtmbl0gLSBjdXN0b20gb3B0aW9uIHByb2Nlc3NpbmcgZnVuY3Rpb24gb3IgZGVmYXVsdCB2YWx1ZVxuICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV1cbiAgKiBAcmV0dXJuIHtDb21tYW5kfSBgdGhpc2AgY29tbWFuZCBmb3IgY2hhaW5pbmdcbiAgKi9cblxuICByZXF1aXJlZE9wdGlvbihmbGFncywgZGVzY3JpcHRpb24sIGZuLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5fb3B0aW9uRXgoeyBtYW5kYXRvcnk6IHRydWUgfSwgZmxhZ3MsIGRlc2NyaXB0aW9uLCBmbiwgZGVmYXVsdFZhbHVlKTtcbiAgfTtcblxuICAvKipcbiAgICogQWx0ZXIgcGFyc2luZyBvZiBzaG9ydCBmbGFncyB3aXRoIG9wdGlvbmFsIHZhbHVlcy5cbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIC8vIGZvciBgLm9wdGlvbignLWYsLS1mbGFnIFt2YWx1ZV0nKTpcbiAgICogICAgLmNvbWJpbmVGbGFnQW5kT3B0aW9uYWxWYWx1ZSh0cnVlKSAgLy8gYC1mODBgIGlzIHRyZWF0ZWQgbGlrZSBgLS1mbGFnPTgwYCwgdGhpcyBpcyB0aGUgZGVmYXVsdCBiZWhhdmlvdXJcbiAgICogICAgLmNvbWJpbmVGbGFnQW5kT3B0aW9uYWxWYWx1ZShmYWxzZSkgLy8gYC1mYmAgaXMgdHJlYXRlZCBsaWtlIGAtZiAtYmBcbiAgICpcbiAgICogQHBhcmFtIHtCb29sZWFufSBbY29tYmluZT10cnVlXSAtIGlmIGB0cnVlYCBvciBvbWl0dGVkLCBhbiBvcHRpb25hbCB2YWx1ZSBjYW4gYmUgc3BlY2lmaWVkIGRpcmVjdGx5IGFmdGVyIHRoZSBmbGFnLlxuICAgKi9cbiAgY29tYmluZUZsYWdBbmRPcHRpb25hbFZhbHVlKGNvbWJpbmUgPSB0cnVlKSB7XG4gICAgdGhpcy5fY29tYmluZUZsYWdBbmRPcHRpb25hbFZhbHVlID0gISFjb21iaW5lO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBbGxvdyB1bmtub3duIG9wdGlvbnMgb24gdGhlIGNvbW1hbmQgbGluZS5cbiAgICpcbiAgICogQHBhcmFtIHtCb29sZWFufSBbYWxsb3dVbmtub3duPXRydWVdIC0gaWYgYHRydWVgIG9yIG9taXR0ZWQsIG5vIGVycm9yIHdpbGwgYmUgdGhyb3duXG4gICAqIGZvciB1bmtub3duIG9wdGlvbnMuXG4gICAqL1xuICBhbGxvd1Vua25vd25PcHRpb24oYWxsb3dVbmtub3duID0gdHJ1ZSkge1xuICAgIHRoaXMuX2FsbG93VW5rbm93bk9wdGlvbiA9ICEhYWxsb3dVbmtub3duO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBbGxvdyBleGNlc3MgY29tbWFuZC1hcmd1bWVudHMgb24gdGhlIGNvbW1hbmQgbGluZS4gUGFzcyBmYWxzZSB0byBtYWtlIGV4Y2VzcyBhcmd1bWVudHMgYW4gZXJyb3IuXG4gICAqXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FsbG93RXhjZXNzPXRydWVdIC0gaWYgYHRydWVgIG9yIG9taXR0ZWQsIG5vIGVycm9yIHdpbGwgYmUgdGhyb3duXG4gICAqIGZvciBleGNlc3MgYXJndW1lbnRzLlxuICAgKi9cbiAgYWxsb3dFeGNlc3NBcmd1bWVudHMoYWxsb3dFeGNlc3MgPSB0cnVlKSB7XG4gICAgdGhpcy5fYWxsb3dFeGNlc3NBcmd1bWVudHMgPSAhIWFsbG93RXhjZXNzO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBFbmFibGUgcG9zaXRpb25hbCBvcHRpb25zLiBQb3NpdGlvbmFsIG1lYW5zIGdsb2JhbCBvcHRpb25zIGFyZSBzcGVjaWZpZWQgYmVmb3JlIHN1YmNvbW1hbmRzIHdoaWNoIGxldHNcbiAgICogc3ViY29tbWFuZHMgcmV1c2UgdGhlIHNhbWUgb3B0aW9uIG5hbWVzLCBhbmQgYWxzbyBlbmFibGVzIHN1YmNvbW1hbmRzIHRvIHR1cm4gb24gcGFzc1Rocm91Z2hPcHRpb25zLlxuICAgKiBUaGUgZGVmYXVsdCBiZWhhdmlvdXIgaXMgbm9uLXBvc2l0aW9uYWwgYW5kIGdsb2JhbCBvcHRpb25zIG1heSBhcHBlYXIgYW55d2hlcmUgb24gdGhlIGNvbW1hbmQgbGluZS5cbiAgICpcbiAgICogQHBhcmFtIHtCb29sZWFufSBbcG9zaXRpb25hbD10cnVlXVxuICAgKi9cbiAgZW5hYmxlUG9zaXRpb25hbE9wdGlvbnMocG9zaXRpb25hbCA9IHRydWUpIHtcbiAgICB0aGlzLl9lbmFibGVQb3NpdGlvbmFsT3B0aW9ucyA9ICEhcG9zaXRpb25hbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogUGFzcyB0aHJvdWdoIG9wdGlvbnMgdGhhdCBjb21lIGFmdGVyIGNvbW1hbmQtYXJndW1lbnRzIHJhdGhlciB0aGFuIHRyZWF0IHRoZW0gYXMgY29tbWFuZC1vcHRpb25zLFxuICAgKiBzbyBhY3R1YWwgY29tbWFuZC1vcHRpb25zIGNvbWUgYmVmb3JlIGNvbW1hbmQtYXJndW1lbnRzLiBUdXJuaW5nIHRoaXMgb24gZm9yIGEgc3ViY29tbWFuZCByZXF1aXJlc1xuICAgKiBwb3NpdGlvbmFsIG9wdGlvbnMgdG8gaGF2ZSBiZWVuIGVuYWJsZWQgb24gdGhlIHByb2dyYW0gKHBhcmVudCBjb21tYW5kcykuXG4gICAqIFRoZSBkZWZhdWx0IGJlaGF2aW91ciBpcyBub24tcG9zaXRpb25hbCBhbmQgb3B0aW9ucyBtYXkgYXBwZWFyIGJlZm9yZSBvciBhZnRlciBjb21tYW5kLWFyZ3VtZW50cy5cbiAgICpcbiAgICogQHBhcmFtIHtCb29sZWFufSBbcGFzc1Rocm91Z2g9dHJ1ZV1cbiAgICogZm9yIHVua25vd24gb3B0aW9ucy5cbiAgICovXG4gIHBhc3NUaHJvdWdoT3B0aW9ucyhwYXNzVGhyb3VnaCA9IHRydWUpIHtcbiAgICB0aGlzLl9wYXNzVGhyb3VnaE9wdGlvbnMgPSAhIXBhc3NUaHJvdWdoO1xuICAgIGlmICghIXRoaXMucGFyZW50ICYmIHBhc3NUaHJvdWdoICYmICF0aGlzLnBhcmVudC5fZW5hYmxlUG9zaXRpb25hbE9wdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncGFzc1Rocm91Z2hPcHRpb25zIGNhbiBub3QgYmUgdXNlZCB3aXRob3V0IHR1cm5pbmcgb24gZW5hYmxlUG9zaXRpb25hbE9wdGlvbnMgZm9yIHBhcmVudCBjb21tYW5kKHMpJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgICogV2hldGhlciB0byBzdG9yZSBvcHRpb24gdmFsdWVzIGFzIHByb3BlcnRpZXMgb24gY29tbWFuZCBvYmplY3QsXG4gICAgKiBvciBzdG9yZSBzZXBhcmF0ZWx5IChzcGVjaWZ5IGZhbHNlKS4gSW4gYm90aCBjYXNlcyB0aGUgb3B0aW9uIHZhbHVlcyBjYW4gYmUgYWNjZXNzZWQgdXNpbmcgLm9wdHMoKS5cbiAgICAqXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdG9yZUFzUHJvcGVydGllcz10cnVlXVxuICAgICogQHJldHVybiB7Q29tbWFuZH0gYHRoaXNgIGNvbW1hbmQgZm9yIGNoYWluaW5nXG4gICAgKi9cblxuICBzdG9yZU9wdGlvbnNBc1Byb3BlcnRpZXMoc3RvcmVBc1Byb3BlcnRpZXMgPSB0cnVlKSB7XG4gICAgdGhpcy5fc3RvcmVPcHRpb25zQXNQcm9wZXJ0aWVzID0gISFzdG9yZUFzUHJvcGVydGllcztcbiAgICBpZiAodGhpcy5vcHRpb25zLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYWxsIC5zdG9yZU9wdGlvbnNBc1Byb3BlcnRpZXMoKSBiZWZvcmUgYWRkaW5nIG9wdGlvbnMnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3JlIG9wdGlvbiB2YWx1ZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgX3NldE9wdGlvblZhbHVlKGtleSwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5fc3RvcmVPcHRpb25zQXNQcm9wZXJ0aWVzKSB7XG4gICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fb3B0aW9uVmFsdWVzW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIG9wdGlvbiB2YWx1ZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gICAqIEByZXR1cm4ge09iamVjdH0gdmFsdWVcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIF9nZXRPcHRpb25WYWx1ZShrZXkpIHtcbiAgICBpZiAodGhpcy5fc3RvcmVPcHRpb25zQXNQcm9wZXJ0aWVzKSB7XG4gICAgICByZXR1cm4gdGhpc1trZXldO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fb3B0aW9uVmFsdWVzW2tleV07XG4gIH07XG5cbiAgLyoqXG4gICAqIFBhcnNlIGBhcmd2YCwgc2V0dGluZyBvcHRpb25zIGFuZCBpbnZva2luZyBjb21tYW5kcyB3aGVuIGRlZmluZWQuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IGV4cGVjdGF0aW9uIGlzIHRoYXQgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBub2RlIGFuZCBoYXZlIHRoZSBhcHBsaWNhdGlvbiBhcyBhcmd2WzBdXG4gICAqIGFuZCB0aGUgc2NyaXB0IGJlaW5nIHJ1biBpbiBhcmd2WzFdLCB3aXRoIHVzZXIgcGFyYW1ldGVycyBhZnRlciB0aGF0LlxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgICBwcm9ncmFtLnBhcnNlKHByb2Nlc3MuYXJndik7XG4gICAqICAgICAgcHJvZ3JhbS5wYXJzZSgpOyAvLyBpbXBsaWNpdGx5IHVzZSBwcm9jZXNzLmFyZ3YgYW5kIGF1dG8tZGV0ZWN0IG5vZGUgdnMgZWxlY3Ryb24gY29udmVudGlvbnNcbiAgICogICAgICBwcm9ncmFtLnBhcnNlKG15LWFyZ3MsIHsgZnJvbTogJ3VzZXInIH0pOyAvLyBqdXN0IHVzZXIgc3VwcGxpZWQgYXJndW1lbnRzLCBub3RoaW5nIHNwZWNpYWwgYWJvdXQgYXJndlswXVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbYXJndl0gLSBvcHRpb25hbCwgZGVmYXVsdHMgdG8gcHJvY2Vzcy5hcmd2XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyc2VPcHRpb25zXSAtIG9wdGlvbmFsbHkgc3BlY2lmeSBzdHlsZSBvZiBvcHRpb25zIHdpdGggZnJvbTogbm9kZS91c2VyL2VsZWN0cm9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFyc2VPcHRpb25zLmZyb21dIC0gd2hlcmUgdGhlIGFyZ3MgYXJlIGZyb206ICdub2RlJywgJ3VzZXInLCAnZWxlY3Ryb24nXG4gICAqIEByZXR1cm4ge0NvbW1hbmR9IGB0aGlzYCBjb21tYW5kIGZvciBjaGFpbmluZ1xuICAgKi9cblxuICBwYXJzZShhcmd2LCBwYXJzZU9wdGlvbnMpIHtcbiAgICBpZiAoYXJndiAhPT0gdW5kZWZpbmVkICYmICFBcnJheS5pc0FycmF5KGFyZ3YpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZpcnN0IHBhcmFtZXRlciB0byBwYXJzZSBtdXN0IGJlIGFycmF5IG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cbiAgICBwYXJzZU9wdGlvbnMgPSBwYXJzZU9wdGlvbnMgfHwge307XG5cbiAgICAvLyBEZWZhdWx0IHRvIHVzaW5nIHByb2Nlc3MuYXJndlxuICAgIGlmIChhcmd2ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGFyZ3YgPSBwcm9jZXNzLmFyZ3Y7XG4gICAgICAvLyBAdHMtaWdub3JlOiB1bmtub3duIHByb3BlcnR5XG4gICAgICBpZiAocHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLmVsZWN0cm9uKSB7XG4gICAgICAgIHBhcnNlT3B0aW9ucy5mcm9tID0gJ2VsZWN0cm9uJztcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5yYXdBcmdzID0gYXJndi5zbGljZSgpO1xuXG4gICAgLy8gbWFrZSBpdCBhIGxpdHRsZSBlYXNpZXIgZm9yIGNhbGxlcnMgYnkgc3VwcG9ydGluZyB2YXJpb3VzIGFyZ3YgY29udmVudGlvbnNcbiAgICBsZXQgdXNlckFyZ3M7XG4gICAgc3dpdGNoIChwYXJzZU9wdGlvbnMuZnJvbSkge1xuICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICBjYXNlICdub2RlJzpcbiAgICAgICAgdGhpcy5fc2NyaXB0UGF0aCA9IGFyZ3ZbMV07XG4gICAgICAgIHVzZXJBcmdzID0gYXJndi5zbGljZSgyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdlbGVjdHJvbic6XG4gICAgICAgIC8vIEB0cy1pZ25vcmU6IHVua25vd24gcHJvcGVydHlcbiAgICAgICAgaWYgKHByb2Nlc3MuZGVmYXVsdEFwcCkge1xuICAgICAgICAgIHRoaXMuX3NjcmlwdFBhdGggPSBhcmd2WzFdO1xuICAgICAgICAgIHVzZXJBcmdzID0gYXJndi5zbGljZSgyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1c2VyQXJncyA9IGFyZ3Yuc2xpY2UoMSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd1c2VyJzpcbiAgICAgICAgdXNlckFyZ3MgPSBhcmd2LnNsaWNlKDApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5leHBlY3RlZCBwYXJzZSBvcHRpb24geyBmcm9tOiAnJHtwYXJzZU9wdGlvbnMuZnJvbX0nIH1gKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLl9zY3JpcHRQYXRoICYmIHJlcXVpcmUubWFpbikge1xuICAgICAgdGhpcy5fc2NyaXB0UGF0aCA9IHJlcXVpcmUubWFpbi5maWxlbmFtZTtcbiAgICB9XG5cbiAgICAvLyBHdWVzcyBuYW1lLCB1c2VkIGluIHVzYWdlIGluIGhlbHAuXG4gICAgdGhpcy5fbmFtZSA9IHRoaXMuX25hbWUgfHwgKHRoaXMuX3NjcmlwdFBhdGggJiYgcGF0aC5iYXNlbmFtZSh0aGlzLl9zY3JpcHRQYXRoLCBwYXRoLmV4dG5hbWUodGhpcy5fc2NyaXB0UGF0aCkpKTtcblxuICAgIC8vIExldCdzIGdvIVxuICAgIHRoaXMuX3BhcnNlQ29tbWFuZChbXSwgdXNlckFyZ3MpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBhcnNlIGBhcmd2YCwgc2V0dGluZyBvcHRpb25zIGFuZCBpbnZva2luZyBjb21tYW5kcyB3aGVuIGRlZmluZWQuXG4gICAqXG4gICAqIFVzZSBwYXJzZUFzeW5jIGluc3RlYWQgb2YgcGFyc2UgaWYgYW55IG9mIHlvdXIgYWN0aW9uIGhhbmRsZXJzIGFyZSBhc3luYy4gUmV0dXJucyBhIFByb21pc2UuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IGV4cGVjdGF0aW9uIGlzIHRoYXQgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBub2RlIGFuZCBoYXZlIHRoZSBhcHBsaWNhdGlvbiBhcyBhcmd2WzBdXG4gICAqIGFuZCB0aGUgc2NyaXB0IGJlaW5nIHJ1biBpbiBhcmd2WzFdLCB3aXRoIHVzZXIgcGFyYW1ldGVycyBhZnRlciB0aGF0LlxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgICBwcm9ncmFtLnBhcnNlQXN5bmMocHJvY2Vzcy5hcmd2KTtcbiAgICogICAgICBwcm9ncmFtLnBhcnNlQXN5bmMoKTsgLy8gaW1wbGljaXRseSB1c2UgcHJvY2Vzcy5hcmd2IGFuZCBhdXRvLWRldGVjdCBub2RlIHZzIGVsZWN0cm9uIGNvbnZlbnRpb25zXG4gICAqICAgICAgcHJvZ3JhbS5wYXJzZUFzeW5jKG15LWFyZ3MsIHsgZnJvbTogJ3VzZXInIH0pOyAvLyBqdXN0IHVzZXIgc3VwcGxpZWQgYXJndW1lbnRzLCBub3RoaW5nIHNwZWNpYWwgYWJvdXQgYXJndlswXVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbYXJndl1cbiAgICogQHBhcmFtIHtPYmplY3R9IFtwYXJzZU9wdGlvbnNdXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJzZU9wdGlvbnMuZnJvbSAtIHdoZXJlIHRoZSBhcmdzIGFyZSBmcm9tOiAnbm9kZScsICd1c2VyJywgJ2VsZWN0cm9uJ1xuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cblxuICBwYXJzZUFzeW5jKGFyZ3YsIHBhcnNlT3B0aW9ucykge1xuICAgIHRoaXMucGFyc2UoYXJndiwgcGFyc2VPcHRpb25zKTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwodGhpcy5fYWN0aW9uUmVzdWx0cykudGhlbigoKSA9PiB0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogRXhlY3V0ZSBhIHN1Yi1jb21tYW5kIGV4ZWN1dGFibGUuXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBfZXhlY3V0ZVN1YkNvbW1hbmQoc3ViY29tbWFuZCwgYXJncykge1xuICAgIGFyZ3MgPSBhcmdzLnNsaWNlKCk7XG4gICAgbGV0IGxhdW5jaFdpdGhOb2RlID0gZmFsc2U7IC8vIFVzZSBub2RlIGZvciBzb3VyY2UgdGFyZ2V0cyBzbyBkbyBub3QgbmVlZCB0byBnZXQgcGVybWlzc2lvbnMgY29ycmVjdCwgYW5kIG9uIFdpbmRvd3MuXG4gICAgY29uc3Qgc291cmNlRXh0ID0gWycuanMnLCAnLnRzJywgJy50c3gnLCAnLm1qcycsICcuY2pzJ107XG5cbiAgICAvLyBOb3QgY2hlY2tpbmcgZm9yIGhlbHAgZmlyc3QuIFVubGlrZWx5IHRvIGhhdmUgbWFuZGF0b3J5IGFuZCBleGVjdXRhYmxlLCBhbmQgY2FuJ3Qgcm9idXN0bHkgdGVzdCBmb3IgaGVscCBmbGFncyBpbiBleHRlcm5hbCBjb21tYW5kLlxuICAgIHRoaXMuX2NoZWNrRm9yTWlzc2luZ01hbmRhdG9yeU9wdGlvbnMoKTtcblxuICAgIC8vIFdhbnQgdGhlIGVudHJ5IHNjcmlwdCBhcyB0aGUgcmVmZXJlbmNlIGZvciBjb21tYW5kIG5hbWUgYW5kIGRpcmVjdG9yeSBmb3Igc2VhcmNoaW5nIGZvciBvdGhlciBmaWxlcy5cbiAgICBsZXQgc2NyaXB0UGF0aCA9IHRoaXMuX3NjcmlwdFBhdGg7XG4gICAgLy8gRmFsbGJhY2sgaW4gY2FzZSBub3Qgc2V0LCBkdWUgdG8gaG93IENvbW1hbmQgY3JlYXRlZCBvciBjYWxsZWQuXG4gICAgaWYgKCFzY3JpcHRQYXRoICYmIHJlcXVpcmUubWFpbikge1xuICAgICAgc2NyaXB0UGF0aCA9IHJlcXVpcmUubWFpbi5maWxlbmFtZTtcbiAgICB9XG5cbiAgICBsZXQgYmFzZURpcjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzb2x2ZWRMaW5rID0gZnMucmVhbHBhdGhTeW5jKHNjcmlwdFBhdGgpO1xuICAgICAgYmFzZURpciA9IHBhdGguZGlybmFtZShyZXNvbHZlZExpbmspO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGJhc2VEaXIgPSAnLic7IC8vIGR1bW15LCBwcm9iYWJseSBub3QgZ29pbmcgdG8gZmluZCBleGVjdXRhYmxlIVxuICAgIH1cblxuICAgIC8vIG5hbWUgb2YgdGhlIHN1YmNvbW1hbmQsIGxpa2UgYHBtLWluc3RhbGxgXG4gICAgbGV0IGJpbiA9IHBhdGguYmFzZW5hbWUoc2NyaXB0UGF0aCwgcGF0aC5leHRuYW1lKHNjcmlwdFBhdGgpKSArICctJyArIHN1YmNvbW1hbmQuX25hbWU7XG4gICAgaWYgKHN1YmNvbW1hbmQuX2V4ZWN1dGFibGVGaWxlKSB7XG4gICAgICBiaW4gPSBzdWJjb21tYW5kLl9leGVjdXRhYmxlRmlsZTtcbiAgICB9XG5cbiAgICBjb25zdCBsb2NhbEJpbiA9IHBhdGguam9pbihiYXNlRGlyLCBiaW4pO1xuICAgIGlmIChmcy5leGlzdHNTeW5jKGxvY2FsQmluKSkge1xuICAgICAgLy8gcHJlZmVyIGxvY2FsIGAuLzxiaW4+YCB0byBiaW4gaW4gdGhlICRQQVRIXG4gICAgICBiaW4gPSBsb2NhbEJpbjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTG9vayBmb3Igc291cmNlIGZpbGVzLlxuICAgICAgc291cmNlRXh0LmZvckVhY2goKGV4dCkgPT4ge1xuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhgJHtsb2NhbEJpbn0ke2V4dH1gKSkge1xuICAgICAgICAgIGJpbiA9IGAke2xvY2FsQmlufSR7ZXh0fWA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBsYXVuY2hXaXRoTm9kZSA9IHNvdXJjZUV4dC5pbmNsdWRlcyhwYXRoLmV4dG5hbWUoYmluKSk7XG5cbiAgICBsZXQgcHJvYztcbiAgICBpZiAocHJvY2Vzcy5wbGF0Zm9ybSAhPT0gJ3dpbjMyJykge1xuICAgICAgaWYgKGxhdW5jaFdpdGhOb2RlKSB7XG4gICAgICAgIGFyZ3MudW5zaGlmdChiaW4pO1xuICAgICAgICAvLyBhZGQgZXhlY3V0YWJsZSBhcmd1bWVudHMgdG8gc3Bhd25cbiAgICAgICAgYXJncyA9IGluY3JlbWVudE5vZGVJbnNwZWN0b3JQb3J0KHByb2Nlc3MuZXhlY0FyZ3YpLmNvbmNhdChhcmdzKTtcblxuICAgICAgICBwcm9jID0gY2hpbGRQcm9jZXNzLnNwYXduKHByb2Nlc3MuYXJndlswXSwgYXJncywgeyBzdGRpbzogJ2luaGVyaXQnIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvYyA9IGNoaWxkUHJvY2Vzcy5zcGF3bihiaW4sIGFyZ3MsIHsgc3RkaW86ICdpbmhlcml0JyB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYXJncy51bnNoaWZ0KGJpbik7XG4gICAgICAvLyBhZGQgZXhlY3V0YWJsZSBhcmd1bWVudHMgdG8gc3Bhd25cbiAgICAgIGFyZ3MgPSBpbmNyZW1lbnROb2RlSW5zcGVjdG9yUG9ydChwcm9jZXNzLmV4ZWNBcmd2KS5jb25jYXQoYXJncyk7XG4gICAgICBwcm9jID0gY2hpbGRQcm9jZXNzLnNwYXduKHByb2Nlc3MuZXhlY1BhdGgsIGFyZ3MsIHsgc3RkaW86ICdpbmhlcml0JyB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBzaWduYWxzID0gWydTSUdVU1IxJywgJ1NJR1VTUjInLCAnU0lHVEVSTScsICdTSUdJTlQnLCAnU0lHSFVQJ107XG4gICAgc2lnbmFscy5mb3JFYWNoKChzaWduYWwpID0+IHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHByb2Nlc3Mub24oc2lnbmFsLCAoKSA9PiB7XG4gICAgICAgIGlmIChwcm9jLmtpbGxlZCA9PT0gZmFsc2UgJiYgcHJvYy5leGl0Q29kZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHByb2Mua2lsbChzaWduYWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIEJ5IGRlZmF1bHQgdGVybWluYXRlIHByb2Nlc3Mgd2hlbiBzcGF3bmVkIHByb2Nlc3MgdGVybWluYXRlcy5cbiAgICAvLyBTdXBwcmVzc2luZyB0aGUgZXhpdCBpZiBleGl0Q2FsbGJhY2sgZGVmaW5lZCBpcyBhIGJpdCBtZXNzeSBhbmQgb2YgbGltaXRlZCB1c2UsIGJ1dCBkb2VzIGFsbG93IHByb2Nlc3MgdG8gc3RheSBydW5uaW5nIVxuICAgIGNvbnN0IGV4aXRDYWxsYmFjayA9IHRoaXMuX2V4aXRDYWxsYmFjaztcbiAgICBpZiAoIWV4aXRDYWxsYmFjaykge1xuICAgICAgcHJvYy5vbignY2xvc2UnLCBwcm9jZXNzLmV4aXQuYmluZChwcm9jZXNzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2Mub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICBleGl0Q2FsbGJhY2sobmV3IENvbW1hbmRlckVycm9yKHByb2Nlc3MuZXhpdENvZGUgfHwgMCwgJ2NvbW1hbmRlci5leGVjdXRlU3ViQ29tbWFuZEFzeW5jJywgJyhjbG9zZSknKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcHJvYy5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBpZiAoZXJyLmNvZGUgPT09ICdFTk9FTlQnKSB7XG4gICAgICAgIGNvbnN0IGV4ZWN1dGFibGVNaXNzaW5nID0gYCcke2Jpbn0nIGRvZXMgbm90IGV4aXN0XG4gLSBpZiAnJHtzdWJjb21tYW5kLl9uYW1lfScgaXMgbm90IG1lYW50IHRvIGJlIGFuIGV4ZWN1dGFibGUgY29tbWFuZCwgcmVtb3ZlIGRlc2NyaXB0aW9uIHBhcmFtZXRlciBmcm9tICcuY29tbWFuZCgpJyBhbmQgdXNlICcuZGVzY3JpcHRpb24oKScgaW5zdGVhZFxuIC0gaWYgdGhlIGRlZmF1bHQgZXhlY3V0YWJsZSBuYW1lIGlzIG5vdCBzdWl0YWJsZSwgdXNlIHRoZSBleGVjdXRhYmxlRmlsZSBvcHRpb24gdG8gc3VwcGx5IGEgY3VzdG9tIG5hbWVgO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXhlY3V0YWJsZU1pc3NpbmcpO1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgfSBlbHNlIGlmIChlcnIuY29kZSA9PT0gJ0VBQ0NFUycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAnJHtiaW59JyBub3QgZXhlY3V0YWJsZWApO1xuICAgICAgfVxuICAgICAgaWYgKCFleGl0Q2FsbGJhY2spIHtcbiAgICAgICAgcHJvY2Vzcy5leGl0KDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZEVycm9yID0gbmV3IENvbW1hbmRlckVycm9yKDEsICdjb21tYW5kZXIuZXhlY3V0ZVN1YkNvbW1hbmRBc3luYycsICcoZXJyb3IpJyk7XG4gICAgICAgIHdyYXBwZWRFcnJvci5uZXN0ZWRFcnJvciA9IGVycjtcbiAgICAgICAgZXhpdENhbGxiYWNrKHdyYXBwZWRFcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBTdG9yZSB0aGUgcmVmZXJlbmNlIHRvIHRoZSBjaGlsZCBwcm9jZXNzXG4gICAgdGhpcy5ydW5uaW5nQ29tbWFuZCA9IHByb2M7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgX2Rpc3BhdGNoU3ViY29tbWFuZChjb21tYW5kTmFtZSwgb3BlcmFuZHMsIHVua25vd24pIHtcbiAgICBjb25zdCBzdWJDb21tYW5kID0gdGhpcy5fZmluZENvbW1hbmQoY29tbWFuZE5hbWUpO1xuICAgIGlmICghc3ViQ29tbWFuZCkgdGhpcy5oZWxwKHsgZXJyb3I6IHRydWUgfSk7XG5cbiAgICBpZiAoc3ViQ29tbWFuZC5fZXhlY3V0YWJsZUhhbmRsZXIpIHtcbiAgICAgIHRoaXMuX2V4ZWN1dGVTdWJDb21tYW5kKHN1YkNvbW1hbmQsIG9wZXJhbmRzLmNvbmNhdCh1bmtub3duKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1YkNvbW1hbmQuX3BhcnNlQ29tbWFuZChvcGVyYW5kcywgdW5rbm93bik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBQcm9jZXNzIGFyZ3VtZW50cyBpbiBjb250ZXh0IG9mIHRoaXMgY29tbWFuZC5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIF9wYXJzZUNvbW1hbmQob3BlcmFuZHMsIHVua25vd24pIHtcbiAgICBjb25zdCBwYXJzZWQgPSB0aGlzLnBhcnNlT3B0aW9ucyh1bmtub3duKTtcbiAgICBvcGVyYW5kcyA9IG9wZXJhbmRzLmNvbmNhdChwYXJzZWQub3BlcmFuZHMpO1xuICAgIHVua25vd24gPSBwYXJzZWQudW5rbm93bjtcbiAgICB0aGlzLmFyZ3MgPSBvcGVyYW5kcy5jb25jYXQodW5rbm93bik7XG5cbiAgICBpZiAob3BlcmFuZHMgJiYgdGhpcy5fZmluZENvbW1hbmQob3BlcmFuZHNbMF0pKSB7XG4gICAgICB0aGlzLl9kaXNwYXRjaFN1YmNvbW1hbmQob3BlcmFuZHNbMF0sIG9wZXJhbmRzLnNsaWNlKDEpLCB1bmtub3duKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2hhc0ltcGxpY2l0SGVscENvbW1hbmQoKSAmJiBvcGVyYW5kc1swXSA9PT0gdGhpcy5faGVscENvbW1hbmROYW1lKSB7XG4gICAgICBpZiAob3BlcmFuZHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHRoaXMuaGVscCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2hTdWJjb21tYW5kKG9wZXJhbmRzWzFdLCBbXSwgW3RoaXMuX2hlbHBMb25nRmxhZ10pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5fZGVmYXVsdENvbW1hbmROYW1lKSB7XG4gICAgICBvdXRwdXRIZWxwSWZSZXF1ZXN0ZWQodGhpcywgdW5rbm93bik7IC8vIFJ1biB0aGUgaGVscCBmb3IgZGVmYXVsdCBjb21tYW5kIGZyb20gcGFyZW50IHJhdGhlciB0aGFuIHBhc3NpbmcgdG8gZGVmYXVsdCBjb21tYW5kXG4gICAgICB0aGlzLl9kaXNwYXRjaFN1YmNvbW1hbmQodGhpcy5fZGVmYXVsdENvbW1hbmROYW1lLCBvcGVyYW5kcywgdW5rbm93bik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmNvbW1hbmRzLmxlbmd0aCAmJiB0aGlzLmFyZ3MubGVuZ3RoID09PSAwICYmICF0aGlzLl9hY3Rpb25IYW5kbGVyICYmICF0aGlzLl9kZWZhdWx0Q29tbWFuZE5hbWUpIHtcbiAgICAgICAgLy8gcHJvYmFibHkgbWlzc2luZyBzdWJjb21tYW5kIGFuZCBubyBoYW5kbGVyLCB1c2VyIG5lZWRzIGhlbHBcbiAgICAgICAgdGhpcy5oZWxwKHsgZXJyb3I6IHRydWUgfSk7XG4gICAgICB9XG5cbiAgICAgIG91dHB1dEhlbHBJZlJlcXVlc3RlZCh0aGlzLCBwYXJzZWQudW5rbm93bik7XG4gICAgICB0aGlzLl9jaGVja0Zvck1pc3NpbmdNYW5kYXRvcnlPcHRpb25zKCk7XG5cbiAgICAgIC8vIFdlIGRvIG5vdCBhbHdheXMgY2FsbCB0aGlzIGNoZWNrIHRvIGF2b2lkIG1hc2tpbmcgYSBcImJldHRlclwiIGVycm9yLCBsaWtlIHVua25vd24gY29tbWFuZC5cbiAgICAgIGNvbnN0IGNoZWNrRm9yVW5rbm93bk9wdGlvbnMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChwYXJzZWQudW5rbm93bi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdGhpcy51bmtub3duT3B0aW9uKHBhcnNlZC51bmtub3duWzBdKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgY29tbWFuZEV2ZW50ID0gYGNvbW1hbmQ6JHt0aGlzLm5hbWUoKX1gO1xuICAgICAgaWYgKHRoaXMuX2FjdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgY2hlY2tGb3JVbmtub3duT3B0aW9ucygpO1xuICAgICAgICAvLyBDaGVjayBleHBlY3RlZCBhcmd1bWVudHMgYW5kIGNvbGxlY3QgdmFyaWFkaWMgdG9nZXRoZXIuXG4gICAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzLmFyZ3Muc2xpY2UoKTtcbiAgICAgICAgdGhpcy5fYXJncy5mb3JFYWNoKChhcmcsIGkpID0+IHtcbiAgICAgICAgICBpZiAoYXJnLnJlcXVpcmVkICYmIGFyZ3NbaV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5taXNzaW5nQXJndW1lbnQoYXJnLm5hbWUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYXJnLnZhcmlhZGljKSB7XG4gICAgICAgICAgICBhcmdzW2ldID0gYXJncy5zcGxpY2UoaSk7XG4gICAgICAgICAgICBhcmdzLmxlbmd0aCA9IE1hdGgubWluKGkgKyAxLCBhcmdzLmxlbmd0aCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gdGhpcy5fYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLl9leGNlc3NBcmd1bWVudHMoYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hY3Rpb25IYW5kbGVyKGFyZ3MpO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHRoaXMucGFyZW50LmVtaXQoY29tbWFuZEV2ZW50LCBvcGVyYW5kcywgdW5rbm93bik7IC8vIGxlZ2FjeVxuICAgICAgfSBlbHNlIGlmICh0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5saXN0ZW5lckNvdW50KGNvbW1hbmRFdmVudCkpIHtcbiAgICAgICAgY2hlY2tGb3JVbmtub3duT3B0aW9ucygpO1xuICAgICAgICB0aGlzLnBhcmVudC5lbWl0KGNvbW1hbmRFdmVudCwgb3BlcmFuZHMsIHVua25vd24pOyAvLyBsZWdhY3lcbiAgICAgIH0gZWxzZSBpZiAob3BlcmFuZHMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0aGlzLl9maW5kQ29tbWFuZCgnKicpKSB7IC8vIGxlZ2FjeSBkZWZhdWx0IGNvbW1hbmRcbiAgICAgICAgICB0aGlzLl9kaXNwYXRjaFN1YmNvbW1hbmQoJyonLCBvcGVyYW5kcywgdW5rbm93bik7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5saXN0ZW5lckNvdW50KCdjb21tYW5kOionKSkge1xuICAgICAgICAgIC8vIHNraXAgb3B0aW9uIGNoZWNrLCBlbWl0IGV2ZW50IGZvciBwb3NzaWJsZSBtaXNzcGVsbGluZyBzdWdnZXN0aW9uXG4gICAgICAgICAgdGhpcy5lbWl0KCdjb21tYW5kOionLCBvcGVyYW5kcywgdW5rbm93bik7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb21tYW5kcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLnVua25vd25Db21tYW5kKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hlY2tGb3JVbmtub3duT3B0aW9ucygpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY29tbWFuZHMubGVuZ3RoKSB7XG4gICAgICAgIC8vIFRoaXMgY29tbWFuZCBoYXMgc3ViY29tbWFuZHMgYW5kIG5vdGhpbmcgaG9va2VkIHVwIGF0IHRoaXMgbGV2ZWwsIHNvIGRpc3BsYXkgaGVscC5cbiAgICAgICAgdGhpcy5oZWxwKHsgZXJyb3I6IHRydWUgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja0ZvclVua25vd25PcHRpb25zKCk7XG4gICAgICAgIC8vIGZhbGwgdGhyb3VnaCBmb3IgY2FsbGVyIHRvIGhhbmRsZSBhZnRlciBjYWxsaW5nIC5wYXJzZSgpXG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBGaW5kIG1hdGNoaW5nIGNvbW1hbmQuXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgX2ZpbmRDb21tYW5kKG5hbWUpIHtcbiAgICBpZiAoIW5hbWUpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHRoaXMuY29tbWFuZHMuZmluZChjbWQgPT4gY21kLl9uYW1lID09PSBuYW1lIHx8IGNtZC5fYWxpYXNlcy5pbmNsdWRlcyhuYW1lKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhbiBvcHRpb24gbWF0Y2hpbmcgYGFyZ2AgaWYgYW55LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXJnXG4gICAqIEByZXR1cm4ge09wdGlvbn1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIF9maW5kT3B0aW9uKGFyZykge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZmluZChvcHRpb24gPT4gb3B0aW9uLmlzKGFyZykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5IGFuIGVycm9yIG1lc3NhZ2UgaWYgYSBtYW5kYXRvcnkgb3B0aW9uIGRvZXMgbm90IGhhdmUgYSB2YWx1ZS5cbiAgICogTGF6eSBjYWxsaW5nIGFmdGVyIGNoZWNraW5nIGZvciBoZWxwIGZsYWdzIGZyb20gbGVhZiBzdWJjb21tYW5kLlxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgX2NoZWNrRm9yTWlzc2luZ01hbmRhdG9yeU9wdGlvbnMoKSB7XG4gICAgLy8gV2FsayB1cCBoaWVyYXJjaHkgc28gY2FuIGNhbGwgaW4gc3ViY29tbWFuZCBhZnRlciBjaGVja2luZyBmb3IgZGlzcGxheWluZyBoZWxwLlxuICAgIGZvciAobGV0IGNtZCA9IHRoaXM7IGNtZDsgY21kID0gY21kLnBhcmVudCkge1xuICAgICAgY21kLm9wdGlvbnMuZm9yRWFjaCgoYW5PcHRpb24pID0+IHtcbiAgICAgICAgaWYgKGFuT3B0aW9uLm1hbmRhdG9yeSAmJiAoY21kLl9nZXRPcHRpb25WYWx1ZShhbk9wdGlvbi5hdHRyaWJ1dGVOYW1lKCkpID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgY21kLm1pc3NpbmdNYW5kYXRvcnlPcHRpb25WYWx1ZShhbk9wdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUGFyc2Ugb3B0aW9ucyBmcm9tIGBhcmd2YCByZW1vdmluZyBrbm93biBvcHRpb25zLFxuICAgKiBhbmQgcmV0dXJuIGFyZ3Ygc3BsaXQgaW50byBvcGVyYW5kcyBhbmQgdW5rbm93biBhcmd1bWVudHMuXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICBhcmd2ID0+IG9wZXJhbmRzLCB1bmtub3duXG4gICAqICAgIC0ta25vd24ga2trIG9wID0+IFtvcF0sIFtdXG4gICAqICAgIG9wIC0ta25vd24ga2trID0+IFtvcF0sIFtdXG4gICAqICAgIHN1YiAtLXVua25vd24gdXV1IG9wID0+IFtzdWJdLCBbLS11bmtub3duIHV1dSBvcF1cbiAgICogICAgc3ViIC0tIC0tdW5rbm93biB1dXUgb3AgPT4gW3N1YiAtLXVua25vd24gdXV1IG9wXSwgW11cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmdbXX0gYXJndlxuICAgKiBAcmV0dXJuIHt7b3BlcmFuZHM6IFN0cmluZ1tdLCB1bmtub3duOiBTdHJpbmdbXX19XG4gICAqL1xuXG4gIHBhcnNlT3B0aW9ucyhhcmd2KSB7XG4gICAgY29uc3Qgb3BlcmFuZHMgPSBbXTsgLy8gb3BlcmFuZHMsIG5vdCBvcHRpb25zIG9yIHZhbHVlc1xuICAgIGNvbnN0IHVua25vd24gPSBbXTsgLy8gZmlyc3QgdW5rbm93biBvcHRpb24gYW5kIHJlbWFpbmluZyB1bmtub3duIGFyZ3NcbiAgICBsZXQgZGVzdCA9IG9wZXJhbmRzO1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd2LnNsaWNlKCk7XG5cbiAgICBmdW5jdGlvbiBtYXliZU9wdGlvbihhcmcpIHtcbiAgICAgIHJldHVybiBhcmcubGVuZ3RoID4gMSAmJiBhcmdbMF0gPT09ICctJztcbiAgICB9XG5cbiAgICAvLyBwYXJzZSBvcHRpb25zXG4gICAgbGV0IGFjdGl2ZVZhcmlhZGljT3B0aW9uID0gbnVsbDtcbiAgICB3aGlsZSAoYXJncy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGFyZyA9IGFyZ3Muc2hpZnQoKTtcblxuICAgICAgLy8gbGl0ZXJhbFxuICAgICAgaWYgKGFyZyA9PT0gJy0tJykge1xuICAgICAgICBpZiAoZGVzdCA9PT0gdW5rbm93bikgZGVzdC5wdXNoKGFyZyk7XG4gICAgICAgIGRlc3QucHVzaCguLi5hcmdzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGlmIChhY3RpdmVWYXJpYWRpY09wdGlvbiAmJiAhbWF5YmVPcHRpb24oYXJnKSkge1xuICAgICAgICB0aGlzLmVtaXQoYG9wdGlvbjoke2FjdGl2ZVZhcmlhZGljT3B0aW9uLm5hbWUoKX1gLCBhcmcpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZVZhcmlhZGljT3B0aW9uID0gbnVsbDtcblxuICAgICAgaWYgKG1heWJlT3B0aW9uKGFyZykpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gdGhpcy5fZmluZE9wdGlvbihhcmcpO1xuICAgICAgICAvLyByZWNvZ25pc2VkIG9wdGlvbiwgY2FsbCBsaXN0ZW5lciB0byBhc3NpZ24gdmFsdWUgd2l0aCBwb3NzaWJsZSBjdXN0b20gcHJvY2Vzc2luZ1xuICAgICAgICBpZiAob3B0aW9uKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbi5yZXF1aXJlZCkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhcmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgdGhpcy5vcHRpb25NaXNzaW5nQXJndW1lbnQob3B0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChgb3B0aW9uOiR7b3B0aW9uLm5hbWUoKX1gLCB2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcHRpb24ub3B0aW9uYWwpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAvLyBoaXN0b3JpY2FsIGJlaGF2aW91ciBpcyBvcHRpb25hbCB2YWx1ZSBpcyBmb2xsb3dpbmcgYXJnIHVubGVzcyBhbiBvcHRpb25cbiAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDAgJiYgIW1heWJlT3B0aW9uKGFyZ3NbMF0pKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gYXJncy5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbWl0KGBvcHRpb246JHtvcHRpb24ubmFtZSgpfWAsIHZhbHVlKTtcbiAgICAgICAgICB9IGVsc2UgeyAvLyBib29sZWFuIGZsYWdcbiAgICAgICAgICAgIHRoaXMuZW1pdChgb3B0aW9uOiR7b3B0aW9uLm5hbWUoKX1gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWN0aXZlVmFyaWFkaWNPcHRpb24gPSBvcHRpb24udmFyaWFkaWMgPyBvcHRpb24gOiBudWxsO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIExvb2sgZm9yIGNvbWJvIG9wdGlvbnMgZm9sbG93aW5nIHNpbmdsZSBkYXNoLCBlYXQgZmlyc3Qgb25lIGlmIGtub3duLlxuICAgICAgaWYgKGFyZy5sZW5ndGggPiAyICYmIGFyZ1swXSA9PT0gJy0nICYmIGFyZ1sxXSAhPT0gJy0nKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHRoaXMuX2ZpbmRPcHRpb24oYC0ke2FyZ1sxXX1gKTtcbiAgICAgICAgaWYgKG9wdGlvbikge1xuICAgICAgICAgIGlmIChvcHRpb24ucmVxdWlyZWQgfHwgKG9wdGlvbi5vcHRpb25hbCAmJiB0aGlzLl9jb21iaW5lRmxhZ0FuZE9wdGlvbmFsVmFsdWUpKSB7XG4gICAgICAgICAgICAvLyBvcHRpb24gd2l0aCB2YWx1ZSBmb2xsb3dpbmcgaW4gc2FtZSBhcmd1bWVudFxuICAgICAgICAgICAgdGhpcy5lbWl0KGBvcHRpb246JHtvcHRpb24ubmFtZSgpfWAsIGFyZy5zbGljZSgyKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGJvb2xlYW4gb3B0aW9uLCBlbWl0IGFuZCBwdXQgYmFjayByZW1haW5kZXIgb2YgYXJnIGZvciBmdXJ0aGVyIHByb2Nlc3NpbmdcbiAgICAgICAgICAgIHRoaXMuZW1pdChgb3B0aW9uOiR7b3B0aW9uLm5hbWUoKX1gKTtcbiAgICAgICAgICAgIGFyZ3MudW5zaGlmdChgLSR7YXJnLnNsaWNlKDIpfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBMb29rIGZvciBrbm93biBsb25nIGZsYWcgd2l0aCB2YWx1ZSwgbGlrZSAtLWZvbz1iYXJcbiAgICAgIGlmICgvXi0tW149XSs9Ly50ZXN0KGFyZykpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBhcmcuaW5kZXhPZignPScpO1xuICAgICAgICBjb25zdCBvcHRpb24gPSB0aGlzLl9maW5kT3B0aW9uKGFyZy5zbGljZSgwLCBpbmRleCkpO1xuICAgICAgICBpZiAob3B0aW9uICYmIChvcHRpb24ucmVxdWlyZWQgfHwgb3B0aW9uLm9wdGlvbmFsKSkge1xuICAgICAgICAgIHRoaXMuZW1pdChgb3B0aW9uOiR7b3B0aW9uLm5hbWUoKX1gLCBhcmcuc2xpY2UoaW5kZXggKyAxKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gTm90IGEgcmVjb2duaXNlZCBvcHRpb24gYnkgdGhpcyBjb21tYW5kLlxuICAgICAgLy8gTWlnaHQgYmUgYSBjb21tYW5kLWFyZ3VtZW50LCBvciBzdWJjb21tYW5kIG9wdGlvbiwgb3IgdW5rbm93biBvcHRpb24sIG9yIGhlbHAgY29tbWFuZCBvciBvcHRpb24uXG5cbiAgICAgIC8vIEFuIHVua25vd24gb3B0aW9uIG1lYW5zIGZ1cnRoZXIgYXJndW1lbnRzIGFsc28gY2xhc3NpZmllZCBhcyB1bmtub3duIHNvIGNhbiBiZSByZXByb2Nlc3NlZCBieSBzdWJjb21tYW5kcy5cbiAgICAgIGlmIChtYXliZU9wdGlvbihhcmcpKSB7XG4gICAgICAgIGRlc3QgPSB1bmtub3duO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB1c2luZyBwb3NpdGlvbmFsT3B0aW9ucywgc3RvcCBwcm9jZXNzaW5nIG91ciBvcHRpb25zIGF0IHN1YmNvbW1hbmQuXG4gICAgICBpZiAoKHRoaXMuX2VuYWJsZVBvc2l0aW9uYWxPcHRpb25zIHx8IHRoaXMuX3Bhc3NUaHJvdWdoT3B0aW9ucykgJiYgb3BlcmFuZHMubGVuZ3RoID09PSAwICYmIHVua25vd24ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGlmICh0aGlzLl9maW5kQ29tbWFuZChhcmcpKSB7XG4gICAgICAgICAgb3BlcmFuZHMucHVzaChhcmcpO1xuICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDApIHVua25vd24ucHVzaCguLi5hcmdzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmIChhcmcgPT09IHRoaXMuX2hlbHBDb21tYW5kTmFtZSAmJiB0aGlzLl9oYXNJbXBsaWNpdEhlbHBDb21tYW5kKCkpIHtcbiAgICAgICAgICBvcGVyYW5kcy5wdXNoKGFyZyk7XG4gICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMCkgb3BlcmFuZHMucHVzaCguLi5hcmdzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9kZWZhdWx0Q29tbWFuZE5hbWUpIHtcbiAgICAgICAgICB1bmtub3duLnB1c2goYXJnKTtcbiAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAwKSB1bmtub3duLnB1c2goLi4uYXJncyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgdXNpbmcgcGFzc1Rocm91Z2hPcHRpb25zLCBzdG9wIHByb2Nlc3Npbmcgb3B0aW9ucyBhdCBmaXJzdCBjb21tYW5kLWFyZ3VtZW50LlxuICAgICAgaWYgKHRoaXMuX3Bhc3NUaHJvdWdoT3B0aW9ucykge1xuICAgICAgICBkZXN0LnB1c2goYXJnKTtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMCkgZGVzdC5wdXNoKC4uLmFyZ3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgLy8gYWRkIGFyZ1xuICAgICAgZGVzdC5wdXNoKGFyZyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgb3BlcmFuZHMsIHVua25vd24gfTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGFuIG9iamVjdCBjb250YWluaW5nIG9wdGlvbnMgYXMga2V5LXZhbHVlIHBhaXJzXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG4gIG9wdHMoKSB7XG4gICAgaWYgKHRoaXMuX3N0b3JlT3B0aW9uc0FzUHJvcGVydGllcykge1xuICAgICAgLy8gUHJlc2VydmUgb3JpZ2luYWwgYmVoYXZpb3VyIHNvIGJhY2t3YXJkcyBjb21wYXRpYmxlIHdoZW4gc3RpbGwgdXNpbmcgcHJvcGVydGllc1xuICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICBjb25zdCBsZW4gPSB0aGlzLm9wdGlvbnMubGVuZ3RoO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMub3B0aW9uc1tpXS5hdHRyaWJ1dGVOYW1lKCk7XG4gICAgICAgIHJlc3VsdFtrZXldID0ga2V5ID09PSB0aGlzLl92ZXJzaW9uT3B0aW9uTmFtZSA/IHRoaXMuX3ZlcnNpb24gOiB0aGlzW2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9vcHRpb25WYWx1ZXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludGVybmFsIGJvdHRsZW5lY2sgZm9yIGhhbmRsaW5nIG9mIHBhcnNpbmcgZXJyb3JzLlxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIF9kaXNwbGF5RXJyb3IoZXhpdENvZGUsIGNvZGUsIG1lc3NhZ2UpIHtcbiAgICB0aGlzLl9vdXRwdXRDb25maWd1cmF0aW9uLm91dHB1dEVycm9yKGAke21lc3NhZ2V9XFxuYCwgdGhpcy5fb3V0cHV0Q29uZmlndXJhdGlvbi53cml0ZUVycik7XG4gICAgdGhpcy5fZXhpdChleGl0Q29kZSwgY29kZSwgbWVzc2FnZSk7XG4gIH1cblxuICAvKipcbiAgICogQXJndW1lbnQgYG5hbWVgIGlzIG1pc3NpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBtaXNzaW5nQXJndW1lbnQobmFtZSkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBgZXJyb3I6IG1pc3NpbmcgcmVxdWlyZWQgYXJndW1lbnQgJyR7bmFtZX0nYDtcbiAgICB0aGlzLl9kaXNwbGF5RXJyb3IoMSwgJ2NvbW1hbmRlci5taXNzaW5nQXJndW1lbnQnLCBtZXNzYWdlKTtcbiAgfTtcblxuICAvKipcbiAgICogYE9wdGlvbmAgaXMgbWlzc2luZyBhbiBhcmd1bWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtPcHRpb259IG9wdGlvblxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgb3B0aW9uTWlzc2luZ0FyZ3VtZW50KG9wdGlvbikge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBgZXJyb3I6IG9wdGlvbiAnJHtvcHRpb24uZmxhZ3N9JyBhcmd1bWVudCBtaXNzaW5nYDtcbiAgICB0aGlzLl9kaXNwbGF5RXJyb3IoMSwgJ2NvbW1hbmRlci5vcHRpb25NaXNzaW5nQXJndW1lbnQnLCBtZXNzYWdlKTtcbiAgfTtcblxuICAvKipcbiAgICogYE9wdGlvbmAgZG9lcyBub3QgaGF2ZSBhIHZhbHVlLCBhbmQgaXMgYSBtYW5kYXRvcnkgb3B0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge09wdGlvbn0gb3B0aW9uXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBtaXNzaW5nTWFuZGF0b3J5T3B0aW9uVmFsdWUob3B0aW9uKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGBlcnJvcjogcmVxdWlyZWQgb3B0aW9uICcke29wdGlvbi5mbGFnc30nIG5vdCBzcGVjaWZpZWRgO1xuICAgIHRoaXMuX2Rpc3BsYXlFcnJvcigxLCAnY29tbWFuZGVyLm1pc3NpbmdNYW5kYXRvcnlPcHRpb25WYWx1ZScsIG1lc3NhZ2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVbmtub3duIG9wdGlvbiBgZmxhZ2AuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmbGFnXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICB1bmtub3duT3B0aW9uKGZsYWcpIHtcbiAgICBpZiAodGhpcy5fYWxsb3dVbmtub3duT3B0aW9uKSByZXR1cm47XG4gICAgY29uc3QgbWVzc2FnZSA9IGBlcnJvcjogdW5rbm93biBvcHRpb24gJyR7ZmxhZ30nYDtcbiAgICB0aGlzLl9kaXNwbGF5RXJyb3IoMSwgJ2NvbW1hbmRlci51bmtub3duT3B0aW9uJywgbWVzc2FnZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEV4Y2VzcyBhcmd1bWVudHMsIG1vcmUgdGhhbiBleHBlY3RlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gcmVjZWl2ZWRBcmdzXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBfZXhjZXNzQXJndW1lbnRzKHJlY2VpdmVkQXJncykge1xuICAgIGlmICh0aGlzLl9hbGxvd0V4Y2Vzc0FyZ3VtZW50cykgcmV0dXJuO1xuXG4gICAgY29uc3QgZXhwZWN0ZWQgPSB0aGlzLl9hcmdzLmxlbmd0aDtcbiAgICBjb25zdCBzID0gKGV4cGVjdGVkID09PSAxKSA/ICcnIDogJ3MnO1xuICAgIGNvbnN0IGZvclN1YmNvbW1hbmQgPSB0aGlzLnBhcmVudCA/IGAgZm9yICcke3RoaXMubmFtZSgpfSdgIDogJyc7XG4gICAgY29uc3QgbWVzc2FnZSA9IGBlcnJvcjogdG9vIG1hbnkgYXJndW1lbnRzJHtmb3JTdWJjb21tYW5kfS4gRXhwZWN0ZWQgJHtleHBlY3RlZH0gYXJndW1lbnQke3N9IGJ1dCBnb3QgJHtyZWNlaXZlZEFyZ3MubGVuZ3RofS5gO1xuICAgIHRoaXMuX2Rpc3BsYXlFcnJvcigxLCAnY29tbWFuZGVyLmV4Y2Vzc0FyZ3VtZW50cycsIG1lc3NhZ2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVbmtub3duIGNvbW1hbmQuXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICB1bmtub3duQ29tbWFuZCgpIHtcbiAgICBjb25zdCBwYXJ0Q29tbWFuZHMgPSBbdGhpcy5uYW1lKCldO1xuICAgIGZvciAobGV0IHBhcmVudENtZCA9IHRoaXMucGFyZW50OyBwYXJlbnRDbWQ7IHBhcmVudENtZCA9IHBhcmVudENtZC5wYXJlbnQpIHtcbiAgICAgIHBhcnRDb21tYW5kcy51bnNoaWZ0KHBhcmVudENtZC5uYW1lKCkpO1xuICAgIH1cbiAgICBjb25zdCBmdWxsQ29tbWFuZCA9IHBhcnRDb21tYW5kcy5qb2luKCcgJyk7XG4gICAgY29uc3QgbWVzc2FnZSA9IGBlcnJvcjogdW5rbm93biBjb21tYW5kICcke3RoaXMuYXJnc1swXX0nLmAgK1xuICAgICAgKHRoaXMuX2hhc0hlbHBPcHRpb24gPyBgIFNlZSAnJHtmdWxsQ29tbWFuZH0gJHt0aGlzLl9oZWxwTG9uZ0ZsYWd9Jy5gIDogJycpO1xuICAgIHRoaXMuX2Rpc3BsYXlFcnJvcigxLCAnY29tbWFuZGVyLnVua25vd25Db21tYW5kJywgbWVzc2FnZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcHJvZ3JhbSB2ZXJzaW9uIHRvIGBzdHJgLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBhdXRvLXJlZ2lzdGVycyB0aGUgXCItViwgLS12ZXJzaW9uXCIgZmxhZ1xuICAgKiB3aGljaCB3aWxsIHByaW50IHRoZSB2ZXJzaW9uIG51bWJlciB3aGVuIHBhc3NlZC5cbiAgICpcbiAgICogWW91IGNhbiBvcHRpb25hbGx5IHN1cHBseSB0aGUgIGZsYWdzIGFuZCBkZXNjcmlwdGlvbiB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtmbGFnc11cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7dGhpcyB8IHN0cmluZ30gYHRoaXNgIGNvbW1hbmQgZm9yIGNoYWluaW5nLCBvciB2ZXJzaW9uIHN0cmluZyBpZiBubyBhcmd1bWVudHNcbiAgICovXG5cbiAgdmVyc2lvbihzdHIsIGZsYWdzLCBkZXNjcmlwdGlvbikge1xuICAgIGlmIChzdHIgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuX3ZlcnNpb247XG4gICAgdGhpcy5fdmVyc2lvbiA9IHN0cjtcbiAgICBmbGFncyA9IGZsYWdzIHx8ICctViwgLS12ZXJzaW9uJztcbiAgICBkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uIHx8ICdvdXRwdXQgdGhlIHZlcnNpb24gbnVtYmVyJztcbiAgICBjb25zdCB2ZXJzaW9uT3B0aW9uID0gdGhpcy5jcmVhdGVPcHRpb24oZmxhZ3MsIGRlc2NyaXB0aW9uKTtcbiAgICB0aGlzLl92ZXJzaW9uT3B0aW9uTmFtZSA9IHZlcnNpb25PcHRpb24uYXR0cmlidXRlTmFtZSgpO1xuICAgIHRoaXMub3B0aW9ucy5wdXNoKHZlcnNpb25PcHRpb24pO1xuICAgIHRoaXMub24oJ29wdGlvbjonICsgdmVyc2lvbk9wdGlvbi5uYW1lKCksICgpID0+IHtcbiAgICAgIHRoaXMuX291dHB1dENvbmZpZ3VyYXRpb24ud3JpdGVPdXQoYCR7c3RyfVxcbmApO1xuICAgICAgdGhpcy5fZXhpdCgwLCAnY29tbWFuZGVyLnZlcnNpb24nLCBzdHIpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGRlc2NyaXB0aW9uIHRvIGBzdHJgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cl1cbiAgICogQHBhcmFtIHtPYmplY3R9IFthcmdzRGVzY3JpcHRpb25dXG4gICAqIEByZXR1cm4ge3N0cmluZ3xDb21tYW5kfVxuICAgKi9cbiAgZGVzY3JpcHRpb24oc3RyLCBhcmdzRGVzY3JpcHRpb24pIHtcbiAgICBpZiAoc3RyID09PSB1bmRlZmluZWQgJiYgYXJnc0Rlc2NyaXB0aW9uID09PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLl9kZXNjcmlwdGlvbjtcbiAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IHN0cjtcbiAgICB0aGlzLl9hcmdzRGVzY3JpcHRpb24gPSBhcmdzRGVzY3JpcHRpb247XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCBhbiBhbGlhcyBmb3IgdGhlIGNvbW1hbmQuXG4gICAqXG4gICAqIFlvdSBtYXkgY2FsbCBtb3JlIHRoYW4gb25jZSB0byBhZGQgbXVsdGlwbGUgYWxpYXNlcy4gT25seSB0aGUgZmlyc3QgYWxpYXMgaXMgc2hvd24gaW4gdGhlIGF1dG8tZ2VuZXJhdGVkIGhlbHAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbYWxpYXNdXG4gICAqIEByZXR1cm4ge3N0cmluZ3xDb21tYW5kfVxuICAgKi9cblxuICBhbGlhcyhhbGlhcykge1xuICAgIGlmIChhbGlhcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5fYWxpYXNlc1swXTsgLy8ganVzdCByZXR1cm4gZmlyc3QsIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuXG4gICAgbGV0IGNvbW1hbmQgPSB0aGlzO1xuICAgIGlmICh0aGlzLmNvbW1hbmRzLmxlbmd0aCAhPT0gMCAmJiB0aGlzLmNvbW1hbmRzW3RoaXMuY29tbWFuZHMubGVuZ3RoIC0gMV0uX2V4ZWN1dGFibGVIYW5kbGVyKSB7XG4gICAgICAvLyBhc3N1bWUgYWRkaW5nIGFsaWFzIGZvciBsYXN0IGFkZGVkIGV4ZWN1dGFibGUgc3ViY29tbWFuZCwgcmF0aGVyIHRoYW4gdGhpc1xuICAgICAgY29tbWFuZCA9IHRoaXMuY29tbWFuZHNbdGhpcy5jb21tYW5kcy5sZW5ndGggLSAxXTtcbiAgICB9XG5cbiAgICBpZiAoYWxpYXMgPT09IGNvbW1hbmQuX25hbWUpIHRocm93IG5ldyBFcnJvcignQ29tbWFuZCBhbGlhcyBjYW5cXCd0IGJlIHRoZSBzYW1lIGFzIGl0cyBuYW1lJyk7XG5cbiAgICBjb21tYW5kLl9hbGlhc2VzLnB1c2goYWxpYXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgYWxpYXNlcyBmb3IgdGhlIGNvbW1hbmQuXG4gICAqXG4gICAqIE9ubHkgdGhlIGZpcnN0IGFsaWFzIGlzIHNob3duIGluIHRoZSBhdXRvLWdlbmVyYXRlZCBoZWxwLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbYWxpYXNlc11cbiAgICogQHJldHVybiB7c3RyaW5nW118Q29tbWFuZH1cbiAgICovXG5cbiAgYWxpYXNlcyhhbGlhc2VzKSB7XG4gICAgLy8gR2V0dGVyIGZvciB0aGUgYXJyYXkgb2YgYWxpYXNlcyBpcyB0aGUgbWFpbiByZWFzb24gZm9yIGhhdmluZyBhbGlhc2VzKCkgaW4gYWRkaXRpb24gdG8gYWxpYXMoKS5cbiAgICBpZiAoYWxpYXNlcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5fYWxpYXNlcztcblxuICAgIGFsaWFzZXMuZm9yRWFjaCgoYWxpYXMpID0+IHRoaXMuYWxpYXMoYWxpYXMpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogU2V0IC8gZ2V0IHRoZSBjb21tYW5kIHVzYWdlIGBzdHJgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cl1cbiAgICogQHJldHVybiB7U3RyaW5nfENvbW1hbmR9XG4gICAqL1xuXG4gIHVzYWdlKHN0cikge1xuICAgIGlmIChzdHIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHRoaXMuX3VzYWdlKSByZXR1cm4gdGhpcy5fdXNhZ2U7XG5cbiAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzLl9hcmdzLm1hcCgoYXJnKSA9PiB7XG4gICAgICAgIHJldHVybiBodW1hblJlYWRhYmxlQXJnTmFtZShhcmcpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gW10uY29uY2F0KFxuICAgICAgICAodGhpcy5vcHRpb25zLmxlbmd0aCB8fCB0aGlzLl9oYXNIZWxwT3B0aW9uID8gJ1tvcHRpb25zXScgOiBbXSksXG4gICAgICAgICh0aGlzLmNvbW1hbmRzLmxlbmd0aCA/ICdbY29tbWFuZF0nIDogW10pLFxuICAgICAgICAodGhpcy5fYXJncy5sZW5ndGggPyBhcmdzIDogW10pXG4gICAgICApLmpvaW4oJyAnKTtcbiAgICB9XG5cbiAgICB0aGlzLl91c2FnZSA9IHN0cjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogR2V0IG9yIHNldCB0aGUgbmFtZSBvZiB0aGUgY29tbWFuZFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cl1cbiAgICogQHJldHVybiB7c3RyaW5nfENvbW1hbmR9XG4gICAqL1xuXG4gIG5hbWUoc3RyKSB7XG4gICAgaWYgKHN0ciA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9uYW1lID0gc3RyO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gcHJvZ3JhbSBoZWxwIGRvY3VtZW50YXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7eyBlcnJvcjogYm9vbGVhbiB9fSBbY29udGV4dE9wdGlvbnNdIC0gcGFzcyB7ZXJyb3I6dHJ1ZX0gdG8gd3JhcCBmb3Igc3RkZXJyIGluc3RlYWQgb2Ygc3Rkb3V0XG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cbiAgaGVscEluZm9ybWF0aW9uKGNvbnRleHRPcHRpb25zKSB7XG4gICAgY29uc3QgaGVscGVyID0gdGhpcy5jcmVhdGVIZWxwKCk7XG4gICAgaWYgKGhlbHBlci5oZWxwV2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgaGVscGVyLmhlbHBXaWR0aCA9IChjb250ZXh0T3B0aW9ucyAmJiBjb250ZXh0T3B0aW9ucy5lcnJvcikgPyB0aGlzLl9vdXRwdXRDb25maWd1cmF0aW9uLmdldEVyckhlbHBXaWR0aCgpIDogdGhpcy5fb3V0cHV0Q29uZmlndXJhdGlvbi5nZXRPdXRIZWxwV2lkdGgoKTtcbiAgICB9XG4gICAgcmV0dXJuIGhlbHBlci5mb3JtYXRIZWxwKHRoaXMsIGhlbHBlcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBfZ2V0SGVscENvbnRleHQoY29udGV4dE9wdGlvbnMpIHtcbiAgICBjb250ZXh0T3B0aW9ucyA9IGNvbnRleHRPcHRpb25zIHx8IHt9O1xuICAgIGNvbnN0IGNvbnRleHQgPSB7IGVycm9yOiAhIWNvbnRleHRPcHRpb25zLmVycm9yIH07XG4gICAgbGV0IHdyaXRlO1xuICAgIGlmIChjb250ZXh0LmVycm9yKSB7XG4gICAgICB3cml0ZSA9IChhcmcpID0+IHRoaXMuX291dHB1dENvbmZpZ3VyYXRpb24ud3JpdGVFcnIoYXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd3JpdGUgPSAoYXJnKSA9PiB0aGlzLl9vdXRwdXRDb25maWd1cmF0aW9uLndyaXRlT3V0KGFyZyk7XG4gICAgfVxuICAgIGNvbnRleHQud3JpdGUgPSBjb250ZXh0T3B0aW9ucy53cml0ZSB8fCB3cml0ZTtcbiAgICBjb250ZXh0LmNvbW1hbmQgPSB0aGlzO1xuICAgIHJldHVybiBjb250ZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIE91dHB1dCBoZWxwIGluZm9ybWF0aW9uIGZvciB0aGlzIGNvbW1hbmQuXG4gICAqXG4gICAqIE91dHB1dHMgYnVpbHQtaW4gaGVscCwgYW5kIGN1c3RvbSB0ZXh0IGFkZGVkIHVzaW5nIGAuYWRkSGVscFRleHQoKWAuXG4gICAqXG4gICAqIEBwYXJhbSB7eyBlcnJvcjogYm9vbGVhbiB9IHwgRnVuY3Rpb259IFtjb250ZXh0T3B0aW9uc10gLSBwYXNzIHtlcnJvcjp0cnVlfSB0byB3cml0ZSB0byBzdGRlcnIgaW5zdGVhZCBvZiBzdGRvdXRcbiAgICovXG5cbiAgb3V0cHV0SGVscChjb250ZXh0T3B0aW9ucykge1xuICAgIGxldCBkZXByZWNhdGVkQ2FsbGJhY2s7XG4gICAgaWYgKHR5cGVvZiBjb250ZXh0T3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZGVwcmVjYXRlZENhbGxiYWNrID0gY29udGV4dE9wdGlvbnM7XG4gICAgICBjb250ZXh0T3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuX2dldEhlbHBDb250ZXh0KGNvbnRleHRPcHRpb25zKTtcblxuICAgIGNvbnN0IGdyb3VwTGlzdGVuZXJzID0gW107XG4gICAgbGV0IGNvbW1hbmQgPSB0aGlzO1xuICAgIHdoaWxlIChjb21tYW5kKSB7XG4gICAgICBncm91cExpc3RlbmVycy5wdXNoKGNvbW1hbmQpOyAvLyBvcmRlcmVkIGZyb20gY3VycmVudCBjb21tYW5kIHRvIHJvb3RcbiAgICAgIGNvbW1hbmQgPSBjb21tYW5kLnBhcmVudDtcbiAgICB9XG5cbiAgICBncm91cExpc3RlbmVycy5zbGljZSgpLnJldmVyc2UoKS5mb3JFYWNoKGNvbW1hbmQgPT4gY29tbWFuZC5lbWl0KCdiZWZvcmVBbGxIZWxwJywgY29udGV4dCkpO1xuICAgIHRoaXMuZW1pdCgnYmVmb3JlSGVscCcsIGNvbnRleHQpO1xuXG4gICAgbGV0IGhlbHBJbmZvcm1hdGlvbiA9IHRoaXMuaGVscEluZm9ybWF0aW9uKGNvbnRleHQpO1xuICAgIGlmIChkZXByZWNhdGVkQ2FsbGJhY2spIHtcbiAgICAgIGhlbHBJbmZvcm1hdGlvbiA9IGRlcHJlY2F0ZWRDYWxsYmFjayhoZWxwSW5mb3JtYXRpb24pO1xuICAgICAgaWYgKHR5cGVvZiBoZWxwSW5mb3JtYXRpb24gIT09ICdzdHJpbmcnICYmICFCdWZmZXIuaXNCdWZmZXIoaGVscEluZm9ybWF0aW9uKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ291dHB1dEhlbHAgY2FsbGJhY2sgbXVzdCByZXR1cm4gYSBzdHJpbmcgb3IgYSBCdWZmZXInKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29udGV4dC53cml0ZShoZWxwSW5mb3JtYXRpb24pO1xuXG4gICAgdGhpcy5lbWl0KHRoaXMuX2hlbHBMb25nRmxhZyk7IC8vIGRlcHJlY2F0ZWRcbiAgICB0aGlzLmVtaXQoJ2FmdGVySGVscCcsIGNvbnRleHQpO1xuICAgIGdyb3VwTGlzdGVuZXJzLmZvckVhY2goY29tbWFuZCA9PiBjb21tYW5kLmVtaXQoJ2FmdGVyQWxsSGVscCcsIGNvbnRleHQpKTtcbiAgfTtcblxuICAvKipcbiAgICogWW91IGNhbiBwYXNzIGluIGZsYWdzIGFuZCBhIGRlc2NyaXB0aW9uIHRvIG92ZXJyaWRlIHRoZSBoZWxwXG4gICAqIGZsYWdzIGFuZCBoZWxwIGRlc2NyaXB0aW9uIGZvciB5b3VyIGNvbW1hbmQuIFBhc3MgaW4gZmFsc2UgdG9cbiAgICogZGlzYWJsZSB0aGUgYnVpbHQtaW4gaGVscCBvcHRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgYm9vbGVhbn0gW2ZsYWdzXVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHtDb21tYW5kfSBgdGhpc2AgY29tbWFuZCBmb3IgY2hhaW5pbmdcbiAgICovXG5cbiAgaGVscE9wdGlvbihmbGFncywgZGVzY3JpcHRpb24pIHtcbiAgICBpZiAodHlwZW9mIGZsYWdzID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHRoaXMuX2hhc0hlbHBPcHRpb24gPSBmbGFncztcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0aGlzLl9oZWxwRmxhZ3MgPSBmbGFncyB8fCB0aGlzLl9oZWxwRmxhZ3M7XG4gICAgdGhpcy5faGVscERlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24gfHwgdGhpcy5faGVscERlc2NyaXB0aW9uO1xuXG4gICAgY29uc3QgaGVscEZsYWdzID0gX3BhcnNlT3B0aW9uRmxhZ3ModGhpcy5faGVscEZsYWdzKTtcbiAgICB0aGlzLl9oZWxwU2hvcnRGbGFnID0gaGVscEZsYWdzLnNob3J0RmxhZztcbiAgICB0aGlzLl9oZWxwTG9uZ0ZsYWcgPSBoZWxwRmxhZ3MubG9uZ0ZsYWc7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogT3V0cHV0IGhlbHAgaW5mb3JtYXRpb24gYW5kIGV4aXQuXG4gICAqXG4gICAqIE91dHB1dHMgYnVpbHQtaW4gaGVscCwgYW5kIGN1c3RvbSB0ZXh0IGFkZGVkIHVzaW5nIGAuYWRkSGVscFRleHQoKWAuXG4gICAqXG4gICAqIEBwYXJhbSB7eyBlcnJvcjogYm9vbGVhbiB9fSBbY29udGV4dE9wdGlvbnNdIC0gcGFzcyB7ZXJyb3I6dHJ1ZX0gdG8gd3JpdGUgdG8gc3RkZXJyIGluc3RlYWQgb2Ygc3Rkb3V0XG4gICAqL1xuXG4gIGhlbHAoY29udGV4dE9wdGlvbnMpIHtcbiAgICB0aGlzLm91dHB1dEhlbHAoY29udGV4dE9wdGlvbnMpO1xuICAgIGxldCBleGl0Q29kZSA9IHByb2Nlc3MuZXhpdENvZGUgfHwgMDtcbiAgICBpZiAoZXhpdENvZGUgPT09IDAgJiYgY29udGV4dE9wdGlvbnMgJiYgdHlwZW9mIGNvbnRleHRPcHRpb25zICE9PSAnZnVuY3Rpb24nICYmIGNvbnRleHRPcHRpb25zLmVycm9yKSB7XG4gICAgICBleGl0Q29kZSA9IDE7XG4gICAgfVxuICAgIC8vIG1lc3NhZ2U6IGRvIG5vdCBoYXZlIGFsbCBkaXNwbGF5ZWQgdGV4dCBhdmFpbGFibGUgc28gb25seSBwYXNzaW5nIHBsYWNlaG9sZGVyLlxuICAgIHRoaXMuX2V4aXQoZXhpdENvZGUsICdjb21tYW5kZXIuaGVscCcsICcob3V0cHV0SGVscCknKTtcbiAgfTtcblxuICAvKipcbiAgICogQWRkIGFkZGl0aW9uYWwgdGV4dCB0byBiZSBkaXNwbGF5ZWQgd2l0aCB0aGUgYnVpbHQtaW4gaGVscC5cbiAgICpcbiAgICogUG9zaXRpb24gaXMgJ2JlZm9yZScgb3IgJ2FmdGVyJyB0byBhZmZlY3QganVzdCB0aGlzIGNvbW1hbmQsXG4gICAqIGFuZCAnYmVmb3JlQWxsJyBvciAnYWZ0ZXJBbGwnIHRvIGFmZmVjdCB0aGlzIGNvbW1hbmQgYW5kIGFsbCBpdHMgc3ViY29tbWFuZHMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwb3NpdGlvbiAtIGJlZm9yZSBvciBhZnRlciBidWlsdC1pbiBoZWxwXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgRnVuY3Rpb259IHRleHQgLSBzdHJpbmcgdG8gYWRkLCBvciBhIGZ1bmN0aW9uIHJldHVybmluZyBhIHN0cmluZ1xuICAgKiBAcmV0dXJuIHtDb21tYW5kfSBgdGhpc2AgY29tbWFuZCBmb3IgY2hhaW5pbmdcbiAgICovXG4gIGFkZEhlbHBUZXh0KHBvc2l0aW9uLCB0ZXh0KSB7XG4gICAgY29uc3QgYWxsb3dlZFZhbHVlcyA9IFsnYmVmb3JlQWxsJywgJ2JlZm9yZScsICdhZnRlcicsICdhZnRlckFsbCddO1xuICAgIGlmICghYWxsb3dlZFZhbHVlcy5pbmNsdWRlcyhwb3NpdGlvbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB2YWx1ZSBmb3IgcG9zaXRpb24gdG8gYWRkSGVscFRleHQuXG5FeHBlY3Rpbmcgb25lIG9mICcke2FsbG93ZWRWYWx1ZXMuam9pbihcIicsICdcIil9J2ApO1xuICAgIH1cbiAgICBjb25zdCBoZWxwRXZlbnQgPSBgJHtwb3NpdGlvbn1IZWxwYDtcbiAgICB0aGlzLm9uKGhlbHBFdmVudCwgKGNvbnRleHQpID0+IHtcbiAgICAgIGxldCBoZWxwU3RyO1xuICAgICAgaWYgKHR5cGVvZiB0ZXh0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGhlbHBTdHIgPSB0ZXh0KHsgZXJyb3I6IGNvbnRleHQuZXJyb3IsIGNvbW1hbmQ6IGNvbnRleHQuY29tbWFuZCB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhlbHBTdHIgPSB0ZXh0O1xuICAgICAgfVxuICAgICAgLy8gSWdub3JlIGZhbHN5IHZhbHVlIHdoZW4gbm90aGluZyB0byBvdXRwdXQuXG4gICAgICBpZiAoaGVscFN0cikge1xuICAgICAgICBjb250ZXh0LndyaXRlKGAke2hlbHBTdHJ9XFxuYCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cbi8qKlxuICogRXhwb3NlIHRoZSByb290IGNvbW1hbmQuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gbmV3IENvbW1hbmQoKTtcbmV4cG9ydHMucHJvZ3JhbSA9IGV4cG9ydHM7IC8vIE1vcmUgZXhwbGljaXQgYWNjZXNzIHRvIGdsb2JhbCBjb21tYW5kLlxuXG4vKipcbiAqIEV4cG9zZSBjbGFzc2VzXG4gKi9cblxuZXhwb3J0cy5Db21tYW5kID0gQ29tbWFuZDtcbmV4cG9ydHMuT3B0aW9uID0gT3B0aW9uO1xuZXhwb3J0cy5Db21tYW5kZXJFcnJvciA9IENvbW1hbmRlckVycm9yO1xuZXhwb3J0cy5JbnZhbGlkT3B0aW9uQXJndW1lbnRFcnJvciA9IEludmFsaWRPcHRpb25Bcmd1bWVudEVycm9yO1xuZXhwb3J0cy5IZWxwID0gSGVscDtcblxuLyoqXG4gKiBDYW1lbC1jYXNlIHRoZSBnaXZlbiBgZmxhZ2BcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZmxhZ1xuICogQHJldHVybiB7c3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gY2FtZWxjYXNlKGZsYWcpIHtcbiAgcmV0dXJuIGZsYWcuc3BsaXQoJy0nKS5yZWR1Y2UoKHN0ciwgd29yZCkgPT4ge1xuICAgIHJldHVybiBzdHIgKyB3b3JkWzBdLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBPdXRwdXQgaGVscCBpbmZvcm1hdGlvbiBpZiBoZWxwIGZsYWdzIHNwZWNpZmllZFxuICpcbiAqIEBwYXJhbSB7Q29tbWFuZH0gY21kIC0gY29tbWFuZCB0byBvdXRwdXQgaGVscCBmb3JcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgLSBhcnJheSBvZiBvcHRpb25zIHRvIHNlYXJjaCBmb3IgaGVscCBmbGFnc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gb3V0cHV0SGVscElmUmVxdWVzdGVkKGNtZCwgYXJncykge1xuICBjb25zdCBoZWxwT3B0aW9uID0gY21kLl9oYXNIZWxwT3B0aW9uICYmIGFyZ3MuZmluZChhcmcgPT4gYXJnID09PSBjbWQuX2hlbHBMb25nRmxhZyB8fCBhcmcgPT09IGNtZC5faGVscFNob3J0RmxhZyk7XG4gIGlmIChoZWxwT3B0aW9uKSB7XG4gICAgY21kLm91dHB1dEhlbHAoKTtcbiAgICAvLyAoRG8gbm90IGhhdmUgYWxsIGRpc3BsYXllZCB0ZXh0IGF2YWlsYWJsZSBzbyBvbmx5IHBhc3NpbmcgcGxhY2Vob2xkZXIuKVxuICAgIGNtZC5fZXhpdCgwLCAnY29tbWFuZGVyLmhlbHBEaXNwbGF5ZWQnLCAnKG91dHB1dEhlbHApJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBUYWtlcyBhbiBhcmd1bWVudCBhbmQgcmV0dXJucyBpdHMgaHVtYW4gcmVhZGFibGUgZXF1aXZhbGVudCBmb3IgaGVscCB1c2FnZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYXJnXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBodW1hblJlYWRhYmxlQXJnTmFtZShhcmcpIHtcbiAgY29uc3QgbmFtZU91dHB1dCA9IGFyZy5uYW1lICsgKGFyZy52YXJpYWRpYyA9PT0gdHJ1ZSA/ICcuLi4nIDogJycpO1xuXG4gIHJldHVybiBhcmcucmVxdWlyZWRcbiAgICA/ICc8JyArIG5hbWVPdXRwdXQgKyAnPidcbiAgICA6ICdbJyArIG5hbWVPdXRwdXQgKyAnXSc7XG59XG5cbi8qKlxuICogUGFyc2UgdGhlIHNob3J0IGFuZCBsb25nIGZsYWcgb3V0IG9mIHNvbWV0aGluZyBsaWtlICctbSwtLW1peGVkIDx2YWx1ZT4nXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gX3BhcnNlT3B0aW9uRmxhZ3MoZmxhZ3MpIHtcbiAgbGV0IHNob3J0RmxhZztcbiAgbGV0IGxvbmdGbGFnO1xuICAvLyBVc2Ugb3JpZ2luYWwgdmVyeSBsb29zZSBwYXJzaW5nIHRvIG1haW50YWluIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGZvciBub3csXG4gIC8vIHdoaWNoIGFsbG93ZWQgZm9yIGV4YW1wbGUgdW5pbnRlbmRlZCBgLXN3LCAtLXNob3J0LXdvcmRgIFtzaWNdLlxuICBjb25zdCBmbGFnUGFydHMgPSBmbGFncy5zcGxpdCgvWyB8LF0rLyk7XG4gIGlmIChmbGFnUGFydHMubGVuZ3RoID4gMSAmJiAhL15bWzxdLy50ZXN0KGZsYWdQYXJ0c1sxXSkpIHNob3J0RmxhZyA9IGZsYWdQYXJ0cy5zaGlmdCgpO1xuICBsb25nRmxhZyA9IGZsYWdQYXJ0cy5zaGlmdCgpO1xuICAvLyBBZGQgc3VwcG9ydCBmb3IgbG9uZSBzaG9ydCBmbGFnIHdpdGhvdXQgc2lnbmlmaWNhbnRseSBjaGFuZ2luZyBwYXJzaW5nIVxuICBpZiAoIXNob3J0RmxhZyAmJiAvXi1bXi1dJC8udGVzdChsb25nRmxhZykpIHtcbiAgICBzaG9ydEZsYWcgPSBsb25nRmxhZztcbiAgICBsb25nRmxhZyA9IHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4geyBzaG9ydEZsYWcsIGxvbmdGbGFnIH07XG59XG5cbi8qKlxuICogU2NhbiBhcmd1bWVudHMgYW5kIGluY3JlbWVudCBwb3J0IG51bWJlciBmb3IgaW5zcGVjdCBjYWxscyAodG8gYXZvaWQgY29uZmxpY3RzIHdoZW4gc3Bhd25pbmcgbmV3IGNvbW1hbmQpLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nW119IGFyZ3MgLSBhcnJheSBvZiBhcmd1bWVudHMgZnJvbSBub2RlLmV4ZWNBcmd2XG4gKiBAcmV0dXJucyB7c3RyaW5nW119XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBpbmNyZW1lbnROb2RlSW5zcGVjdG9yUG9ydChhcmdzKSB7XG4gIC8vIFRlc3RpbmcgZm9yIHRoZXNlIG9wdGlvbnM6XG4gIC8vICAtLWluc3BlY3RbPVtob3N0Ol1wb3J0XVxuICAvLyAgLS1pbnNwZWN0LWJya1s9W2hvc3Q6XXBvcnRdXG4gIC8vICAtLWluc3BlY3QtcG9ydD1baG9zdDpdcG9ydFxuICByZXR1cm4gYXJncy5tYXAoKGFyZykgPT4ge1xuICAgIGlmICghYXJnLnN0YXJ0c1dpdGgoJy0taW5zcGVjdCcpKSB7XG4gICAgICByZXR1cm4gYXJnO1xuICAgIH1cbiAgICBsZXQgZGVidWdPcHRpb247XG4gICAgbGV0IGRlYnVnSG9zdCA9ICcxMjcuMC4wLjEnO1xuICAgIGxldCBkZWJ1Z1BvcnQgPSAnOTIyOSc7XG4gICAgbGV0IG1hdGNoO1xuICAgIGlmICgobWF0Y2ggPSBhcmcubWF0Y2goL14oLS1pbnNwZWN0KC1icmspPykkLykpICE9PSBudWxsKSB7XG4gICAgICAvLyBlLmcuIC0taW5zcGVjdFxuICAgICAgZGVidWdPcHRpb24gPSBtYXRjaFsxXTtcbiAgICB9IGVsc2UgaWYgKChtYXRjaCA9IGFyZy5tYXRjaCgvXigtLWluc3BlY3QoLWJya3wtcG9ydCk/KT0oW146XSspJC8pKSAhPT0gbnVsbCkge1xuICAgICAgZGVidWdPcHRpb24gPSBtYXRjaFsxXTtcbiAgICAgIGlmICgvXlxcZCskLy50ZXN0KG1hdGNoWzNdKSkge1xuICAgICAgICAvLyBlLmcuIC0taW5zcGVjdD0xMjM0XG4gICAgICAgIGRlYnVnUG9ydCA9IG1hdGNoWzNdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZS5nLiAtLWluc3BlY3Q9bG9jYWxob3N0XG4gICAgICAgIGRlYnVnSG9zdCA9IG1hdGNoWzNdO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoKG1hdGNoID0gYXJnLm1hdGNoKC9eKC0taW5zcGVjdCgtYnJrfC1wb3J0KT8pPShbXjpdKyk6KFxcZCspJC8pKSAhPT0gbnVsbCkge1xuICAgICAgLy8gZS5nLiAtLWluc3BlY3Q9bG9jYWxob3N0OjEyMzRcbiAgICAgIGRlYnVnT3B0aW9uID0gbWF0Y2hbMV07XG4gICAgICBkZWJ1Z0hvc3QgPSBtYXRjaFszXTtcbiAgICAgIGRlYnVnUG9ydCA9IG1hdGNoWzRdO1xuICAgIH1cblxuICAgIGlmIChkZWJ1Z09wdGlvbiAmJiBkZWJ1Z1BvcnQgIT09ICcwJykge1xuICAgICAgcmV0dXJuIGAke2RlYnVnT3B0aW9ufT0ke2RlYnVnSG9zdH06JHtwYXJzZUludChkZWJ1Z1BvcnQpICsgMX1gO1xuICAgIH1cbiAgICByZXR1cm4gYXJnO1xuICB9KTtcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuX193ZWJwYWNrX3JlcXVpcmVfXy5jID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fO1xuXG4iLCIiLCIvLyBtb2R1bGUgY2FjaGUgYXJlIHVzZWQgc28gZW50cnkgaW5saW5pbmcgaXMgZGlzYWJsZWRcbi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9saWIvaW5kZXgudHNcIik7XG4iLCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=